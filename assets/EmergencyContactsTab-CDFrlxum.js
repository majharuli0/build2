import{r as c,bG as u,j as e,_ as p,gF as b,J as h,gG as j,aC as m,aD as g,a_ as f,gH as y,gI as C,gj as N,gJ as w,aB as v,gK as _}from"./index-BBnnZ3n6.js";import{C as E}from"./CreateAndEditModal-0DntNOka.js";import"./index-cQ0IcjQk.js";import"./leaflet-src-CFqf6Jb_.js";import"./leaflet-BAr-bYZj.js";import"./HomeOutlined-aFKHrvq1.js";import"./InfoCircleOutlined-CdhVA1Sb.js";try{let t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},s=new t.Error().stack;s&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[s]="2db3ec96-3852-4496-aef9-ea82514be496",t._sentryDebugIdIdentifier="sentry-dbid-2db3ec96-3852-4496-aef9-ea82514be496")}catch{}function S(){var i,r;const{elderlyDetails:t,getElderlyDetails:s}=c.useContext(u),[x,o]=c.useState(!1),d=n=>{j({id:t==null?void 0:t._id,data:n}).then(l=>{m.custom(a=>e.jsx(g,{t:a,text:"Contact Number Added Successfully!"})),s()}).catch(l=>{m.custom(a=>e.jsx(f,{t:a,title:"Error",text:l.message}))})};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col gap-4 mt-6",children:[e.jsxs("div",{className:"flex justify-between items-center ",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Trusted Contacts"}),e.jsxs(p,{onClick:()=>o(!0),size:"large",className:"bg-white !text-primary px-4 py-2 rounded-lg hover:!bg-primary/5 flex items-center gap-2",children:[e.jsx(b,{size:20}),"Add New Contact"]})]}),((i=t==null?void 0:t.emergency_contacts)==null?void 0:i.length)>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 w-full",children:(r=t==null?void 0:t.emergency_contacts)==null?void 0:r.map(n=>e.jsx(M,{contact:n},n.id))}):e.jsx("div",{className:"w-full flex items-center justify-center",children:e.jsx(h,{description:"No contact number available to show"})})]}),e.jsx(E,{modalOpen:x,setModalOpen:o,type:"contact",onSubmitData:d})]})}const M=({contact:t})=>{var r;const{elderlyDetails:s,getElderlyDetails:x}=c.useContext(u),[o,d]=c.useState(!1),i=n=>{_({id:s==null?void 0:s._id,emergencyContactId:n}).then(l=>{m.custom(a=>e.jsx(g,{t:a,text:"Contact Number Deleted Successfully!"})),x()}).catch(l=>{m.custom(a=>e.jsx(f,{t:a,title:"Error",text:l.message}))})};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex  bg-white p-4 rounded-lg items-center gap-8 justify-between",children:e.jsxs("div",{className:"flex flex-col gap-1 cursor-pointer transition-shadow animate-fadeIn !w-full",children:[e.jsxs("div",{className:"flex items-center gap-4 w-full",children:[((r=t==null?void 0:t.gender)==null?void 0:r.toLowerCase())=="male"?e.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center text-white text-xl",children:e.jsx(y,{})}):e.jsx("div",{className:"w-10 h-10 bg-orange-600 rounded-full flex items-center justify-center text-white text-xl",children:e.jsx(C,{})}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("p",{className:"font-semibold text-gray-900 text-[20px] !leading-none",children:t.contact_person}),e.jsx("p",{className:"text-gray-600 text-base m-0 !leading-none",children:t.relationship||"Relation"})]})]}),e.jsxs("p",{className:"text-base text-gray-600 mt-1 pl-4",children:["Distance Between:"," ",e.jsxs("span",{className:"font-semibold",children:[t.coverage_area||"---","km"]})]}),e.jsxs("div",{className:"mt-3 py-3 border-t-2 border-t-[#F1F5F9] rounded-md text-start text-[20px] font-medium text-gray-800 flex items-center justify-between",children:[e.jsx("span",{children:`${t.contact_number_code}  ${t.contact_number}`}),e.jsx("div",{id:"callbtnManu",children:e.jsxs(N.Button,{menu:{items:[{label:"Remove",key:"1"}],onClick:()=>d(!0)},children:[e.jsx(w,{}),"Call"]})})]})]})}),e.jsx(v,{onDelete:()=>i(t==null?void 0:t._id),modalOPen:o,setModalOpen:d,title:"Are you sure to remove this contact?",title2:"This process cannot be undo.",okText:"Remove Contact"})]})};export{M as EmergencyContactCard,S as default};
//# sourceMappingURL=EmergencyContactsTab-CDFrlxum.js.map
