{"version":3,"file":"index-DP9VkodE.js","sources":["../../src/Pages/Installation/utiles.jsx","../../src/Pages/Installation/index.jsx"],"sourcesContent":["import { Tag } from \"antd\";\r\nimport ReportActionModal from \"@/Components/ReportActionModal/ReportActionModal\";\r\nimport { useState, useEffect, useContext } from \"react\";\r\nimport { ConfigProvider, Select } from \"antd\";\r\nimport {\r\n  updateInstallationStatus,\r\n  activeSubscriptions,\r\n} from \"@/api/ordersManage\";\r\nimport { SidebarContext } from \"@/Context/CustomUsertable\";\r\nimport SuccessModal from \"@/Shared/Success/SuccessModal\";\r\nimport { getUserDetails } from \"@/api/Users\";\r\n\r\nfunction StatusDropdown({ row }) {\r\n  const sharedMethod = useContext(SidebarContext);\r\n  const [status, setStatus] = useState(row?.installation_status);\r\n  const [handleLoading, sethandleLoading] = useState(false);\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  // let status = row?.status\r\n  const handleChange = (value) => {\r\n    if (value === \"completed\") {\r\n      setModalOpen(true);\r\n    } else {\r\n      sethandleLoading(true);\r\n      updateInstallationStatus(row?._id, {\r\n        installation_status: value,\r\n      })\r\n        .then((res) => {\r\n          sharedMethod.getList();\r\n          if (res) {\r\n            setStatus(value);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          setStatus(row?.installation_status);\r\n        })\r\n        .finally(() => {\r\n          sethandleLoading(false);\r\n        });\r\n    }\r\n  };\r\n  const completeChnage = async () => {\r\n    sethandleLoading(true);\r\n    const isAIMonitoring = row?.products.filter(\r\n      (item) => item?.type === \"AI Monitoring\"\r\n    );\r\n    if (isAIMonitoring.length > 0) {\r\n      await getUserDetails({\r\n        id: row?.user_id,\r\n      })\r\n        .then((user) => {\r\n          if (user) {\r\n            activeSubscriptions({\r\n              subscription_id: user?.data?.subscription_id,\r\n              extend_day: \"30\",\r\n            })\r\n              .then(() => {})\r\n              .catch((err) => {\r\n                console.log(err);\r\n              });\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n\r\n    await updateInstallationStatus(row?._id, {\r\n      installation_status: \"completed\",\r\n    })\r\n      .then((res) => {\r\n        sharedMethod.getList();\r\n        if (res) {\r\n          setStatus(\"completed\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setStatus(\"completed\");\r\n      })\r\n      .finally(() => {\r\n        sethandleLoading(false);\r\n      });\r\n  };\r\n  // Update local state if row status changes\r\n  useEffect(() => {\r\n    setStatus(row?.installation_status);\r\n  }, [row?.installation_status]);\r\n  return (\r\n    <div className=\"flex items-center space-x-2 mr-0 \">\r\n      <span\r\n        className={`w-3 h-3 rounded-full relative -right-2 ${\r\n          status === \"completed\"\r\n            ? \"bg-[#1EB564]\"\r\n            : status === \"pending\"\r\n            ? \"bg-yellow-500\"\r\n            : \"bg-red-500\"\r\n        }`}\r\n      ></span>\r\n      {/* Status select dropdown */}\r\n      <ConfigProvider\r\n        theme={{\r\n          token: {\r\n            colorText: \"#707EAE\",\r\n            colorPrimary: \"#8086AC\",\r\n            colorLinkActive: \"#8086AC\",\r\n            colorLinkHover: \"#8086AC\",\r\n            colorLink: \"#8086AC\",\r\n          },\r\n        }}\r\n      >\r\n        <Select\r\n          value={status}\r\n          variant=\"borderless\"\r\n          onChange={handleChange}\r\n          loading={handleLoading}\r\n          optionSelectedColor=\"#8086AC\"\r\n          className=\"w-fit !text-red-100\"\r\n          options={[\r\n            { value: \"completed\", label: <span>Complete</span> },\r\n            { value: \"pending\", label: <span>Pending</span> },\r\n            { value: \"not_started\", label: <span>Not Started</span> },\r\n          ]}\r\n          // disabled={status === \"completed\"}\r\n        />\r\n      </ConfigProvider>\r\n      <SuccessModal\r\n        modalOPen={modalOpen}\r\n        setModalOpen={setModalOpen}\r\n        title={\"\"}\r\n        title2={\r\n          \"Are you sure you want to change the status to 'Completed'? Once confirmed, this action cannot be undone, and user subscription will start immediately from now.\"\r\n        }\r\n        okText=\"Confirm\"\r\n        onOk={() => completeChnage()}\r\n      />\r\n    </div>\r\n  );\r\n}\r\nconst installation = [\r\n  {\r\n    title: \"Installation Status\",\r\n    render: (row) => <StatusDropdown row={row} />,\r\n  },\r\n  {\r\n    title: \"Report\",\r\n    render: (row) => (\r\n      <div className=\"flex justify-center\">\r\n        <ReportActionModal report={row} />\r\n      </div>\r\n    ),\r\n  },\r\n  {\r\n    title: \"Customer Name\",\r\n    render: (row) => {\r\n      return (\r\n        <button>\r\n          <span className=\"text-[14px] xl:text-base font-normal text-text-secondary text-nowrap\">\r\n            {row?.user_name}\r\n          </span>\r\n        </button>\r\n      );\r\n    },\r\n  },\r\n  {\r\n    title: \"Customer Phone Number\",\r\n    render: (row) => {\r\n      return (\r\n        <button>\r\n          <span className=\"text-[14px] xl:text-base font-normal text-text-secondary text-nowrap\">\r\n            {row?.user_phone}\r\n          </span>\r\n        </button>\r\n      );\r\n    },\r\n  },\r\n  {\r\n    title: \"Customer Email\",\r\n    render: (row) => {\r\n      return (\r\n        <button>\r\n          <span className=\"text-[14px] xl:text-base font-normal text-text-secondary text-nowrap\">\r\n            {row?.user_email}\r\n          </span>\r\n        </button>\r\n      );\r\n    },\r\n  },\r\n  {\r\n    title: \"Location\",\r\n    render: (row) => (\r\n      <button>\r\n        <span className=\"text-[14px] xl:text-base font-normal text-text-secondary text-nowrap\">\r\n          {row.address?.line1},{\" \"}\r\n          {row.address?.line2 ? row.address?.line2 + \", \" : \"\"},{\" \"}\r\n          {row.address?.city}, {row.address?.state},{\" \"}\r\n          {row.address ? row.address.postal_code : \" \"}, {row.address?.country}\r\n        </span>\r\n      </button>\r\n    ),\r\n  },\r\n  {\r\n    title: \"Product Name\",\r\n    render: (row) => (\r\n      <button>\r\n        <span className=\"text-[14px] xl:text-base font-normal text-text-secondary flex  gap-2\">\r\n          {/* {row.products.map(\r\n            (item, indx) =>\r\n              [\"Seenyor Kit\", \"Installation\"].includes(item.type) &&\r\n              indx < 2 && <span key={indx}>{item.type}</span>\r\n          )} */}\r\n          {row.products\r\n            .filter((item, indx, self) => {\r\n              const isUniqueSeenyorKit =\r\n                item.type === \"Seenyor Kit\" &&\r\n                self.findIndex((i) => i.type === \"Seenyor Kit\") === indx;\r\n              return (\r\n                !/^AI Sensor/.test(item.type) &&\r\n                (item.type !== \"Seenyor Kit\" || isUniqueSeenyorKit)\r\n              );\r\n            })\r\n            .map((item, indx) => {\r\n              const color =\r\n                item.type === \"Seenyor Kit\"\r\n                  ? \"blue\"\r\n                  : item.type === \"Installation\"\r\n                  ? \"orange\"\r\n                  : \"default\";\r\n              return (\r\n                <Tag key={indx} color={color}>\r\n                  {item.type === \"Seenyor Kit\" ? \"Package\" : item.type}\r\n                </Tag>\r\n              );\r\n            })}\r\n        </span>\r\n      </button>\r\n    ),\r\n  },\r\n  {\r\n    title: \"Product Price\",\r\n    render: (row) => (\r\n      <button>\r\n        <span className=\"text-[14px] xl:text-base font-normal text-text-secondary\">\r\n          $\r\n          {row.products\r\n            .filter((item) =>\r\n              [\"Seenyor Kit\", \"Installation\", \"AI Monitoring\"].includes(\r\n                item.type\r\n              )\r\n            )\r\n            .reduce((total, item) => total + item.price, 0)\r\n            .toFixed(2)}\r\n        </span>\r\n      </button>\r\n    ),\r\n  },\r\n  {\r\n    title: \"Addon Name\",\r\n    render: (row) => (\r\n      <button>\r\n        <span className=\"text-[14px] xl:text-base font-normal text-text-secondary flex gap-2\">\r\n          {/* {row.products.map(\r\n            (item, indx) =>\r\n              ![\"Seenyor Kit\", \"Installation\", \"AI Monitoring\"].includes(\r\n                item.type\r\n              ) && <span key={indx}>{item.type}</span>\r\n          )} */}\r\n          {row.products\r\n            .filter(\r\n              (item) =>\r\n                ![\"Seenyor Kit\", \"Installation\", \"AI Monitoring\"].includes(\r\n                  item.type\r\n                )\r\n            )\r\n            .map((item, indx) => <Tag key={indx}>{item.type}</Tag>).length ===\r\n          0 ? (\r\n            <span>--</span>\r\n          ) : (\r\n            row.products\r\n              .filter(\r\n                (item) =>\r\n                  ![\"Seenyor Kit\", \"Installation\", \"AI Monitoring\"].includes(\r\n                    item.type\r\n                  )\r\n              )\r\n              .map((item, indx) => <Tag key={indx}>{item.type}</Tag>)\r\n          )}\r\n        </span>\r\n      </button>\r\n    ),\r\n  },\r\n  {\r\n    title: \"Addon Price\",\r\n    render: (row) => (\r\n      <button>\r\n        <span className=\"text-[14px] xl:text-base font-normal text-text-secondary text-nowrap\">\r\n          {row.products\r\n            .map((item, indx) =>\r\n              ![\"Seenyor Kit\", \"Installation\", \"AI Monitoring\"].includes(\r\n                item.type\r\n              ) ? (\r\n                <span key={indx}>${item.price.toFixed(2)}</span>\r\n              ) : null\r\n            )\r\n            .filter(Boolean).length === 0 ? (\r\n            <span>--</span>\r\n          ) : (\r\n            row.products.map((item, indx) =>\r\n              ![\"Seenyor Kit\", \"Installation\", \"AI Monitoring\"].includes(\r\n                item.type\r\n              ) ? (\r\n                <span key={indx}>${item.price.toFixed(2)}</span>\r\n              ) : null\r\n            )\r\n          )}\r\n        </span>\r\n      </button>\r\n    ),\r\n  },\r\n  {\r\n    title: \"Total Price\",\r\n    render: (row) => (\r\n      <button>\r\n        <span className=\"text-[14px] xl:text-base font-normal text-text-secondary text-nowrap\">\r\n          ${row.total}\r\n        </span>\r\n      </button>\r\n    ),\r\n  },\r\n  {\r\n    title: \"Date of Sales\",\r\n    render: (row) => {\r\n      const formattedDate = new Date(row.created_at).toLocaleDateString(\r\n        \"en-CA\"\r\n      );\r\n      return (\r\n        <button>\r\n          <span className=\"text-[14px] xl:text-base font-normal text-text-secondary text-nowrap\">\r\n            {formattedDate}\r\n          </span>\r\n        </button>\r\n      );\r\n    },\r\n  },\r\n\r\n  {\r\n    title: \"Payment Status\",\r\n    dataIndex: \"payment_status\",\r\n    key: \"payment_status\",\r\n    filters: [\r\n      { text: \"Completed\", value: \"completed\" },\r\n      { text: \"Pending\", value: \"pending\" },\r\n      { text: \"Cancelled\", value: \"cancelled\" },\r\n    ],\r\n    filterMultiple: true,\r\n    onFilter: (value, record) => record.payment_status.includes(value),\r\n    render: (status) => {\r\n      let color = \"\";\r\n\r\n      switch (status) {\r\n        case \"completed\":\r\n          color = \"green\";\r\n          break;\r\n        case \"pending\":\r\n          color = \"orange\";\r\n          break;\r\n        case \"cancelled\":\r\n          color = \"red\";\r\n          break;\r\n        default:\r\n          color = \"black\";\r\n      }\r\n\r\n      return (\r\n        <span\r\n          style={{\r\n            backgroundColor: color,\r\n            color: \"white\",\r\n            padding: \"4px 8px\",\r\n            borderRadius: \"4px\",\r\n            fontWeight: 500,\r\n            textTransform: \"capitalize\",\r\n          }}\r\n        >\r\n          {status}\r\n        </span>\r\n      );\r\n    },\r\n  },\r\n];\r\n\r\n// Export both arrays\r\nexport { installation };\r\n","import React, { useState, useCallback, useEffect } from \"react\";\r\nimport TabMenus from \"@/Components/TabMenus\";\r\nimport { ConfigProvider } from \"antd\";\r\nimport { SidebarContext } from \"@/Context/CustomUsertable\";\r\nimport CustomTable from \"@/Shared/Table/CustomTable\";\r\nimport { installation } from \"./utiles\";\r\nimport { getInstallationList } from \"@/api/ordersManage\";\r\nexport default function Installation() {\r\n  const [loading, setLoading] = useState(false);\r\n  const [page, SetPage] = useState(1);\r\n  const [total, setTotal] = useState(0);\r\n  const [query, setQuery] = useState({\r\n    installation_status: \"completed\",\r\n    ne: true,\r\n  });\r\n  const [installationList, setInstallationList] = useState([]);\r\n  const [activeTab, setActiveTab] = useState(\"Not Installed\");\r\n  const menus = [{ text: \"Not Installed\" }, { text: \"Installed\" }];\r\n  const getList = useCallback(() => {\r\n    // setLoading(true);\r\n    setLoading(true);\r\n    getInstallationList({ ...query, page })\r\n      .then((res) => {\r\n        setInstallationList(res.data);\r\n        setTotal(res.total);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n      .finally(() => {\r\n        setLoading(false);\r\n      });\r\n  }, [query, page]);\r\n  useEffect(() => {\r\n    getList();\r\n  }, [getList]);\r\n  useEffect(() => {\r\n    if (activeTab === \"Installed\") {\r\n      setQuery({ installation_status: \"completed\" });\r\n    } else {\r\n      setQuery({ installation_status: \"completed\", ne: true });\r\n    }\r\n  }, [activeTab]);\r\n  return (\r\n    <div>\r\n      <div className=\"py-[20px] flex\">\r\n        <TabMenus\r\n          menus={menus}\r\n          activeTab={activeTab}\r\n          setActiveTab={setActiveTab}\r\n        />\r\n      </div>\r\n      <div\r\n        id=\"NewInstallation\"\r\n        className=\"p-[25px] rounded-2xl  bg-white w-full  h-full\"\r\n      >\r\n        <div id=\"ChartHeader\" className=\"w-full flex justify-between mb-8\">\r\n          <h1 className=\"text-[24px] font-bold\">To Be Installed</h1>\r\n          <div id=\"chartController\" className=\"flex gap-4\"></div>\r\n        </div>\r\n        <ConfigProvider\r\n          theme={{\r\n            token: {\r\n              fontFamily: \"Baloo2\",\r\n              colorPrimary: \"#8086AC\",\r\n              colorLinkActive: \"#8086AC\",\r\n              colorLinkHover: \"#8086AC\",\r\n              colorLink: \"#8086AC\",\r\n            },\r\n          }}\r\n        >\r\n          <SidebarContext.Provider\r\n            value={{\r\n              getList,\r\n              total: total,\r\n              page,\r\n              SetPage,\r\n            }}\r\n          >\r\n            <CustomTable\r\n              loading={loading}\r\n              scroll={{ x: 750 }}\r\n              columns={installation}\r\n              tableData={installationList}\r\n            />\r\n          </SidebarContext.Provider>\r\n        </ConfigProvider>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["StatusDropdown","row","sharedMethod","useContext","SidebarContext","status","setStatus","useState","handleLoading","sethandleLoading","modalOpen","setModalOpen","handleChange","value","updateInstallationStatus","res","err","completeChnage","item","getUserDetails","user","activeSubscriptions","_a","useEffect","jsxs","jsx","ConfigProvider","Select","SuccessModal","installation","ReportActionModal","_b","_c","_d","_e","_f","indx","self","isUniqueSeenyorKit","i","color","Tag","total","formattedDate","record","Installation","loading","setLoading","page","SetPage","setTotal","query","setQuery","installationList","setInstallationList","activeTab","setActiveTab","menus","getList","useCallback","getInstallationList","TabMenus","CustomTable"],"mappings":"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"}