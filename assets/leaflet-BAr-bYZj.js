import{l as m}from"./leaflet-src-CFqf6Jb_.js";import{r as o,bd as p,bk as _}from"./index-BBnnZ3n6.js";try{let t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},n=new t.Error().stack;n&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[n]="404185cf-f7c6-4e45-9026-5087167c310d",t._sentryDebugIdIdentifier="sentry-dbid-404185cf-f7c6-4e45-9026-5087167c310d")}catch{}function E(t,n){const e=o.useRef(n);o.useEffect(function(){n!==e.current&&t.attributionControl!=null&&(e.current!=null&&t.attributionControl.removeAttribution(e.current),n!=null&&t.attributionControl.addAttribution(n)),e.current=n},[t,n])}const z=1;function D(t){return Object.freeze({__version:z,map:t})}function j(t,n){return Object.freeze({...t,...n})}const O=o.createContext(null),I=O.Provider;function R(){const t=o.useContext(O);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function N(t){function n(e,r){const{instance:u,context:a}=t(e).current;return o.useImperativeHandle(r,()=>u),e.children==null?null:p.createElement(I,{value:a},e.children)}return o.forwardRef(n)}function S(t){function n(e,r){const[u,a]=o.useState(!1),{instance:c}=t(e,a).current;o.useImperativeHandle(r,()=>c),o.useEffect(function(){u&&c.update()},[c,u,e.children]);const f=c._contentNode;return f?_.createPortal(e.children,f):null}return o.forwardRef(n)}function A(t){function n(e,r){const{instance:u}=t(e).current;return o.useImperativeHandle(r,()=>u),null}return o.forwardRef(n)}function w(t,n){const e=o.useRef();o.useEffect(function(){return n!=null&&t.instance.on(n),e.current=n,function(){e.current!=null&&t.instance.off(e.current),e.current=null}},[t,n])}function v(t,n){const e=t.pane??n.pane;return e?{...t,pane:e}:t}function k(t,n){return function(r,u){const a=R(),c=t(v(r,a),a);return E(a.map,r.attribution),w(c.current,r.eventHandlers),n(c.current,a,r,u),c}}function L(t,n,e){return Object.freeze({instance:t,context:n,container:e})}function b(t,n){return n==null?function(r,u){const a=o.useRef();return a.current||(a.current=t(r,u)),a}:function(r,u){const a=o.useRef();a.current||(a.current=t(r,u));const c=o.useRef(r),{instance:f}=a.current;return o.useEffect(function(){c.current!==r&&(n(f,r,c.current),c.current=r)},[f,r,u]),a}}function V(t,n){o.useEffect(function(){return(n.layerContainer??n.map).addLayer(t.instance),function(){var a;(a=n.layerContainer)==null||a.removeLayer(t.instance),n.map.removeLayer(t.instance)}},[n,t])}function h(t){return function(e){const r=R(),u=t(v(e,r),r);return E(r.map,e.attribution),w(u.current,e.eventHandlers),V(u.current,r),u}}function Z(t,n){const e=b(t,n),r=h(e);return N(r)}function B(t,n){const e=b(t),r=k(e,n);return S(r)}function G(t,n){const e=b(t,n),r=h(e);return A(r)}function U(t,n,e){const{opacity:r,zIndex:u}=n;r!=null&&r!==e.opacity&&t.setOpacity(r),u!=null&&u!==e.zIndex&&t.setZIndex(u)}function C(){return C=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},C.apply(this,arguments)}function X({bounds:t,boundsOptions:n,center:e,children:r,className:u,id:a,placeholder:c,style:f,whenReady:l,zoom:s,...d},P){const[x]=o.useState({className:u,id:a,style:f}),[i,H]=o.useState(null);o.useImperativeHandle(P,()=>(i==null?void 0:i.map)??null,[i]);const M=o.useCallback(g=>{if(g!==null&&i===null){const y=new m.Map(g,d);e!=null&&s!=null?y.setView(e,s):t!=null&&y.fitBounds(t,n),l!=null&&y.whenReady(l),H(D(y))}},[]);o.useEffect(()=>()=>{i==null||i.map.remove()},[i]);const T=i?p.createElement(I,{value:i},r):c??null;return p.createElement("div",C({},x,{ref:M}),T)}const J=o.forwardRef(X),K=Z(function({position:n,...e},r){const u=new m.Marker(n,e);return L(u,j(r,{overlayContainer:u}))},function(n,e,r){e.position!==r.position&&n.setLatLng(e.position),e.icon!=null&&e.icon!==r.icon&&n.setIcon(e.icon),e.zIndexOffset!=null&&e.zIndexOffset!==r.zIndexOffset&&n.setZIndexOffset(e.zIndexOffset),e.opacity!=null&&e.opacity!==r.opacity&&n.setOpacity(e.opacity),n.dragging!=null&&e.draggable!==r.draggable&&(e.draggable===!0?n.dragging.enable():n.dragging.disable())}),Q=B(function(n,e){const r=new m.Popup(n,e.overlayContainer);return L(r,e)},function(n,e,{position:r},u){o.useEffect(function(){const{instance:c}=n;function f(s){s.popup===c&&(c.update(),u(!0))}function l(s){s.popup===c&&u(!1)}return e.map.on({popupopen:f,popupclose:l}),e.overlayContainer==null?(r!=null&&c.setLatLng(r),c.openOn(e.map)):e.overlayContainer.bindPopup(c),function(){var d;e.map.off({popupopen:f,popupclose:l}),(d=e.overlayContainer)==null||d.unbindPopup(),e.map.removeLayer(c)}},[n,e,u,r])}),W=G(function({url:n,...e},r){const u=new m.TileLayer(n,v(e,r));return L(u,r)},function(n,e,r){U(n,e,r);const{url:u}=e;u!=null&&u!==r.url&&n.setUrl(u)});export{J as M,Q as P,W as T,K as a,R as u};
//# sourceMappingURL=leaflet-BAr-bYZj.js.map
