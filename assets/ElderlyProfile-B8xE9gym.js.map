{"version":3,"mappings":"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","names":["SkeletonView","jsx","Skeleton","OverviewTab","lazy","__vitePreload","ReportsTab","SleepTab","HealthTab","EmergencyContactsTab","DevicesTab","ActivityTab","LiveMapTab","CommunicationTab","HealthDataTab","AlertHistoryTab","tabItems","HomeOutlined","MoonOutlined","HeartOutlined","PullRequestOutlined","EnvironmentOutlined","MessageOutlined","DatabaseOutlined","ContactsOutlined","AlertOutlined","MobileOutlined","FileTextOutlined","ElderlyProfile","dailyRepDate","setModalDataList","useContext","SidebarContext","elderlyDetails","setElderlyDetails","useState","sleepData","setSleepData","location","useLocation","navigate","useNavigate","params","useParams","tourOpen","setTourOpen","memoizedTabItems","useMemo","allRefs","setAllRefs","seenTours","setSeenTours","saved","ls","initialTab","activeTab","setActiveTab","tourSteps","setTourSteps","sleepDataLoading","setSleepDataLoading","refsReady","setRefsReady","tourTimeoutRef","useRef","handleRefsUpdate","useCallback","refs","prevRefs","readyTabs","key","tab","prev","newReadyTabs","useEffect","useLayoutEffect","resizeCharts","chart","handleResize","getElderlyDetails","getDetails","res","updatedElderlyDetails","_b","_a","item","_d","_c","subscribesToMqtt","_f","_e","fatchSleepData","_h","_g","dayjs","error","uids","to_date","getSleepData","data","uid","subscribeToMqtt","err","tabListRef","isDragging","setIsDragging","startX","setStartX","scrollLeft","setScrollLeft","isScrollableLeft","setIsScrollableLeft","isScrollableRight","setIsScrollableRight","handleMouseDown","e","handleMouseMove","walk","updateScrollIndicators","handleMouseUp","handleMouseLeave","scrollWidth","clientWidth","buttonStyles","buttonStyles2","jsxs","getActiveTabSteps","handleTourFinish","updatedSeenTours","RefProvider","WebSocketProvider","CustomContext","ConfigProvider","Tabs","props","DefaultTabBar","Suspense","Tour"],"ignoreList":[],"sources":["../../src/Pages/Elderlies/Utiles/Skeleton.jsx","../../src/Pages/Elderlies/tabs.jsx","../../src/Pages/Elderlies/ElderlyProfile.jsx"],"sourcesContent":["import { Skeleton } from \"antd\";\n\nexport default function SkeletonView() {\n  return (\n    <div className=\"h-full w-full mt-6\">\n      <Skeleton />\n    </div>\n  );\n}\n","import {\n  HomeOutlined,\n  MoonOutlined,\n  HeartOutlined,\n  PullRequestOutlined,\n  BarChartOutlined,\n  EnvironmentOutlined,\n  LineChartOutlined,\n  MessageOutlined,\n  DatabaseOutlined,\n  AlertOutlined,\n  ContactsOutlined,\n  MobileOutlined,\n  FileTextOutlined,\n} from \"@ant-design/icons\";\nimport React, {\n  useState,\n  lazy,\n  Suspense,\n  useLayoutEffect,\n  useMemo,\n  useCallback,\n  useEffect,\n  useContext,\n  useRef,\n} from \"react\";\n// Lazy load components\nconst OverviewTab = lazy(() =>\n  import(\"./Components/TabContents/Overview/OverviewTab\")\n);\nconst ReportsTab = lazy(() =>\n  import(\"./Components/TabContents/Reports/ReportsTab\")\n);\nconst SleepTab = lazy(() => import(\"./Components/TabContents/Sleep/SleepTab\"));\nconst HealthTab = lazy(() =>\n  import(\"./Components/TabContents/Health/HealthTab\")\n);\nconst EmergencyContactsTab = lazy(() =>\n  import(\"./Components/TabContents/EmergencyContacts/EmergencyContactsTab\")\n);\nconst DevicesTab = lazy(() =>\n  import(\"./Components/TabContents/Devices/DevicesTab\")\n);\nconst DataAnalyzeTab = lazy(() =>\n  import(\"./Components/TabContents/DataAnalyze/DataAnalyzeTab\")\n);\nconst TrendTab = lazy(() => import(\"./Components/TabContents/Trends/TrendTab\"));\nconst ActivityTab = lazy(() =>\n  import(\"./Components/TabContents/Activity/ActivityTab\")\n);\nconst LiveMapTab = lazy(() =>\n  import(\"./Components/TabContents/LiveMap/LiveMapTab\")\n);\nconst CommunicationTab = lazy(() =>\n  import(\"./Components/TabContents/Communication/CommunicationTab\")\n);\nconst HealthDataTab = lazy(() =>\n  import(\"./Components/TabContents/HealthData/HealthDataTab\")\n);\nconst AlertHistoryTab = lazy(() =>\n  import(\"./Components/TabContents/Alerts/AlertsHistoryTab\")\n);\nexport const tabItems = [\n  {\n    label: \"Overview\",\n    key: \"overview\",\n    icon: <HomeOutlined />,\n    component: <OverviewTab />,\n  },\n  {\n    label: \"Sleep\",\n    key: \"sleep\",\n    icon: <MoonOutlined />,\n    component: <SleepTab />,\n  },\n  {\n    label: \"Wellness Insights\",\n    key: \"health\",\n    icon: <HeartOutlined />,\n    component: <HealthTab />,\n  },\n  {\n    label: \"Activity\",\n    key: \"activity\",\n    icon: <PullRequestOutlined />,\n    component: <ActivityTab />,\n  },\n  // {\n  //   label: \"Data Analyze\",\n  //   key: \"dataAnalyze\",\n  //   icon: <BarChartOutlined />,\n  //   component: <DataAnalyzeTab />,\n  // },\n  {\n    label: \"Live Map\",\n    key: \"liveMap\",\n    icon: <EnvironmentOutlined />,\n    component: <LiveMapTab />,\n  },\n  // {\n  //   label: \"Trends\",\n  //   key: \"trends\",\n  //   icon: <LineChartOutlined />,\n  //   component: <TrendTab />,\n  // },\n  {\n    label: \"Communication\",\n    key: \"communication\",\n    icon: <MessageOutlined />,\n    component: <CommunicationTab />,\n  },\n  {\n    label: \"Personal Records\",\n    key: \"healthData\",\n    icon: <DatabaseOutlined />,\n    component: <HealthDataTab />,\n  },\n  {\n    label: \"Trusted Contacts\",\n    key: \"emergencyContacts\",\n    icon: <ContactsOutlined />,\n    component: <EmergencyContactsTab />,\n  },\n  {\n    label: \"Notifications History\",\n    key: \"alertHistory\",\n    icon: <AlertOutlined />,\n    component: <AlertHistoryTab />,\n  },\n  {\n    label: \"Devices\",\n    key: \"devices\",\n    icon: <MobileOutlined />,\n    component: <DevicesTab />,\n  },\n  {\n    label: \"Reports\",\n    key: \"reports\",\n    icon: <FileTextOutlined />,\n    component: <ReportsTab />,\n  },\n];\n","import React, {\n  useState,\n  lazy,\n  Suspense,\n  useLayoutEffect,\n  useMemo,\n  useCallback,\n  useEffect,\n  useContext,\n  useRef,\n} from \"react\";\nimport { Tabs, ConfigProvider, Tour, Button } from \"antd\";\nimport { useParams } from \"react-router-dom\";\nimport {\n  HomeOutlined,\n  MoonOutlined,\n  HeartOutlined,\n  PullRequestOutlined,\n  BarChartOutlined,\n  EnvironmentOutlined,\n  LineChartOutlined,\n  MessageOutlined,\n  DatabaseOutlined,\n  AlertOutlined,\n  ContactsOutlined,\n  MobileOutlined,\n  FileTextOutlined,\n} from \"@ant-design/icons\";\n\nimport \"./style.css\";\nimport SkeletonView from \"./Utiles/Skeleton\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\n\n// Lazy load components\nconst OverviewTab = lazy(() =>\n  import(\"./Components/TabContents/Overview/OverviewTab\")\n);\nconst ReportsTab = lazy(() =>\n  import(\"./Components/TabContents/Reports/ReportsTab\")\n);\nconst SleepTab = lazy(() => import(\"./Components/TabContents/Sleep/SleepTab\"));\nconst HealthTab = lazy(() =>\n  import(\"./Components/TabContents/Health/HealthTab\")\n);\nconst EmergencyContactsTab = lazy(() =>\n  import(\"./Components/TabContents/EmergencyContacts/EmergencyContactsTab\")\n);\nconst DevicesTab = lazy(() =>\n  import(\"./Components/TabContents/Devices/DevicesTab\")\n);\nconst DataAnalyzeTab = lazy(() =>\n  import(\"./Components/TabContents/DataAnalyze/DataAnalyzeTab\")\n);\nconst TrendTab = lazy(() => import(\"./Components/TabContents/Trends/TrendTab\"));\nconst ActivityTab = lazy(() =>\n  import(\"./Components/TabContents/Activity/ActivityTab\")\n);\nconst LiveMapTab = lazy(() =>\n  import(\"./Components/TabContents/LiveMap/LiveMapTab\")\n);\nconst CommunicationTab = lazy(() =>\n  import(\"./Components/TabContents/Communication/CommunicationTab\")\n);\nconst HealthDataTab = lazy(() =>\n  import(\"./Components/TabContents/HealthData/HealthDataTab\")\n);\nconst AlertHistoryTab = lazy(() =>\n  import(\"./Components/TabContents/Alerts/AlertsHistoryTab\")\n);\nimport ls from \"store2\";\nimport { getSleepData, subscribeToMqtt } from \"@/api/deviceReports\";\nimport { getDetails } from \"@/api/elderly\";\nimport { CustomContext } from \"@/Context/UseCustomContext\";\nimport { SidebarContext } from \"@/Context/CustomContext\";\nimport dayjs from \"dayjs\";\nimport { RefProvider, useRefContext } from \"@/Context/RefContext\";\nimport { getAlertInfoViaEvent } from \"@/utils/helper\";\nimport { speak } from \"@/utils/helper\";\nimport { useNotification } from \"@/Context/useNotification\";\nimport { tabItems } from \"./tabs\";\nimport { WebSocketProvider } from \"@/Context/WebSoketHook\";\nexport default function ElderlyProfile() {\n  const { dailyRepDate, setModalDataList } = useContext(SidebarContext);\n  const [elderlyDetails, setElderlyDetails] = useState({});\n  const [sleepData, setSleepData] = useState([]);\n  const [size, setSize] = useState(\"small\");\n  const location = useLocation();\n  const navigate = useNavigate();\n  const params = useParams();\n  const [tourOpen, setTourOpen] = useState(false);\n  const memoizedTabItems = useMemo(() => tabItems, []);\n  const [allRefs, setAllRefs] = useState({});\n  const [seenTours, setSeenTours] = useState(() => {\n    const saved = ls.get(\"seenTours\");\n    return saved ? saved : {};\n  });\n  const queryParams = useMemo(\n    () => new URLSearchParams(location.search),\n    [location.search]\n  );\n  const initialTab = queryParams.get(\"tab\") || \"overview\";\n  const [activeTab, setActiveTab] = useState(initialTab);\n  const [tourSteps, setTourSteps] = useState({});\n  const [sleepDataLoading, setSleepDataLoading] = useState(true);\n  const [refsReady, setRefsReady] = useState({});\n  const tourTimeoutRef = useRef(null);\n  // Update refs when provided by RefProvider\n  const handleRefsUpdate = useCallback((refs) => {\n    setAllRefs((prevRefs) => {\n      if (prevRefs !== refs) {\n        // Compare references\n        return refs;\n      }\n      return prevRefs;\n    });\n\n    const readyTabs = {};\n    Object.keys(refs).forEach((key) => {\n      if (key.startsWith(\"tab_\") && refs[key].current) {\n        const tab = key.split(\"_\")[1];\n        readyTabs[tab] = true;\n      }\n    });\n\n    setRefsReady((prev) => {\n      const newReadyTabs = { ...prev, ...readyTabs };\n      if (JSON.stringify(newReadyTabs) !== JSON.stringify(prev)) {\n        return newReadyTabs; // Only update if content changes\n      }\n      return prev;\n    });\n  }, []);\n  // Close tour and clear timeout when switching tabs\n  useEffect(() => {\n    setTourOpen(false);\n    document.body.classList.remove(\"no-scroll\"); // Remove scroll lock\n    if (tourTimeoutRef.current) {\n      clearTimeout(tourTimeoutRef.current); // Prevent tour from opening for previous tab\n    }\n  }, [activeTab]);\n\n  // Open tour after a 2-second delay if refs are ready and tour hasn’t been seen\n  useEffect(() => {\n    if (refsReady[activeTab] && !seenTours[activeTab]) {\n      console.log(\"Calling Inside\");\n      console.log(allRefs);\n\n      tourTimeoutRef.current = setTimeout(() => {\n        setTourOpen(true);\n        document.body.classList.add(\"no-scroll\");\n      }, 2000);\n    }\n  }, [activeTab, refsReady[activeTab], seenTours[activeTab]]);\n  const previousPathnameRef = useRef(location.pathname);\n  // const [sleepData, setSleepData] = useState([]);\n  // const elderlyDetails = ls.get(\"elderly_details\");\n  // Define tab items with their associated components and icons\n\n  // Sync URL with activeTab state\n  useLayoutEffect(() => {\n    ls.set(\"activeElderlyTab\", activeTab);\n    navigate(`${location.pathname}?tab=${activeTab}`, { replace: true });\n  }, [activeTab]);\n\n  useEffect(() => {\n    const queryParams = new URLSearchParams(location.search);\n    const tab = queryParams.get(\"tab\");\n    if (tab && tab !== activeTab) {\n      setActiveTab(tab);\n    }\n  }, [location.search]);\n\n  const resizeCharts = useCallback(() => {\n    const charts = document.querySelectorAll(\".echarts\");\n    charts.forEach((chart) => {\n      if (chart && chart.echartsInstance) {\n        chart.echartsInstance.resize();\n      }\n    });\n  }, []);\n\n  useLayoutEffect(() => {\n    const handleResize = () => resizeCharts();\n    window.addEventListener(\"resize\", handleResize);\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, [resizeCharts]);\n\n  //get elderly details\n  const getElderlyDetails = useCallback(() => {\n    getDetails({ id: params.id })\n      .then((res) => {\n        const updatedElderlyDetails = {\n          ...res?.data,\n          // deviceId: \"E598A2CB69C3,\",\n          deviceId:\n            res?.data?.rooms?.length > 0\n              ? res.data.rooms\n                  .filter((item) => item.device_no)\n                  .map((item) => item.device_no)\n                  .join(\",\")\n              : \"\",\n          bedRoomIds:\n            res?.data?.rooms?.length > 0\n              ? res.data.rooms\n                  .filter((item) => item.device_no && item.room_type == 2)\n                  .map((item) => item.device_no)\n                  .join(\",\")\n              : \"\",\n        };\n\n        setElderlyDetails(updatedElderlyDetails);\n        ls.set(\"elderly_details\", updatedElderlyDetails);\n        subscribesToMqtt({\n          uids:\n            res?.data?.rooms?.length > 0\n              ? res.data.rooms\n                  .filter((item) => item.device_no)\n                  .map((item) => item.device_no)\n                  .join(\",\")\n              : \"\",\n        });\n        fatchSleepData({\n          uids:\n            res?.data?.rooms?.length > 0\n              ? res.data.rooms\n                  .filter((item) => item.device_no && item.room_type == 2)\n                  .map((item) => item.device_no)\n                  .join(\",\")\n              : \"\",\n          to_date: dayjs().subtract(1, \"day\").format(\"YYYY-MM-DD\"),\n        });\n      })\n      .catch((error) => {\n        console.log(\"error ==================>\", error);\n        setSleepDataLoading(false);\n      });\n  }, [dailyRepDate]);\n  useEffect(() => {\n    ls.set(\"elderly_details\", []);\n    ls.set(\"sleepData\", []);\n    setSleepDataLoading(true);\n    getElderlyDetails();\n  }, [getElderlyDetails]);\n  function fatchSleepData({ uids, to_date }) {\n    setSleepDataLoading(true);\n    getSleepData({\n      uids: uids,\n      elderly_id: params.id,\n      to_date: dailyRepDate || to_date,\n    })\n      .then((res) => {\n        setSleepData(res?.data);\n        ls.set(\"sleepData\", res?.data);\n        setSleepDataLoading(false);\n      })\n      .catch((error) => {\n        console.log(\"error ==================>\", error);\n        setSleepDataLoading(false);\n      });\n  }\n  const subscribesToMqtt = useCallback(\n    (data) => {\n      const currentPathname = location.pathname;\n      const isElderlyProfile = currentPathname.includes(\n        \"/supporter/elderlies/elderly-profile\"\n      );\n\n      if (isElderlyProfile) {\n        const uids = data?.uids.split(\",\"); // Split the comma-separated string into an array\n\n        uids.forEach((uid) => {\n          subscribeToMqtt({\n            uid: uid,\n            messageType: [\"1\", \"2\", \"3\", \"4\"],\n            topics: {\n              pub: [uid],\n            },\n          })\n            .then((res) => {\n              console.log(`Subscription for UID ${uid}:`, res);\n            })\n            .catch((err) => {\n              console.log(`Error for UID ${uid}:`, err);\n            });\n        });\n      }\n    },\n    [params.id]\n  );\n\n  const tabListRef = useRef(null);\n  const [isDragging, setIsDragging] = useState(false);\n  const [startX, setStartX] = useState(0);\n  const [scrollLeft, setScrollLeft] = useState(0);\n\n  const [isScrollableLeft, setIsScrollableLeft] = useState(false);\n  const [isScrollableRight, setIsScrollableRight] = useState(true);\n\n  const handleMouseDown = (e) => {\n    if (e.button !== 0) return; // Only respond to the left mouse button\n    setIsDragging(true);\n    setStartX(e.pageX - tabListRef.current.offsetLeft);\n    setScrollLeft(tabListRef.current.scrollLeft);\n  };\n\n  const handleMouseMove = (e) => {\n    if (!isDragging) return;\n    e.preventDefault();\n    const x = e.pageX - tabListRef.current.offsetLeft;\n    const walk = (x - startX) * 0.8; // Adjust multiplier for smoothness\n    tabListRef.current.scrollLeft = scrollLeft - walk;\n\n    // Update indicators with requestAnimationFrame for better performance\n    requestAnimationFrame(updateScrollIndicators);\n  };\n\n  const handleMouseUp = () => setIsDragging(false);\n  const handleMouseLeave = () => setIsDragging(false);\n\n  const updateScrollIndicators = () => {\n    if (!tabListRef.current) return;\n    const { scrollLeft, scrollWidth, clientWidth } = tabListRef.current;\n    setIsScrollableLeft(scrollLeft > 0);\n    setIsScrollableRight(scrollLeft + clientWidth < scrollWidth);\n  };\n\n  useEffect(() => {\n    updateScrollIndicators();\n  }, [tabItems]);\n\n  const buttonStyles = {\n    fontSize: \"14px\",\n    padding: \"14px 18px\",\n    borderRadius: \"8px\",\n  };\n  const buttonStyles2 = {\n    fontSize: \"14px\",\n    padding: \"14px 18px\",\n    borderRadius: \"8px\",\n  };\n\n  useEffect(() => {\n    const tourStepsByTab = {\n      overview: [\n        {\n          title: <h1 className=\"text-xl text-primary\">Sleep Overview</h1>,\n          description: (\n            <p className=\"text-base tracking-tight text-primary/80\">\n              Shows sleep-related timestamps like when the person went to bed,\n              fell asleep, and woke up.\n            </p>\n          ),\n          target: () => allRefs.tab_overview_step2?.current,\n          nextButtonProps: {\n            children: \"Next\",\n            style: buttonStyles,\n            size: \"middle\",\n            color: \"default\",\n            variant: \"solid\",\n          },\n        },\n        {\n          title: (\n            <h1 className=\"text-xl text-primary\">Current Health Status</h1>\n          ),\n          description: (\n            <p className=\"text-base tracking-tight text-primary/80\">\n              Displays real-time heart rate and breathing patterns.\n            </p>\n          ),\n          target: () => allRefs.tab_overview_step3?.current,\n          nextButtonProps: {\n            children: \"Next\",\n            style: buttonStyles,\n            size: \"middle\",\n            color: \"default\",\n            variant: \"solid\",\n          },\n          prevButtonProps: {\n            style: buttonStyles2,\n          },\n        },\n        {\n          title: <h1 className=\"text-xl text-primary\">Wellness Score</h1>,\n          description: (\n            <p className=\"text-base tracking-tight text-primary/80\">\n              Displays your overall wellness score based on various health\n              metrics, including activity levels, heart rate, and recovery\n              trends.\n            </p>\n          ),\n          target: () => allRefs.tab_overview_step4?.current,\n          nextButtonProps: {\n            children: \"Next\",\n            style: buttonStyles,\n            size: \"middle\",\n            color: \"default\",\n            variant: \"solid\",\n          },\n          prevButtonProps: {\n            style: buttonStyles2,\n          },\n        },\n        {\n          title: (\n            <h1 className=\"text-xl text-primary\">\n              Sensitivity Indicators & Special Needs\n            </h1>\n          ),\n          description: (\n            <p className=\"text-base tracking-tight text-primary/80\">\n              Provides insights into personal health sensitivities, special\n              needs, and custom health concerns, including specific conditions\n              or risk factors added by the user.\n            </p>\n          ),\n          target: () => allRefs.tab_overview_step5?.current,\n          nextButtonProps: {\n            children: \"Next\",\n            style: buttonStyles,\n            size: \"middle\",\n            color: \"default\",\n            variant: \"solid\",\n          },\n          prevButtonProps: {\n            style: buttonStyles2,\n          },\n        },\n        {\n          title: <h1 className=\"text-xl text-primary\">Sleep Pattern</h1>,\n          description: (\n            <p className=\"text-base tracking-tight text-primary/80\">\n              Visual representation of sleep phases, breathing disruptions, and\n              awakenings.\n            </p>\n          ),\n          target: () => allRefs.tab_overview_step6?.current,\n          nextButtonProps: {\n            children: \"Next\",\n            style: buttonStyles,\n            size: \"middle\",\n            color: \"default\",\n            variant: \"solid\",\n          },\n          prevButtonProps: {\n            style: buttonStyles2,\n          },\n        },\n        {\n          title: <h1 className=\"text-xl text-primary\">Live Room Map</h1>,\n          description: (\n            <p className=\"text-base tracking-tight text-primary/80\">\n              Shows the placement of the bed and other objects within the\n              monitored room and live user activity.\n            </p>\n          ),\n          target: () => allRefs.tab_overview_step7?.current,\n          nextButtonProps: {\n            children: \"Next\",\n            style: buttonStyles,\n            size: \"middle\",\n            color: \"default\",\n            variant: \"solid\",\n          },\n          prevButtonProps: {\n            style: buttonStyles2,\n          },\n        },\n        {\n          title: <h1 className=\"text-xl text-primary\">Upcoming Events</h1>,\n          description: (\n            <p className=\"text-base tracking-tight text-primary/80\">\n              Lists scheduled activities and important dates.\n            </p>\n          ),\n          target: () => allRefs.tab_overview_step8?.current,\n          nextButtonProps: {\n            children: \"Next\",\n            style: buttonStyles,\n            size: \"middle\",\n            color: \"default\",\n            variant: \"solid\",\n          },\n          prevButtonProps: {\n            style: buttonStyles2,\n          },\n        },\n        {\n          title: (\n            <h1 className=\"text-xl text-primary\">Recent Notification Log</h1>\n          ),\n          description: (\n            <p className=\"text-base tracking-tight text-primary/80\">\n              Displays recent alerts and observations related to the elderly's\n              activities.\n            </p>\n          ),\n          target: () => allRefs.tab_overview_step9?.current,\n          nextButtonProps: {\n            children: \"Finish\",\n            style: buttonStyles,\n            size: \"middle\",\n            color: \"default\",\n            variant: \"solid\",\n          },\n          prevButtonProps: {\n            style: buttonStyles2,\n          },\n        },\n      ],\n      sleep: [\n        {\n          title: (\n            <h1 className=\"text-xl text-primary\">Sleep Score & Quality</h1>\n          ),\n          description: (\n            <p className=\"text-base tracking-tight text-primary/80\">\n              Displays an overall sleep score, efficiency, and key quality\n              indicators like the sleep phase index and bed exit frequency.\n            </p>\n          ),\n          target: () => allRefs.tab_sleep_step1?.current,\n          nextButtonProps: {\n            children: \"Next\",\n            style: buttonStyles,\n            size: \"middle\",\n            color: \"default\",\n            variant: \"solid\",\n          },\n          prevButtonProps: {\n            style: buttonStyles2,\n          },\n        },\n        {\n          title: <h1 className=\"text-xl text-primary\">Sleep Timeline</h1>,\n          description: (\n            <p className=\"text-base tracking-tight text-primary/80\">\n              A detailed visual representation of your sleep stages, showing\n              when you were awake, in light sleep, or deep sleep throughout the\n              night.\n            </p>\n          ),\n          target: () => allRefs.tab_sleep_step2?.current,\n          nextButtonProps: {\n            children: \"Next\",\n            style: buttonStyles,\n            size: \"middle\",\n            color: \"default\",\n            variant: \"solid\",\n          },\n          prevButtonProps: {\n            style: buttonStyles2,\n          },\n        },\n        {\n          title: <h1 className=\"text-xl text-primary\">Sleep Events</h1>,\n          description: (\n            <p className=\"text-base tracking-tight text-primary/80\">\n              Tracks key sleep events such as breathing disruptions, deep\n              breathing phases, and other significant occurrences that may\n              impact sleep quality.\n            </p>\n          ),\n          target: () => allRefs.tab_sleep_step3?.current,\n          nextButtonProps: {\n            children: \"Next\",\n            style: buttonStyles,\n            size: \"middle\",\n            color: \"default\",\n            variant: \"solid\",\n          },\n          prevButtonProps: {\n            style: buttonStyles2,\n          },\n        },\n        {\n          title: <h1 className=\"text-xl text-primary\">Sleep Data & Reports</h1>,\n          description: (\n            <p className=\"text-base tracking-tight text-primary/80\">\n              This section provides detailed graphs and charts for sleep\n              duration, quality, disturbances, bed exits, and trends over 30\n              days.\n            </p>\n          ),\n          target: () => allRefs.tab_sleep_step4?.current,\n          nextButtonProps: {\n            children: \"Finish\",\n            style: buttonStyles,\n            size: \"middle\",\n            color: \"default\",\n            variant: \"solid\",\n          },\n          prevButtonProps: {\n            style: buttonStyles2,\n          },\n          mask: false,\n        },\n      ],\n      health: [\n        {\n          title: <h1 className=\"text-xl text-primary\">Wellness Overview</h1>,\n          description: (\n            <p className=\"text-base tracking-tight text-primary/80\">\n              Displays key health indicators, including Pulse Rhythm, Breathing\n              Rhythm, and the total count of Wellness Events.\n            </p>\n          ),\n          target: () => allRefs.tab_health_step1?.current,\n          nextButtonProps: {\n            children: \"Next\",\n            style: buttonStyles,\n            size: \"middle\",\n            color: \"default\",\n            variant: \"solid\",\n          },\n          prevButtonProps: {\n            style: buttonStyles2,\n          },\n        },\n        {\n          title: (\n            <h1 className=\"text-xl text-primary\">\n              Current Heart & Breathing Patterns\n            </h1>\n          ),\n          description: (\n            <p className=\"text-base tracking-tight text-primary/80\">\n              Displays real-time heart rate and breathing patterns, along with\n              today's average, minimum, and maximum values.\n            </p>\n          ),\n          target: () => allRefs.tab_health_step2?.current,\n          nextButtonProps: {\n            children: \"Next\",\n            style: buttonStyles,\n            size: \"middle\",\n            color: \"default\",\n            variant: \"solid\",\n          },\n          prevButtonProps: {\n            style: buttonStyles2,\n          },\n        },\n        {\n          title: (\n            <h1 className=\"text-xl text-primary\"> Breathing Rate Trends</h1>\n          ),\n          description: (\n            <p className=\"text-base tracking-tight text-primary/80\">\n              Displays your breathing rate trends from the past week,\n              highlighting fluctuations and patterns for better insights.\n            </p>\n          ),\n          target: () => allRefs.tab_health_step3?.current,\n          nextButtonProps: {\n            children: \"Next\",\n            style: buttonStyles,\n            size: \"middle\",\n            color: \"default\",\n            variant: \"solid\",\n          },\n          prevButtonProps: {\n            style: buttonStyles2,\n          },\n        },\n        {\n          title: <h1 className=\"text-xl text-primary\">Heart Rate Trends</h1>,\n          description: (\n            <p className=\"text-base tracking-tight text-primary/80\">\n              Provides a summary of your heart rate variations over the last 7\n              days, helping you track patterns and overall wellness.\n            </p>\n          ),\n          target: () => allRefs.tab_health_step4?.current,\n          nextButtonProps: {\n            children: \"Next\",\n            style: buttonStyles,\n            size: \"middle\",\n            color: \"default\",\n            variant: \"solid\",\n          },\n          prevButtonProps: {\n            style: buttonStyles2,\n          },\n        },\n        {\n          title: (\n            <h1 className=\"text-xl text-primary\">\n              {\" \"}\n              Wellness Patterns & Insights\n            </h1>\n          ),\n          description: (\n            <p className=\"text-base tracking-tight text-primary/80\">\n              Visualizes key metrics such as sleep disturbances, stress levels,\n              and other important trends through interactive graphs and reports.\n            </p>\n          ),\n          target: () => allRefs.tab_health_step5?.current,\n          nextButtonProps: {\n            children: \"Finish\",\n            style: buttonStyles,\n            size: \"middle\",\n            color: \"default\",\n            variant: \"solid\",\n          },\n          prevButtonProps: {\n            style: buttonStyles2,\n          },\n          mask: false,\n        },\n      ],\n      activity: [\n        {\n          title: (\n            <h1 className=\"text-xl text-primary\"> Daily Activity Summary</h1>\n          ),\n          description: (\n            <p className=\"text-base tracking-tight text-primary/80\">\n              Displays key metrics such as Indoor Duration, Walking Steps, Skill\n              Time, Walking Speed, and Room Entry/Exit Count.\n            </p>\n          ),\n          target: () => allRefs.tab_activity_step1?.current,\n          nextButtonProps: {\n            children: \"Next\",\n            style: buttonStyles,\n            size: \"middle\",\n            color: \"default\",\n            variant: \"solid\",\n          },\n          prevButtonProps: {\n            style: buttonStyles2,\n          },\n        },\n        {\n          title: (\n            <h1 className=\"text-xl text-primary\"> Daily Routine Trends</h1>\n          ),\n          description: (\n            <p className=\"text-base tracking-tight text-primary/80\">\n              Tracks sleep-related trends such as when you went to bed, fell\n              asleep, woke up, and got up, helping you understand your daily\n              habits.\n            </p>\n          ),\n          target: () => allRefs.tab_activity_step2?.current,\n          nextButtonProps: {\n            children: \"Next\",\n            style: buttonStyles,\n            size: \"middle\",\n            color: \"default\",\n            variant: \"solid\",\n          },\n          prevButtonProps: {\n            style: buttonStyles2,\n          },\n        },\n        {\n          title: <h1 className=\"text-xl text-primary\"> Routine Overview</h1>,\n          description: (\n            <p className=\"text-base tracking-tight text-primary/80\">\n              Displays key routine patterns, including bedtime, wake-up time,\n              and time spent in different activities throughout the day.\n            </p>\n          ),\n          target: () => allRefs.tab_activity_step3?.current,\n          nextButtonProps: {\n            children: \"Next\",\n            style: buttonStyles,\n            size: \"middle\",\n            color: \"default\",\n            variant: \"solid\",\n          },\n          prevButtonProps: {\n            style: buttonStyles2,\n          },\n        },\n        {\n          title: (\n            <h1 className=\"text-xl text-primary\">\n              {\" \"}\n              Walking & Mobility Insights\n            </h1>\n          ),\n          description: (\n            <p className=\"text-base tracking-tight text-primary/80\">\n              Visualizes trends in Walking Steps, Walking Speed, and Room\n              Entry/Exit Frequency over 30 days.\n            </p>\n          ),\n          target: () => allRefs.tab_activity_step4?.current,\n          nextButtonProps: {\n            children: \"Finish\",\n            style: buttonStyles,\n            size: \"middle\",\n            color: \"default\",\n            variant: \"solid\",\n          },\n          placement: \"top\",\n          prevButtonProps: {\n            style: buttonStyles2,\n          },\n          mask: false,\n        },\n      ],\n    };\n    setTourSteps(tourStepsByTab[activeTab] || []);\n  }, [refsReady[activeTab], activeTab]);\n\n  const getActiveTabSteps = () => {\n    if (tourSteps.length > 0) {\n      return tourSteps;\n    } else {\n      return [];\n    }\n  };\n  const handleTourFinish = () => {\n    setTourOpen(false);\n    document.body.classList.remove(\"no-scroll\");\n    const updatedSeenTours = { ...seenTours, [activeTab]: true };\n    setSeenTours(updatedSeenTours);\n    ls.set(\"seenTours\", updatedSeenTours);\n  };\n  return (\n    <div id=\"elderly-profile-tabs\" className=\"rounded-2xl mt-8 relative\">\n      <RefProvider onRefsUpdate={handleRefsUpdate}>\n        <WebSocketProvider deviceId={elderlyDetails.deviceId}>\n          <CustomContext.Provider\n            value={{\n              sleepData,\n              sleepDataLoading,\n              elderlyDetails,\n              getElderlyDetails,\n            }}\n          >\n            <ConfigProvider\n              theme={{\n                token: {\n                  fontFamily: \"Baloo2\",\n                  colorPrimary: \"#252F67\",\n                  colorLinkActive: \"#252F67\",\n                  colorLinkHover: \"#252F67\",\n                  colorLink: \"#252F67\",\n                },\n              }}\n            >\n              {isScrollableLeft && (\n                <div\n                  style={{\n                    position: \"absolute\",\n                    left: 0,\n                    top: 0,\n                    bottom: 0,\n                    width: \"30px\",\n                    background:\n                      \"linear-gradient(to right, white, rgba(255,255,255,0))\",\n                    zIndex: 1,\n                    pointerEvents: \"none\",\n                    borderRadius: \"14px\",\n                    height: \"60px\",\n                  }}\n                />\n              )}\n              {isScrollableRight && (\n                <div\n                  style={{\n                    position: \"absolute\",\n                    right: 0,\n                    top: 0,\n                    bottom: 0,\n                    width: \"30px\",\n                    background:\n                      \"linear-gradient(to left, white, rgba(255,255,255,0))\",\n                    zIndex: 1,\n                    pointerEvents: \"none\",\n                    borderRadius: \"14px\",\n                    height: \"60px\",\n                  }}\n                />\n              )}\n              <Tabs\n                activeKey={activeTab}\n                onChange={setActiveTab}\n                size=\"large\" // Adjust size as needed\n                className=\"mb-4\"\n                tabBarStyle={{ borderBottom: \"none\" }}\n                destroyInactiveTabPane // Unmount inactive tabs\n                renderTabBar={(props, DefaultTabBar) => (\n                  <div\n                    className=\"tabs-drag-container\"\n                    ref={tabListRef}\n                    onMouseDown={handleMouseDown}\n                    onMouseMove={handleMouseMove}\n                    onMouseUp={handleMouseUp}\n                    onMouseLeave={handleMouseLeave}\n                    onScroll={updateScrollIndicators}\n                    style={{\n                      overflowX: \"auto\",\n                      borderRadius: \"14px\",\n                      whiteSpace: \"nowrap\",\n                      cursor: isDragging ? \"grabbing\" : \"grab\",\n                      display: \"flex\",\n                      scrollbarWidth: \"none\",\n                      msOverflowStyle: \"none\",\n                      userSelect: \"none\",\n                    }}\n                  >\n                    <style>\n                      {`\n              .tabs-drag-container::-webkit-scrollbar {\n                display: none;\n              }\n            `}\n                    </style>\n                    <DefaultTabBar {...props} />\n                  </div>\n                )}\n              >\n                {memoizedTabItems.map((item) => (\n                  <Tabs.TabPane\n                    key={item.key}\n                    tab={\n                      <span className=\"flex items-center gap-2 !border-none\">\n                        {item.icon}\n                        {item.label}\n                      </span>\n                    }\n                  >\n                    <Suspense fallback={<SkeletonView />}>\n                      {activeTab === item.key ? item.component : null}\n                    </Suspense>\n                  </Tabs.TabPane>\n                ))}\n              </Tabs>\n            </ConfigProvider>\n            <ConfigProvider\n              theme={{\n                token: {\n                  fontFamily: \"Baloo2\",\n                  colorPrimary: \"#252F67\",\n                  colorLinkActive: \"#252F67\",\n                  colorLinkHover: \"#252F67\",\n                  colorLink: \"#252F67\",\n                  primaryColor: \"#252F67\",\n                },\n              }}\n            >\n              <Tour\n                open={tourOpen}\n                onFinish={handleTourFinish}\n                steps={getActiveTabSteps()}\n                onClose={handleTourFinish}\n              />\n            </ConfigProvider>\n          </CustomContext.Provider>\n        </WebSocketProvider>\n      </RefProvider>\n    </div>\n  );\n}\n"],"file":"assets/ElderlyProfile-B8xE9gym.js"}