import{r as o,c8 as ne,cC as oe,cy as B,cA as He,fE as pn,fD as De,cD as q,s as Oe,et as ie,dP as Le,dY as gn,dv as Ae,du as ye,ei as mn,fG as Cn,dV as bn}from"./index-Bi7WHLKx.js";try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},a=new e.Error().stack;a&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[a]="e3a4b69a-48b9-4f94-ae3f-42b3a4b4d652",e._sentryDebugIdIdentifier="sentry-dbid-e3a4b69a-48b9-4f94-ae3f-42b3a4b4d652")}catch{}var me=o.createContext({}),he="__rc_cascader_search_mark__",Sn=function(a,n,t){var r=t.label,i=r===void 0?"":r;return n.some(function(u){return String(u[i]).toLowerCase().includes(a.toLowerCase())})},yn=function(a,n,t,r){return n.map(function(i){return i[r.label]}).join(" / ")},kn=function(a,n,t,r,i,u){var l=i.filter,c=l===void 0?Sn:l,s=i.render,g=s===void 0?yn:s,h=i.limit,v=h===void 0?50:h,S=i.sort;return o.useMemo(function(){var m=[];if(!a)return[];function f(p,w){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;p.forEach(function(C){if(!(!S&&v!==!1&&v>0&&m.length>=v)){var M=[].concat(ne(w),[C]),N=C[t.children],O=T||C.disabled;if((!N||N.length===0||u)&&c(a,M,{label:t.label})){var b;m.push(oe(oe({},C),{},(b={disabled:O},B(b,t.label,g(a,M,r,t)),B(b,he,M),B(b,t.children,void 0),b)))}N&&f(C[t.children],M,O)}})}return f(n,[]),S&&m.sort(function(p,w){return S(p[he],w[he],a,t)}),v!==!1&&v>0?m.slice(0,v):m},[a,n,t,r,g,u,c,S,v])},Re="__RC_CASCADER_SPLIT__",Fe="SHOW_PARENT",Be="SHOW_CHILD";function ae(e){return e.join(Re)}function pe(e){return e.map(ae)}function On(e){return e.split(Re)}function Ue(e){var a=e||{},n=a.label,t=a.value,r=a.children,i=t||"value";return{label:n||"label",value:i,key:i,children:r||"children"}}function be(e,a){var n,t;return(n=e.isLeaf)!==null&&n!==void 0?n:!((t=e[a.children])!==null&&t!==void 0&&t.length)}function _n(e){var a=e.parentElement;if(a){var n=e.offsetTop-a.offsetTop;n-a.scrollTop<0?a.scrollTo({top:n}):n+e.offsetHeight-a.scrollTop>a.offsetHeight&&a.scrollTo({top:n+e.offsetHeight-a.offsetHeight})}}function je(e,a){return e.map(function(n){var t;return(t=n[he])===null||t===void 0?void 0:t.map(function(r){return r[a.value]})})}function xn(e){return Array.isArray(e)&&Array.isArray(e[0])}function ke(e){return e?xn(e)?e:(e.length===0?[]:[e]).map(function(a){return Array.isArray(a)?a:[a]}):[]}function Ge(e,a,n){var t=new Set(e),r=a();return e.filter(function(i){var u=r[i],l=u?u.parent:null,c=u?u.children:null;return u&&u.node.disabled?!0:n===Be?!(c&&c.some(function(s){return s.key&&t.has(s.key)})):!(l&&!l.node.disabled&&t.has(l.key))})}function ge(e,a,n){for(var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,r=a,i=[],u=function(){var s,g,h,v=e[l],S=(s=r)===null||s===void 0?void 0:s.findIndex(function(f){var p=f[n.value];return t?String(p)===String(v):p===v}),m=S!==-1?(g=r)===null||g===void 0?void 0:g[S]:null;i.push({value:(h=m==null?void 0:m[n.value])!==null&&h!==void 0?h:v,index:S,option:m}),r=m==null?void 0:m[n.children]},l=0;l<e.length;l+=1)u();return i}const Vn=function(e,a,n,t,r){return o.useMemo(function(){var i=r||function(u){var l=t?u.slice(-1):u,c=" / ";return l.every(function(s){return["string","number"].includes(He(s))})?l.join(c):l.reduce(function(s,g,h){var v=o.isValidElement(g)?o.cloneElement(g,{key:h}):g;return h===0?[v]:[].concat(ne(s),[c,v])},[])};return e.map(function(u){var l,c=ge(u,a,n),s=i(c.map(function(h){var v,S=h.option,m=h.value;return(v=S==null?void 0:S[n.label])!==null&&v!==void 0?v:m}),c.map(function(h){var v=h.option;return v})),g=ae(u);return{label:s,value:g,key:g,valueCells:u,disabled:(l=c[c.length-1])===null||l===void 0||(l=l.option)===null||l===void 0?void 0:l.disabled}})},[e,a,n,r,t])};function Je(e,a){return o.useCallback(function(n){var t=[],r=[];return n.forEach(function(i){var u=ge(i,e,a);u.every(function(l){return l.option})?r.push(i):t.push(i)}),[r,t]},[e,a])}const Pn=function(e,a){var n=o.useRef({options:[],info:{keyEntities:{},pathKeyEntities:{}}}),t=o.useCallback(function(){return n.current.options!==e&&(n.current.options=e,n.current.info=pn(e,{fieldNames:a,initWrapper:function(i){return oe(oe({},i),{},{pathKeyEntities:{}})},processEntity:function(i,u){var l=i.nodes.map(function(c){return c[a.value]}).join(Re);u.pathKeyEntities[l]=i,i.key=l}})),n.current.info.pathKeyEntities},[a,e]);return t};function Xe(e,a){var n=o.useMemo(function(){return a||[]},[a]),t=Pn(n,e),r=o.useCallback(function(i){var u=t();return i.map(function(l){var c=u[l].nodes;return c.map(function(s){return s[e.value]})})},[t,e]);return[n,t,r]}function En(e){return o.useMemo(function(){if(!e)return[!1,{}];var a={matchInputWidth:!0,limit:50};return e&&He(e)==="object"&&(a=oe(oe({},a),e)),a.limit<=0&&(a.limit=!1),[!0,a]},[e])}function Ye(e,a,n,t,r,i,u,l){return function(c){if(!e)a(c);else{var s=ae(c),g=pe(n),h=pe(t),v=g.includes(s),S=r.some(function(O){return ae(O)===s}),m=n,f=r;if(S&&!v)f=r.filter(function(O){return ae(O)!==s});else{var p=v?g.filter(function(O){return O!==s}):[].concat(ne(g),[s]),w=i(),T;if(v){var C=De(p,{halfCheckedKeys:h},w);T=C.checkedKeys}else{var M=De(p,!0,w);T=M.checkedKeys}var N=Ge(T,i,l);m=u(N)}a([].concat(ne(f),ne(m)))}}}function qe(e,a,n,t,r){return o.useMemo(function(){var i=r(a),u=q(i,2),l=u[0],c=u[1];if(!e||!a.length)return[l,[],c];var s=pe(l),g=n(),h=De(s,!0,g),v=h.checkedKeys,S=h.halfCheckedKeys;return[t(v),t(S),c]},[e,a,n,t,r])}var wn=o.memo(function(e){var a=e.children;return a},function(e,a){return!a.open});function In(e){var a,n=e.prefixCls,t=e.checked,r=e.halfChecked,i=e.disabled,u=e.onClick,l=e.disableCheckbox,c=o.useContext(me),s=c.checkable,g=typeof s!="boolean"?s:null;return o.createElement("span",{className:Oe("".concat(n),(a={},B(a,"".concat(n,"-checked"),t),B(a,"".concat(n,"-indeterminate"),!t&&r),B(a,"".concat(n,"-disabled"),i||l),a)),onClick:u},g)}var ze="__cascader_fix_label__";function Mn(e){var a=e.prefixCls,n=e.multiple,t=e.options,r=e.activeValue,i=e.prevValuePath,u=e.onToggleOpen,l=e.onSelect,c=e.onActive,s=e.checkedSet,g=e.halfCheckedSet,h=e.loadingKeys,v=e.isSelectable,S=e.disabled,m="".concat(a,"-menu"),f="".concat(a,"-menu-item"),p=o.useContext(me),w=p.fieldNames,T=p.changeOnSelect,C=p.expandTrigger,M=p.expandIcon,N=p.loadingIcon,O=p.dropdownMenuColumnStyle,b=p.optionRender,_=C==="hover",k=function(P){return S||P},D=o.useMemo(function(){return t.map(function(d){var P,E=d.disabled,$=d.disableCheckbox,W=d[he],K=(P=d[ze])!==null&&P!==void 0?P:d[w.label],H=d[w.value],U=be(d,w),X=W?W.map(function(Q){return Q[w.value]}):[].concat(ne(i),[H]),V=ae(X),z=h.includes(V),j=s.has(V),F=g.has(V);return{disabled:E,label:K,value:H,isLeaf:U,isLoading:z,checked:j,halfChecked:F,option:d,disableCheckbox:$,fullPath:X,fullPathKey:V}})},[t,s,w,g,h,i]);return o.createElement("ul",{className:m,role:"menu"},D.map(function(d){var P,E=d.disabled,$=d.label,W=d.value,K=d.isLeaf,H=d.isLoading,U=d.checked,X=d.halfChecked,V=d.option,z=d.fullPath,j=d.fullPathKey,F=d.disableCheckbox,Q=function(){if(!k(E)){var J=ne(z);_&&K&&J.pop(),c(J)}},Z=function(){v(V)&&!k(E)&&l(z,K)},te;return typeof V.title=="string"?te=V.title:typeof $=="string"&&(te=$),o.createElement("li",{key:j,className:Oe(f,(P={},B(P,"".concat(f,"-expand"),!K),B(P,"".concat(f,"-active"),r===W||r===j),B(P,"".concat(f,"-disabled"),k(E)),B(P,"".concat(f,"-loading"),H),P)),style:O,role:"menuitemcheckbox",title:te,"aria-checked":U,"data-path-key":j,onClick:function(){Q(),!F&&(!n||K)&&Z()},onDoubleClick:function(){T&&u(!1)},onMouseEnter:function(){_&&Q()},onMouseDown:function(J){J.preventDefault()}},n&&o.createElement(In,{prefixCls:"".concat(a,"-checkbox"),checked:U,halfChecked:X,disabled:k(E)||F,disableCheckbox:F,onClick:function(J){F||(J.stopPropagation(),Z())}}),o.createElement("div",{className:"".concat(f,"-content")},b?b(V):$),!H&&M&&!K&&o.createElement("div",{className:"".concat(f,"-expand-icon")},M),H&&N&&o.createElement("div",{className:"".concat(f,"-loading-icon")},N))}))}var Dn=function(a,n){var t=o.useContext(me),r=t.values,i=r[0],u=o.useState([]),l=q(u,2),c=l[0],s=l[1];return o.useEffect(function(){a||s(i||[])},[n,i]),[c,s]};const An=function(e,a,n,t,r,i,u){var l=u.direction,c=u.searchValue,s=u.toggleOpen,g=u.open,h=l==="rtl",v=o.useMemo(function(){for(var O=-1,b=a,_=[],k=[],D=t.length,d=je(a,n),P=function(H){var U=b.findIndex(function(X,V){return(d[V]?ae(d[V]):X[n.value])===t[H]});if(U===-1)return 1;O=U,_.push(O),k.push(t[H]),b=b[O][n.children]},E=0;E<D&&b&&!P(E);E+=1);for(var $=a,W=0;W<_.length-1;W+=1)$=$[_[W]][n.children];return[k,O,$,d]},[t,n,a]),S=q(v,4),m=S[0],f=S[1],p=S[2],w=S[3],T=function(b){r(b)},C=function(b){var _=p.length,k=f;k===-1&&b<0&&(k=_);for(var D=0;D<_;D+=1){k=(k+b+_)%_;var d=p[k];if(d&&!d.disabled){var P=m.slice(0,-1).concat(w[k]?ae(w[k]):d[n.value]);T(P);return}}},M=function(){if(m.length>1){var b=m.slice(0,-1);T(b)}else s(!1)},N=function(){var b,_=((b=p[f])===null||b===void 0?void 0:b[n.children])||[],k=_.find(function(d){return!d.disabled});if(k){var D=[].concat(ne(m),[k[n.value]]);T(D)}};o.useImperativeHandle(e,function(){return{onKeyDown:function(b){var _=b.which;switch(_){case ie.UP:case ie.DOWN:{var k=0;_===ie.UP?k=-1:_===ie.DOWN&&(k=1),k!==0&&C(k);break}case ie.LEFT:{if(c)break;h?N():M();break}case ie.RIGHT:{if(c)break;h?M():N();break}case ie.BACKSPACE:{c||M();break}case ie.ENTER:{if(m.length){var D=p[f],d=(D==null?void 0:D[he])||[];d.length?i(d.map(function(P){return P[n.value]}),d[d.length-1]):i(m,p[f])}break}case ie.ESC:s(!1),g&&b.stopPropagation()}},onKeyUp:function(){}}})};var Qe=o.forwardRef(function(e,a){var n,t,r,i=e.prefixCls,u=e.multiple,l=e.searchValue,c=e.toggleOpen,s=e.notFoundContent,g=e.direction,h=e.open,v=e.disabled,S=o.useRef(null),m=g==="rtl",f=o.useContext(me),p=f.options,w=f.values,T=f.halfValues,C=f.fieldNames,M=f.changeOnSelect,N=f.onSelect,O=f.searchOptions,b=f.dropdownPrefixCls,_=f.loadData,k=f.expandTrigger,D=b||i,d=o.useState([]),P=q(d,2),E=P[0],$=P[1],W=function(y){if(!(!_||l)){var x=ge(y,p,C),I=x.map(function(se){var re=se.option;return re}),R=I[I.length-1];if(R&&!be(R,C)){var ce=ae(y);$(function(se){return[].concat(ne(se),[ce])}),_(I)}}};o.useEffect(function(){E.length&&E.forEach(function(A){var y=On(A),x=ge(y,p,C,!0).map(function(R){var ce=R.option;return ce}),I=x[x.length-1];(!I||I[C.children]||be(I,C))&&$(function(R){return R.filter(function(ce){return ce!==A})})})},[p,E,C]);var K=o.useMemo(function(){return new Set(pe(w))},[w]),H=o.useMemo(function(){return new Set(pe(T))},[T]),U=Dn(u,h),X=q(U,2),V=X[0],z=X[1],j=function(y){z(y),W(y)},F=function(y){if(v)return!1;var x=y.disabled,I=be(y,C);return!x&&(I||M||u)},Q=function(y,x){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;N(y),!u&&(x||M&&(k==="hover"||I))&&c(!1)},Z=o.useMemo(function(){return l?O:p},[l,O,p]),te=o.useMemo(function(){for(var A=[{options:Z}],y=Z,x=je(y,C),I=function(){var se=V[R],re=y.find(function(_e,Se){return(x[Se]?ae(x[Se]):_e[C.value])===se}),de=re==null?void 0:re[C.children];if(!(de!=null&&de.length))return 1;y=de,A.push({options:de})},R=0;R<V.length&&!I();R+=1);return A},[Z,V,C]),L=function(y,x){F(x)&&Q(y,be(x,C),!0)};An(a,Z,C,V,j,L,{direction:g,searchValue:l,toggleOpen:c,open:h}),o.useEffect(function(){if(!l)for(var A=0;A<V.length;A+=1){var y,x=V.slice(0,A+1),I=ae(x),R=(y=S.current)===null||y===void 0?void 0:y.querySelector('li[data-path-key="'.concat(I.replace(/\\{0,2}"/g,'\\"'),'"]'));R&&_n(R)}},[V,l]);var J=!((n=te[0])!==null&&n!==void 0&&(n=n.options)!==null&&n!==void 0&&n.length),le=[(t={},B(t,C.value,"__EMPTY__"),B(t,ze,s),B(t,"disabled",!0),t)],fe=oe(oe({},e),{},{multiple:!J&&u,onSelect:Q,onActive:j,onToggleOpen:c,checkedSet:K,halfCheckedSet:H,loadingKeys:E,isSelectable:F}),ue=J?[{options:le}]:te,Y=ue.map(function(A,y){var x=V.slice(0,y),I=V[y];return o.createElement(Mn,Le({key:y},fe,{prefixCls:D,options:A.options,prevValuePath:x,activeValue:I}))});return o.createElement(wn,{open:h},o.createElement("div",{className:Oe("".concat(D,"-menus"),(r={},B(r,"".concat(D,"-menu-empty"),J),B(r,"".concat(D,"-rtl"),m),r)),ref:S},Y))}),Ln=o.forwardRef(function(e,a){var n=gn();return o.createElement(Qe,Le({},e,n,{ref:a}))});function Rn(){}function Tn(e){var a,n=e,t=n.prefixCls,r=t===void 0?"rc-cascader":t,i=n.style,u=n.className,l=n.options,c=n.checkable,s=n.defaultValue,g=n.value,h=n.fieldNames,v=n.changeOnSelect,S=n.onChange,m=n.showCheckedStrategy,f=n.loadData,p=n.expandTrigger,w=n.expandIcon,T=w===void 0?">":w,C=n.loadingIcon,M=n.direction,N=n.notFoundContent,O=N===void 0?"Not Found":N,b=n.disabled,_=!!c,k=Ae(s,{value:g,postState:ke}),D=q(k,2),d=D[0],P=D[1],E=o.useMemo(function(){return Ue(h)},[JSON.stringify(h)]),$=Xe(E,l),W=q($,3),K=W[0],H=W[1],U=W[2],X=Je(K,E),V=qe(_,d,H,U,X),z=q(V,3),j=z[0],F=z[1],Q=z[2],Z=ye(function(ue){if(P(ue),S){var Y=ke(ue),A=Y.map(function(I){return ge(I,K,E).map(function(R){return R.option})}),y=_?Y:Y[0],x=_?A:A[0];S(y,x)}}),te=Ye(_,Z,j,F,Q,H,U,m),L=ye(function(ue){te(ue)}),J=o.useMemo(function(){return{options:K,fieldNames:E,values:j,halfValues:F,changeOnSelect:v,onSelect:L,checkable:c,searchOptions:[],dropdownPrefixCls:void 0,loadData:f,expandTrigger:p,expandIcon:T,loadingIcon:C,dropdownMenuColumnStyle:void 0}},[K,E,j,F,v,L,c,f,p,T,C]),le="".concat(r,"-panel"),fe=!K.length;return o.createElement(me.Provider,{value:J},o.createElement("div",{className:Oe(le,(a={},B(a,"".concat(le,"-rtl"),M==="rtl"),B(a,"".concat(le,"-empty"),fe),a),u),style:i},fe?O:o.createElement(Qe,{prefixCls:r,searchValue:"",multiple:_,toggleOpen:Rn,open:!0,direction:M,disabled:b})))}var Kn=["id","prefixCls","fieldNames","defaultValue","value","changeOnSelect","onChange","displayRender","checkable","autoClearSearchValue","searchValue","onSearch","showSearch","expandTrigger","options","dropdownPrefixCls","loadData","popupVisible","open","popupClassName","dropdownClassName","dropdownMenuColumnStyle","dropdownStyle","popupPlacement","placement","onDropdownVisibleChange","onPopupVisibleChange","onOpenChange","expandIcon","loadingIcon","children","dropdownMatchSelectWidth","showCheckedStrategy","optionRender"],Te=o.forwardRef(function(e,a){var n=e.id,t=e.prefixCls,r=t===void 0?"rc-cascader":t,i=e.fieldNames,u=e.defaultValue,l=e.value,c=e.changeOnSelect,s=e.onChange,g=e.displayRender,h=e.checkable,v=e.autoClearSearchValue,S=v===void 0?!0:v,m=e.searchValue,f=e.onSearch,p=e.showSearch,w=e.expandTrigger,T=e.options,C=e.dropdownPrefixCls,M=e.loadData,N=e.popupVisible,O=e.open,b=e.popupClassName,_=e.dropdownClassName,k=e.dropdownMenuColumnStyle,D=e.dropdownStyle,d=e.popupPlacement,P=e.placement,E=e.onDropdownVisibleChange,$=e.onPopupVisibleChange,W=e.onOpenChange,K=e.expandIcon,H=K===void 0?">":K,U=e.loadingIcon,X=e.children,V=e.dropdownMatchSelectWidth,z=V===void 0?!1:V,j=e.showCheckedStrategy,F=j===void 0?Fe:j,Q=e.optionRender,Z=mn(e,Kn),te=Cn(n),L=!!h,J=Ae(u,{value:l,postState:ke}),le=q(J,2),fe=le[0],ue=le[1],Y=o.useMemo(function(){return Ue(i)},[JSON.stringify(i)]),A=Xe(Y,T),y=q(A,3),x=y[0],I=y[1],R=y[2],ce=Ae("",{value:m,postState:function(G){return G||""}}),se=q(ce,2),re=se[0],de=se[1],_e=function(G,ve){de(G),ve.source!=="blur"&&f&&f(G)},Se=En(p),Ke=q(Se,2),Ze=Ke[0],Ne=Ke[1],xe=kn(re,x,Y,C||r,Ne,c||L),en=Je(x,Y),nn=qe(L,fe,I,R,en),Ve=q(nn,3),Ce=Ve[0],Pe=Ve[1],Ee=Ve[2],an=o.useMemo(function(){var ee=pe(Ce),G=Ge(ee,I,F);return[].concat(ne(Ee),ne(R(G)))},[Ce,I,R,Ee,F]),tn=Vn(an,x,Y,L,g),$e=ye(function(ee){if(ue(ee),s){var G=ke(ee),ve=G.map(function(fn){return ge(fn,x,Y).map(function(hn){return hn.option})}),Ie=L?G:G[0],Me=L?ve:ve[0];s(Ie,Me)}}),rn=Ye(L,$e,Ce,Pe,Ee,I,R,F),we=ye(function(ee){(!L||S)&&de(""),rn(ee)}),on=function(G,ve){if(ve.type==="clear"){$e([]);return}var Ie=ve.values[0],Me=Ie.valueCells;we(Me)},ln=O!==void 0?O:N,un=_||b,cn=P||d,sn=function(G){W==null||W(G),E==null||E(G),$==null||$(G)},dn=o.useMemo(function(){return{options:x,fieldNames:Y,values:Ce,halfValues:Pe,changeOnSelect:c,onSelect:we,checkable:h,searchOptions:xe,dropdownPrefixCls:C,loadData:M,expandTrigger:w,expandIcon:H,loadingIcon:U,dropdownMenuColumnStyle:k,optionRender:Q}},[x,Y,Ce,Pe,c,we,h,xe,C,M,w,H,U,k,Q]),We=!(re?xe:x).length,vn=re&&Ne.matchInputWidth||We?{}:{minWidth:"auto"};return o.createElement(me.Provider,{value:dn},o.createElement(bn,Le({},Z,{ref:a,id:te,prefixCls:r,autoClearSearchValue:S,dropdownMatchSelectWidth:z,dropdownStyle:oe(oe({},vn),D),displayValues:tn,onDisplayValuesChange:on,mode:L?"multiple":void 0,searchValue:re,onSearch:_e,showSearch:Ze,OptionList:Ln,emptyOptions:We,open:ln,dropdownClassName:un,placement:cn,onDropdownVisibleChange:sn,getRawInputElement:function(){return X}})))});Te.SHOW_PARENT=Fe;Te.SHOW_CHILD=Be;Te.Panel=Tn;export{Te as C,Tn as P};
//# sourceMappingURL=Cascader-GEZeW6RM.js.map
