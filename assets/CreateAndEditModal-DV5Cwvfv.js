import{j as t,C as D,D as R,g as H,f as W,r as _,aW as $,b5 as Y,B as I,ax as re,gy as se,aA as ne,aB as v,gz as oe,aC as M,gA as ie}from"./index-DT7KcFIv.js";import{T as q}from"./index-B73EbW61.js";import{C as ce,a as ue}from"./CustomMultiSelector-DnLiBqBo.js";try{let i=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},r=new i.Error().stack;r&&(i._sentryDebugIds=i._sentryDebugIds||{},i._sentryDebugIds[r]="368d8092-367b-42f7-9f5a-2dc589f2bc09",i._sentryDebugIdIdentifier="sentry-dbid-368d8092-367b-42f7-9f5a-2dc589f2bc09")}catch{}const me=({label:i,error:r,...s})=>t.jsxs("div",{className:"flex flex-col items-start w-full mt-3",children:[t.jsx("label",{className:"mb-1 font-medium text-[13px] text-[#1B2559]",children:i}),t.jsx(D,{theme:{token:{colorPrimary:"#8086AC",colorLink:"#8086AC",colorLinkHover:"#A0A4C1",colorLinkActive:"#6A6E8E"},components:{DatePicker:{cellActiveWithRangeBg:"#8086AC",cellHoverWithRangeBg:"#A0A4C1",timeColumnWidth:56,timeColumnHeight:224,timeLineHeight:28,buttonBg:"#8086AC",buttonHoverBg:"#A0A4C1",buttonActiveBg:"#6A6E8E"}}},children:t.jsx(R,{style:{width:"100%",height:"50px",borderRadius:"10px"},size:"large",...s})}),r&&t.jsx("span",{style:{color:"red"},children:r.message})]}),de=({label:i,error:r,...s})=>t.jsxs("div",{className:"flex flex-col items-start w-full mt-3",children:[t.jsx("label",{className:"mb-1 font-medium text-[13px] text-[#1B2559]",children:i}),t.jsx(D,{theme:{token:{colorPrimary:"#8086AC",colorLink:"#8086AC",colorLinkHover:"#A0A4C1",colorLinkActive:"#6A6E8E"},components:{DatePicker:{cellActiveWithRangeBg:"#8086AC",cellHoverWithRangeBg:"#A0A4C1",timeColumnWidth:56,timeColumnHeight:224,timeLineHeight:28,buttonBg:"#8086AC",buttonHoverBg:"#A0A4C1",buttonActiveBg:"#6A6E8E"}}},children:t.jsx(q,{style:{width:"100%",height:"50px",borderRadius:"10px"},size:"large",...s})}),r&&t.jsx("span",{style:{color:"red"},children:r.message})]}),pe=({label:i,error:r,value:s,onChange:o,...u})=>{const n=(m,b)=>{const y=m?H(m).format("YYYY-MM-DD HH:mm"):H().format("YYYY-MM-DD HH:mm");o(y)};return t.jsxs("div",{className:"flex flex-col items-start w-full mt-3",children:[t.jsx("label",{className:"mb-1 font-medium text-[13px] text-[#1B2559]",children:i}),t.jsx(D,{theme:{token:{colorPrimary:"#8086AC",colorLink:"#8086AC",colorLinkHover:"#A0A4C1",colorLinkActive:"#6A6E8E"},components:{DatePicker:{cellActiveWithRangeBg:"#8086AC",cellHoverWithRangeBg:"#A0A4C1",timeColumnWidth:56,timeColumnHeight:224,timeLineHeight:28,buttonBg:"#8086AC",buttonHoverBg:"#A0A4C1",buttonActiveBg:"#6A6E8E"}}},children:t.jsx(R,{style:{width:"100%",height:"50px",borderRadius:"10px"},size:"large",showTime:!0,format:"YYYY-MM-DD HH:mm A",onChange:n,...u})}),r&&t.jsx("span",{style:{color:"red"},children:r.message})]})},he=({label:i,error:r,options:s,onChange:o,onBlur:u,value:n,defaultValue:m,disabled:b,...y})=>t.jsx("div",{className:"flex items-center w-full",children:t.jsxs("div",{className:"flex flex-col items-start w-full mt-3",children:[t.jsx("label",{className:"mb-1 font-medium text-[13px] text-[#1B2559]",children:i}),t.jsx(D,{theme:{token:{colorPrimary:"#8086AC"}},children:t.jsx(W,{size:"large",style:{width:"100%",height:"50px",borderRadius:"10px !important"},onBlur:u,onChange:(A,d)=>{o(d)},value:n||m,status:r?"error":"",options:s,disabled:b,...y})}),r&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.message})]})}),be=[{value:"sunday",label:"Sun"},{value:"monday",label:"Mon"},{value:"tuesday",label:"Tue"},{value:"wednesday",label:"Wed"},{value:"thursday",label:"Thu"},{value:"friday",label:"Fri"},{value:"saturday",label:"Sat"}];function xe({label:i,value:r=[],onChange:s,error:o}){const u=n=>{r.includes(n)?s(r.filter(m=>m!==n)):s([...r,n])};return t.jsxs("div",{className:"flex flex-col items-start w-full mt-3",children:[t.jsx("label",{className:"mb-1 font-medium text-[13px] text-[#1B2559]",children:i}),t.jsx("div",{className:"w-full flex gap-3",children:be.map(n=>t.jsx("button",{type:"button",onClick:()=>u(n.value),style:{backgroundColor:r.includes(n.value)?"#1B2559":"#fff",color:r.includes(n.value)?"#fff":"#000",border:"1px solid #ccc",borderRadius:"4px",padding:"5px 10px",cursor:"pointer"},className:"flex items-center justify-center w-full",children:n.label},n.value))}),o&&t.jsx("p",{style:{color:"red"},children:o.message})]})}function ve({label:i,value:r=[],onChange:s,error:o}){const[u,n]=_.useState(null),[m,b]=_.useState(""),y=()=>{if(u&&m){const d={time:H(u).format("hh:mm A"),tablet_count:parseInt(m,10)};s([...r,d]),n(null),b("")}},A=d=>{const C=[...r];C.splice(d,1),s(C)};return t.jsxs("div",{className:"flex flex-col items-start w-full mt-3",children:[t.jsx("label",{className:"mb-1 font-medium text-[13px] text-[#1B2559]",children:i}),t.jsxs($.Compact,{style:{width:"100%"},children:[t.jsx(q,{use12Hours:!0,value:u,onChange:d=>n(d),format:"hh:mm A",style:{width:"50%"},size:"large"}),t.jsx(Y,{style:{width:"50%"},size:"large",type:"number",placeholder:"Tablet Count (eg: 2)",value:m,onChange:d=>b(d.target.value)}),t.jsx(I,{onClick:y,disabled:!u||!m,size:"large",style:{width:"15%"},children:"Add"})]}),t.jsx("ul",{style:{width:"100%",padding:0,listStyle:"none"},children:r.map((d,C)=>t.jsxs("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"10px"},children:[t.jsxs("span",{children:["Time: ",d.time,", Tablets: ",d.tablet_count]}),t.jsx(I,{type:"link",onClick:()=>A(C),style:{marginLeft:"10px"},children:"Remove"})]},C))}),o&&t.jsx("p",{style:{color:"red"},children:o.message})]})}const ye=({label:i,error:r,placeholder:s,countryCodes:o,selectedCode:u,onCodeChange:n,disabled:m=!1,...b})=>(console.log(r),_.useEffect(()=>{!u&&o.length>0&&n(o[0].value)},[u,o,n]),t.jsxs("div",{className:"flex flex-col items-start w-full mt-3",children:[t.jsx("label",{className:"mb-1 font-medium text-[13px] text-[#1B2559]",children:i}),t.jsxs($.Compact,{style:{width:"100%"},children:[t.jsx(W,{showSearch:!0,value:u,onChange:n,disabled:m,options:o,style:{minWidth:"160px",height:"50px",borderRadius:"10px !important"},className:"!placeholder:text-[#A3AED0]"}),t.jsx(Y,{type:"number",placeholder:s,disabled:m,style:{height:"50px",borderRadius:"10px !important"},...b})]}),((r==null?void 0:r.type)==="required"||(r==null?void 0:r.type)==="pattern")&&t.jsx("span",{className:"text-sm mt-1 text-red-500",children:r.message})]}));function Se({modalOpen:i,setModalOpen:r,type:s,mode:o="create",elderlyId:u,dataToEdit:n,diseases:m=[],allergies:b=[],medications:y=[],custom_condition:A=[],elderlyLatLng:d,onSubmitData:C}){const{control:x,register:T,handleSubmit:O,formState:{errors:h},reset:L,watch:w,setValue:B}=re({defaultValues:n,mode:"onChange",reValidateMode:"onChange"}),[P,je]=_.useState(m),[f,z]=_.useState(null),[U,V]=_.useState([{}]),k=w("select_elderly");w("contact_type");const c=w("medication_frequency");_.useEffect(()=>{i&&o==="edit"&&n&&Object.keys(n).forEach(l=>{B(l,n[l])}),se().then(l=>{const g=new Set,e=l==null?void 0:l.data.map(p=>({label:`${p.country_name} (${p.country_code})`,value:`${p.country_code}_${p.country_name}`})).filter(p=>g.has(p.value)?!1:(g.add(p.value),!0));V(e)}).catch(l=>{console.log(l)})},[i,o,n,B]);const G=l=>{var g,e,p;console.log(l),o==="edit"?(s==="healthConditions"||s==="medication")&&console.log("Editing data:",l):(s==="medication"?C({id:u,data:[{name:l==null?void 0:l.medication_name,type:(g=l==null?void 0:l.medication_type)==null?void 0:g.label,strength:Number(l==null?void 0:l.medication_strength),unit:(e=l==null?void 0:l.medication_unit)==null?void 0:e.label,frequency:(p=l==null?void 0:l.medication_frequency)==null?void 0:p.label,interval:c.value==="As Needed"?[]:c.value==="At Regular Interval"?[l==null?void 0:l.medication_interval]:l==null?void 0:l.medication_shedule_days,does_chart:l==null?void 0:l.medication_time}]}):s==="event"?C(l):s==="contact"&&C({contact_person:l==null?void 0:l.contact_name,contact_number:l==null?void 0:l.phone_number,contact_number_code:f,relationship:l.relationship,gender:l.gender.value,coverage_area:Number(l.coverage_area)}),console.log("Editing data:",l),console.log("Creating data:",l)),L(),r(!1)},N=l=>{console.log("Selected options:",l)},J=()=>s==="event"?o==="create"?"Create Event":"Edit Event":s==="elderly"?o==="create"?"Create Elderly":"Update Elderly Profile":s==="medication"?o==="create"?"Create Medication":"Edit Medication":s==="health-condition"?o==="create"?"Create Health Condition":"Update Health Condition":s==="doctor-appointments"?o==="create"?"Create Doctor Appointments":"Update Doctor Appointments":s==="contact"?o==="create"?"Create Contact":"Update Contact":s==="healthConditions"?o==="create"?"Create Health Conditions":"Update Health Conditions":"",K=["event_name","datetime","select_elderly","place","textarea"],Q=["medication_name","medication_type","medication_strength_unit","medication_time","medication_frequency","medication_interval","medication_shedule"],X=["name","address","age","gender","height","contactPerson","diseases","allergies","medications"],Z=["diseases","allergies","custom_condition"],F=["doctor","place","date","time","textarea"],ee=["contact_name","gender","relationship","coverage_area","phone_number"],le=["diseases","allergies","custom_condition"],te=()=>s==="event"?K.filter(l=>!(l==="select_elderly"&&d)).map(l=>j(l)):s==="medication"?Q.map(l=>j(l)):s==="elderly"?X.map(l=>j(l)):s==="health-condition"?Z.map(l=>j(l)):s==="doctor-appointments"?F.map(l=>j(l)):s==="contact"?ee.map(l=>j(l)):s==="healthConditions"?le.map(l=>j(l)):null,j=l=>{const e={event_name:{label:"Event Name",type:"text",placeholder:"eg: Appointment with Doctor"},phone_number:{label:"Phone Number",type:"phone_number",placeholder:"eg: +1 123-456-7890",options:U},contact_type:{label:"Contact Type",type:"select",placeholder:"Select contact type",options:[{value:"person",label:"Person"},{value:"emergency",label:"Emergency Contact"},{value:"other",label:"Other"}]},coverage_area:{label:"Distance from User",type:"number",placeholder:"(e.g., 5 km)",suffix:"KM"},relationship:{label:"Relationship",type:"text",placeholder:"(e.g., Son, Neighbor)"},contact_name:{label:"Contact Name",type:"text",placeholder:"Contact Name"},doctor:{label:"Doctor Name",type:"text",placeholder:"eg: Dr. John Doe"},medication_name:{label:"Medication Name",type:"text",placeholder:"Medication Name"},medication_type:{label:"Medication Type",type:"select",placeholder:"Select medication type",options:[{value:"Capsule",label:"Capsule"},{value:"Tablet",label:"Tablet"},{value:"Liquid",label:"Liquid"},{value:"Topical",label:"Topical"},{value:"Topical",label:"Topical"},{value:"Cream",label:"Cream"},{value:"Device",label:"Device"},{value:"Drops",label:"Drops"},{value:"Foam",label:"Foam"},{value:"Gel",label:"Gel"},{value:"Inhaler",label:"Inhaler"},{value:"Injection",label:"Injection"},{value:"Lotion",label:"Lotion"},{value:"Oiltment",label:"Oiltment"},{value:"Patch",label:"Patch"}]},medication_strength_unit:{type:"combined",fields:["medication_strength","medication_unit"]},medication_strength:{label:"Medication Strength",type:"number",placeholder:"Medication Strength"},medication_unit:{label:"Unit",type:"select",placeholder:"Unit",options:[{value:"mg",label:"mg"},{value:"ml",label:"ml"},{value:"mcg",label:"mcg"},{value:"g",label:"g"}]},medication_shedule:{label:"Medication Schedule",type:"day-selector",placeholder:"Select days"},medication_interval:{label:"Medication Interval",type:"select",placeholder:"Medication Interval",options:[{value:"Every Day",label:"Every Day"},{value:"Every Other Day",label:"Every Other Day"},{value:"3 Days",label:"3 Days"}]},medication_time_and_unit:{label:"Medication Time",type:"multi-time",placeholder:"Select time"},medication_time:{label:"Medication Time & Amount",type:"multi-time",placeholder:"Select time"},medication_frequency:{label:"Medication Frequency",type:"select",placeholder:"Select frequency",options:[{value:"At Regular Intervals",label:"At Regular Intervals"},{value:"On Specific Days of the Week",label:"On Specific Days of the Week"},{value:"As Needed",label:"As Needed"}]},name:{label:"Elderly Name",type:"text",placeholder:"Elderly Name"},age:{label:"Age",type:"number",placeholder:"Age"},gender:{label:"Gender",type:"select",placeholder:"Select gender",options:[{value:"male",label:"Male"},{value:"female",label:"Female"}]},height:{label:"Height (cm)",type:"number",placeholder:"Height"},contactPerson:{label:"Contact Person",type:"text",placeholder:"Contact Person"},diseases:{label:"Diseases",type:"multi-select",placeholder:"Select diseases",options:P==null?void 0:P.map(a=>({value:a,label:a}))},allergies:{label:"Allergies",type:"multi-select",placeholder:"Select allergies",options:b==null?void 0:b.map(a=>({value:a,label:a}))},custom_condition:{label:"Custom Text",type:"multi-select",placeholder:"Select custom text",options:A==null?void 0:A.map(a=>({value:a,label:a}))},medications:{label:"Medications",type:"multi-select",placeholder:"Select medications",options:y==null?void 0:y.map(a=>({value:a,label:a}))},disease_name:{label:"Disease Name",type:"text",placeholder:"Disease Name"},date:{label:"Date",type:"date",placeholder:"Select date"},time:{label:"Time",type:"time",placeholder:"Select time"},datetime:{label:"Date and Time",type:"datetime",placeholder:"Select date and time"},select_elderly:{label:"Select Elderly",type:"select",placeholder:"Select elderly",options:Ce},disease_type:{label:"Disease Type",type:"select",placeholder:"Select disease type",options:[{value:"chronic",label:"Chronic"},{value:"acute",label:"Acute"},{value:"infectious",label:"Infectious"}]},textarea:{label:"Notes",type:"textarea",placeholder:"Notes"},place:{label:"Locate A Place",type:"place",placeholder:"Locate a place"},number:{label:"Contact Number",type:"tel",placeholder:"Contact Number"}}[l],p=l!=="gender",E=l==="medication_interval"&&(c==null?void 0:c.value)==="On Specific Days of the Week"||l==="medication_interval"&&(c==null?void 0:c.value)==="As Needed"||l==="medication_interval"&&!(c!=null&&c.value),ae=l==="medication_shedule"&&(c==null?void 0:c.value)!=="On Specific Days of the Week";return console.log(p,E),(e==null?void 0:e.type)==="select"?t.jsx(v,{name:l,control:x,defaultValue:n?n[l]:"",rules:{required:E?"":`Please select ${e==null?void 0:e.label.toLowerCase()}`},render:({field:a})=>t.jsx(oe,{label:e==null?void 0:e.label,error:h[l],placeholder:e==null?void 0:e.placeholder,options:e==null?void 0:e.options,value:a.value,disabled:s!=="medication"&&p||E,...a})},l):(e==null?void 0:e.type)==="combined"?t.jsx("div",{className:"flex gap-2",children:e.fields.map((a,S)=>t.jsx("div",{className:S===0?"w-4/5":"w-1/5",children:j(a)},a))}):(e==null?void 0:e.type)==="medication-strength-picker"?t.jsxs("div",{className:"flex gap-4",children:[t.jsx("div",{className:"w-full",children:t.jsx(M,{label:e==null?void 0:e.label,type:e==null?void 0:e.type,register:T(l,{required:{value:!0,message:`Please enter ${e==null?void 0:e.label.toLowerCase()}`}}),error:h[l],placeholder:e==null?void 0:e.placeholder},l)}),t.jsx("div",{className:"w-full",children:t.jsx(v,{name:l,control:x,defaultValue:n?n[l]:"",rules:{required:p?"":`Please select ${e==null?void 0:e.label.toLowerCase()}`},render:({field:a})=>t.jsx(he,{label:e==null?void 0:e.label,error:h[l],placeholder:e==null?void 0:e.placeholder,options:e==null?void 0:e.options,value:a.value,disabled:p,...a})},l)})]}):(e==null?void 0:e.type)==="multi-time"?t.jsx(v,{name:l,control:x,render:({field:a})=>t.jsx(ve,{label:e==null?void 0:e.label,error:h[l],placeholder:e==null?void 0:e.placeholder,...a})}):(e==null?void 0:e.type)==="day-selector"?t.jsx("div",{className:`${(c==null?void 0:c.value)==="On Specific Days of the Week"?"block":" hidden"}`,children:t.jsx(v,{name:`${l}_days`,control:x,rules:{required:ae?"":"Please select at least one day"},render:({field:a})=>t.jsx(xe,{label:e==null?void 0:e.label,error:h[`${l}_days`],placeholder:e==null?void 0:e.placeholder,value:a.value,onChange:a.onChange})})},l):(e==null?void 0:e.type)==="multi-select"?t.jsx(v,{name:l,control:x,render:({field:a})=>t.jsx(ce,{label:e==null?void 0:e.label,error:h[l],placeholder:e==null?void 0:e.placeholder,options:e==null?void 0:e.options,value:a.value,onChange:S=>N(S,a.onChange)})},l):(e==null?void 0:e.type)==="datetime"?t.jsx(v,{name:l,control:x,rules:{required:`Please select ${e.label.toLowerCase()}`},render:({field:a})=>t.jsx(pe,{label:e==null?void 0:e.label,error:h[l],placeholder:e==null?void 0:e.placeholder,...a})},l):(e==null?void 0:e.type)==="date"?t.jsx(v,{name:l,control:x,rules:{required:`Please select ${e.label.toLowerCase()}`},render:({field:a})=>t.jsx(me,{label:e==null?void 0:e.label,error:h[l],placeholder:e==null?void 0:e.placeholder,...a})},l):(e==null?void 0:e.type)==="time"?t.jsx(v,{name:l,control:x,rules:{required:`Please select ${e.label.toLowerCase()}`},render:({field:a})=>t.jsx(de,{label:e==null?void 0:e.label,error:h[l],placeholder:e==null?void 0:e.placeholder,...a})},l):(e==null?void 0:e.type)==="textarea"?t.jsx(v,{name:l,control:x,rules:{},render:({field:a})=>t.jsx(ie,{label:e==null?void 0:e.label,placeholder:e==null?void 0:e.placeholder,error:h[l],...a})},l):(e==null?void 0:e.type)==="phone_number"?t.jsx(v,{name:l,control:x,rules:{required:{value:!0,message:`Please enter ${e==null?void 0:e.label.toLowerCase()}`},pattern:{value:/^[0-9]{6,15}$/,message:"Phone number must be 6–15 digits"}},render:({field:a})=>t.jsx(ye,{label:"Phone Number",error:h[l],placeholder:"Enter your phone number",countryCodes:e.options,selectedCode:f,onCodeChange:S=>{z(S.split("_")[0])},disabled:!1,...a})},l):(e==null?void 0:e.type)==="place"?t.jsx(v,{name:l,control:x,rules:{},render:({field:a})=>t.jsx(ue,{label:e==null?void 0:e.label,error:h[l],placeholder:e==null?void 0:e.placeholder,elderlyLocation:k?{lat:k.lat,lng:k.lng}:d,...a})},l):t.jsx(M,{label:e==null?void 0:e.label,type:e==null?void 0:e.type,register:T(l,{required:{value:!0,message:`Please enter ${e==null?void 0:e.label.toLowerCase()}`}}),error:h[l],placeholder:e==null?void 0:e.placeholder},l)};return t.jsx(ne,{handleSubmit:O(G),modalOPen:i,setModalOpen:r,title:J(),buttonText:o==="create"?"Create":"Update",onclose:()=>{L()},children:te()})}const Ce=[{value:"elderly_1",label:"Elderly 1",lat:-25.274398,lng:133.775136},{value:"elderly_2",label:"Elderly 2",lat:-33.86882,lng:151.209296},{value:"elderly_3",label:"Elderly 3",lat:-37.813628,lng:144.963058}];export{Se as C};
//# sourceMappingURL=CreateAndEditModal-DV5Cwvfv.js.map
