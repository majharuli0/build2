{"version":3,"mappings":"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","names":["ActivityOverviewTails","activityData","setActivityData","useState","loading","setLoading","ls","elderlyDetails","useContext","CustomContext","dailyRepDate","SidebarContext","getActivityData","useCallback","getDayTimeActivity","dayjs","res","_a","err","useEffect","renderSkeletonTile","jsx","jsxs","Skeleton","Fragment","MdMeetingRoom","MdOutlineAirlineSeatLegroomNormal","FaPersonWalking","FaPersonWalkingArrowRight","GiExitDoor","wakeUpIcon","size","WakeUpIcon","getUpIcon","GetUpIcon","AverageRoutineTime","sleepData","sleepDataLoading","items","formatTimeWithSuffix","FaBedPulse","GiNightSleep","motion","item","index","DailyRoutineDistribution","lazy","__vitePreload","WalkStepsStatistic","DurationSpentInRoom","NumberOfRoomEntriesAndExit","WalkSpeedStatistic","ChartWrapper","height","children","className","Suspense","ActivityTab","registerRef","useRefContext","stepsRef","useRef","key"],"ignoreList":[],"sources":["../../src/Pages/Elderlies/Components/TabContents/Activity/Components/ActivityOverviewTails.jsx","../../src/Pages/Elderlies/Components/TabContents/Activity/Components/AverageRoutineTime.jsx","../../src/Pages/Elderlies/Components/TabContents/Activity/ActivityTab.jsx"],"sourcesContent":["import React, { useCallback, useState, useEffect, useContext } from \"react\";\r\nimport { CustomContext } from \"@/Context/UseCustomContext\";\r\nimport { SidebarContext } from \"@/Context/CustomContext\";\r\nimport { Skeleton } from \"antd\"; // Import Skeleton from antd\r\nimport { MdMeetingRoom } from \"react-icons/md\";\r\nimport { MdOutlineAirlineSeatLegroomNormal } from \"react-icons/md\";\r\nimport { FaPersonWalking } from \"react-icons/fa6\";\r\nimport { FaPersonWalkingArrowRight } from \"react-icons/fa6\";\r\nimport { GiExitDoor } from \"react-icons/gi\";\r\nimport { getDayTimeActivity } from \"@/api/deviceReports\";\r\nimport ls from \"store2\";\r\nimport dayjs from \"dayjs\";\r\n\r\nexport default function ActivityOverviewTails() {\r\n  const [activityData, setActivityData] = useState([]);\r\n  const [loading, setLoading] = useState(true); // Add loading state\r\n  const elderlyDetais = ls.get(\"elderly_details\");\r\n  const { elderlyDetails } = useContext(CustomContext);\r\n  const { dailyRepDate } = useContext(SidebarContext);\r\n\r\n  const getActivityData = useCallback(() => {\r\n    setLoading(true); // Set loading to true when fetching starts\r\n    getDayTimeActivity({\r\n      uids: elderlyDetails?.deviceId,\r\n      elderly_id: elderlyDetails._id,\r\n      to_date: dailyRepDate || dayjs().subtract(1, \"day\").format(\"YYYY-MM-DD\"),\r\n    })\r\n      .then((res) => {\r\n        setActivityData(res.data?.user_activity);\r\n        setLoading(false); // Set loading to false when data is received\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setLoading(false); // Set loading to false on error\r\n      });\r\n  }, [elderlyDetails, dailyRepDate]);\r\n\r\n  useEffect(() => {\r\n    getActivityData();\r\n  }, [getActivityData]);\r\n\r\n  // Skeleton loader for each tile\r\n  const renderSkeletonTile = () => (\r\n    <div className=\"flex justify-between gap-1 items-center bg-white rounded-2xl p-4 w-full\">\r\n      <div className=\"flex gap-3 items-center\">\r\n        <Skeleton.Avatar active size={48} shape=\"square\" />{\" \"}\r\n        {/* Icon placeholder */}\r\n        <div className=\"flex flex-col gap-2\">\r\n          <Skeleton.Input active style={{ width: 120, height: 16 }} />{\" \"}\r\n          {/* Title */}\r\n          <Skeleton.Input active style={{ width: 80, height: 24 }} />{\" \"}\r\n          {/* Value */}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"flex justify-between gap-4 w-full\">\r\n      {loading ? (\r\n        // Show skeleton loaders while loading\r\n        <>\r\n          {renderSkeletonTile()}\r\n          {renderSkeletonTile()}\r\n          {renderSkeletonTile()}\r\n          {renderSkeletonTile()}\r\n          {renderSkeletonTile()}\r\n        </>\r\n      ) : (\r\n        // Show actual data when loaded\r\n        <>\r\n          <div\r\n            id=\"indoorDuration\"\r\n            className=\"flex justify-between gap-1 items-center bg-white rounded-2xl p-4 w-full\"\r\n          >\r\n            <div className=\"flex gap-3 items-center\">\r\n              <div id=\"icon\" className=\"p-3 bg-[#26C0C0] rounded-md\">\r\n                <MdMeetingRoom className=\"text-[#fff] text-[24px]\" />\r\n              </div>\r\n              <div className=\"flex flex-col gap-0\">\r\n                <div className=\"text-base font-semibold text-primary/80\">\r\n                  Indoor Duration\r\n                </div>\r\n                <div className=\"text-2xl font-bold text-primary\">\r\n                  {activityData?.in_room_duration\r\n                    ? activityData?.in_room_duration\r\n                    : \"--\"}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div\r\n            id=\"stillTime\"\r\n            className=\"flex justify-between gap-1 items-center bg-white rounded-2xl p-4 w-full\"\r\n          >\r\n            <div className=\"flex gap-3 items-center\">\r\n              <div id=\"icon\" className=\"p-3 bg-[#F1B812] rounded-md\">\r\n                <MdOutlineAirlineSeatLegroomNormal className=\"text-[#fff] text-[24px]\" />\r\n              </div>\r\n              <div className=\"flex flex-col gap-0\">\r\n                <div className=\"text-base font-semibold text-primary/80\">\r\n                  Still Time\r\n                </div>\r\n                <div className=\"text-2xl font-bold text-primary\">\r\n                  {activityData?.static_duration\r\n                    ? activityData?.static_duration\r\n                    : \"--\"}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            id=\"walking\"\r\n            className=\"flex justify-between gap-1 items-center bg-white rounded-2xl p-4 w-full\"\r\n          >\r\n            <div className=\"flex gap-3 items-center\">\r\n              <div id=\"icon\" className=\"p-3 bg-[#7F87FC] rounded-md\">\r\n                <FaPersonWalking className=\"text-[#fff] text-[24px]\" />\r\n              </div>\r\n              <div className=\"flex flex-col gap-0\">\r\n                <div className=\"text-base font-semibold text-primary/80\">\r\n                  Walking\r\n                </div>\r\n                <div className=\"text-2xl font-bold text-primary\">\r\n                  {activityData?.step_number ? activityData?.step_number : \"--\"}{\" \"}\r\n                  steps\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            id=\"speed\"\r\n            className=\"flex justify-between gap-1 items-center bg-white rounded-2xl p-4 w-full\"\r\n          >\r\n            <div className=\"flex gap-3 items-center\">\r\n              <div id=\"icon\" className=\"p-3 bg-[#a02adf] rounded-md\">\r\n                <FaPersonWalkingArrowRight className=\"text-[#fff] text-[24px]\" />\r\n              </div>\r\n              <div className=\"flex flex-col gap-0\">\r\n                <div className=\"text-base font-semibold text-primary/80\">\r\n                  Speed\r\n                </div>\r\n                <div className=\"text-2xl font-bold text-primary\">\r\n                  {activityData?.speed ? activityData?.speed : \"--\"} m/min\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            id=\"roomEntryExit\"\r\n            className=\"flex justify-between gap-1 items-center bg-white rounded-2xl p-4 w-full\"\r\n          >\r\n            <div className=\"flex gap-3 items-center\">\r\n              <div id=\"icon\" className=\"p-3 bg-[#82cb24] rounded-md\">\r\n                <GiExitDoor className=\"text-[#fff] text-[24px]\" />\r\n              </div>\r\n              <div className=\"flex flex-col gap-0\">\r\n                <div className=\"text-base font-semibold text-primary/80\">\r\n                  Room Entry/Exit\r\n                </div>\r\n                <div className=\"text-2xl font-bold text-primary\">\r\n                  {activityData?.entry_room_count\r\n                    ? activityData?.entry_room_count\r\n                    : \"--\"}\r\n                  x\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useCallback, useContext, useEffect, useState } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { Skeleton } from \"antd\";\r\nimport { FaBedPulse } from \"react-icons/fa6\";\r\nimport { GiNightSleep } from \"react-icons/gi\";\r\nimport WakeUpIcon from \"@/assets/icon/wake-up.svg\";\r\nimport GetUpIcon from \"@/assets/icon/get-up.svg\";\r\nimport { formatTimeWithSuffix } from \"@/utils/helper\";\r\nimport { getDayTimeActivity } from \"../../../../../../api/deviceReports\";\r\nimport { SidebarContext } from \"../../../../../../Context/CustomContext\";\r\nimport { CustomContext } from \"@/Context/UseCustomContext\";\r\nimport dayjs from \"dayjs\";\r\nimport ls from \"store2\";\r\n\r\nexport const wakeUpIcon = (size) => {\r\n  return <img src={WakeUpIcon} alt=\"wake-up\" width={size} height={size} />;\r\n};\r\nexport const getUpIcon = (size) => {\r\n  return <img src={GetUpIcon} alt=\"get-up\" width={size} height={size} />;\r\n};\r\n\r\nexport default function AverageRoutineTime() {\r\n  const { sleepData, sleepDataLoading } = useContext(CustomContext);\r\n\r\n  const items = [\r\n    {\r\n      label: \"Went To Bed\",\r\n      color: \"#35CECE\",\r\n      value: formatTimeWithSuffix(sleepData?.get_bed_idx),\r\n      icon: <FaBedPulse size={20} color=\"#35CECE\" />,\r\n      initial: { x: -50, y: -50 },\r\n      delay: 0.2,\r\n    },\r\n    {\r\n      label: \"Fell Asleep\",\r\n      color: \"#FF6734\",\r\n      value: formatTimeWithSuffix(sleepData?.sleep_st_idx),\r\n      icon: <GiNightSleep size={20} color=\"#FF6734\" />,\r\n      initial: { x: 50, y: -50 },\r\n      delay: 0.2,\r\n    },\r\n    {\r\n      label: \"Wake Up\",\r\n      color: \"#8088FD\",\r\n      value: formatTimeWithSuffix(sleepData?.sleep_ed_idx),\r\n      icon: wakeUpIcon(20),\r\n      initial: { x: -50, y: 50 },\r\n      delay: 0.2,\r\n    },\r\n    {\r\n      label: \"Get Up\",\r\n      color: \"#ecb81c\",\r\n      value: formatTimeWithSuffix(sleepData?.leave_bed_idx),\r\n      icon: getUpIcon(20),\r\n      initial: { x: 50, y: 50 },\r\n      delay: 0.2,\r\n    },\r\n  ];\r\n  const [activityData, setActivityData] = useState([]);\r\n  const [loading, setLoading] = useState(true); // Add loading state\r\n  const elderlyDetais = ls.get(\"elderly_details\");\r\n  const { elderlyDetails } = useContext(CustomContext);\r\n  const { dailyRepDate } = useContext(SidebarContext);\r\n\r\n  const getActivityData = useCallback(() => {\r\n    setLoading(true); // Set loading to true when fetching starts\r\n    getDayTimeActivity({\r\n      uids: elderlyDetails?.deviceId,\r\n      elderly_id: elderlyDetails._id,\r\n      to_date: dailyRepDate || dayjs().subtract(1, \"day\").format(\"YYYY-MM-DD\"),\r\n    })\r\n      .then((res) => {\r\n        setActivityData(res.data?.user_activity);\r\n        setLoading(false); // Set loading to false when data is received\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setLoading(false); // Set loading to false on error\r\n      });\r\n  }, [elderlyDetails, dailyRepDate]);\r\n\r\n  useEffect(() => {\r\n    getActivityData();\r\n  }, [getActivityData]);\r\n  const renderSkeletonTile = () => (\r\n    <div className=\"flex flex-col items-center justify-center h-full gap-2\">\r\n      <Skeleton.Avatar active size={40} shape=\"square\" />\r\n      <div className=\"flex flex-col items-center justify-center gap-1\">\r\n        <Skeleton.Input active style={{ width: 80, height: 24 }} />\r\n        <Skeleton.Input active style={{ width: 100, height: 14 }} />\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-2xl p-6 h-full flex flex-col gap-4\">\r\n      <h1 className=\"text-[21px] font-bold text-primary\">\r\n        Average Routine Time\r\n      </h1>\r\n      {sleepDataLoading ? (\r\n        <div className=\"relative w-full grid grid-cols-2 grid-rows-2 gap-4 h-full\">\r\n          {renderSkeletonTile()}\r\n          {renderSkeletonTile()}\r\n          {renderSkeletonTile()}\r\n          {renderSkeletonTile()}\r\n        </div>\r\n      ) : (\r\n        <div className=\"relative w-full grid grid-cols-2 grid-rows-2 gap-4 h-full\">\r\n          <motion.div\r\n            className=\"absolute h-0.5 w-full top-1/2 left-0\"\r\n            style={{\r\n              background:\r\n                \"linear-gradient(to right, #ffffff, #D1D1D1, #ffffff)\",\r\n            }}\r\n            initial={{ scaleX: 0 }}\r\n            animate={{ scaleX: 1 }}\r\n            transition={{ duration: 0.9 }}\r\n          />\r\n          <motion.div\r\n            className=\"absolute w-0.5 h-full left-1/2 top-0\"\r\n            style={{\r\n              background:\r\n                \"linear-gradient(to bottom, #ffffff, #D1D1D1, #ffffff)\",\r\n            }}\r\n            initial={{ scaleY: 0 }}\r\n            animate={{ scaleY: 1 }}\r\n            transition={{ duration: 0.9 }}\r\n          />\r\n          {items.map((item, index) => (\r\n            <motion.div\r\n              key={index}\r\n              className=\"flex flex-col items-center justify-center h-full gap-2\"\r\n              initial={{ opacity: 0, ...item.initial }}\r\n              animate={{ opacity: 1, x: 0, y: 0 }}\r\n              transition={{ duration: 0.5, delay: item.delay, ease: \"linear\" }}\r\n            >\r\n              <div\r\n                id=\"icon\"\r\n                className=\"w-10 h-10 flex items-center justify-center rounded-lg\"\r\n                style={{ backgroundColor: `${item.color}27` }}\r\n              >\r\n                {item.icon}\r\n              </div>\r\n              <div className=\"flex flex-col items-center justify-center\">\r\n                <div className=\"text-2xl font-bold text-primary\">\r\n                  {item.value}\r\n                </div>\r\n                <div className=\"text-sm font-medium text-primary\">\r\n                  {item.label}\r\n                </div>\r\n              </div>\r\n            </motion.div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { lazy, Suspense, useEffect, useRef } from \"react\";\r\nconst DailyRoutineDistribution = lazy(() =>\r\n  import(\"./Components/DailyRoutineDistribution\")\r\n);\r\nimport ActivityOverviewTails from \"./Components/ActivityOverviewTails\";\r\nimport AverageRoutineTime from \"./Components/AverageRoutineTime\";\r\nimport DataAnalysisSlider from \"./Components/DataAnalysisSlider\";\r\nimport { useRefContext } from \"@/Context/RefContext\";\r\nconst BodyMovementIndexStatistic = lazy(() =>\r\n  import(\"./Components/BodyMovementIndexStatistic\")\r\n);\r\nconst WalkStepsStatistic = lazy(() =>\r\n  import(\"./Components/WalkStepsStatistic\")\r\n);\r\nconst DurationSpentInRoom = lazy(() =>\r\n  import(\"./Components/DurationSpentInRoom\")\r\n);\r\nconst NumberOfRoomEntriesAndExit = lazy(() =>\r\n  import(\"./Components/NumberOfRoomEntriesAndExit\")\r\n);\r\nconst WalkSpeedStatistic = lazy(() =>\r\n  import(\"./Components/WalkSpeedStatistic\")\r\n);\r\nconst BodyMovementIndexDistribution = lazy(() =>\r\n  import(\"./Components/BodyMovementIndexDistribution\")\r\n);\r\n\r\nfunction ChartWrapper({ height = 480, children, className }) {\r\n  return (\r\n    <div className={`h-[${height}px] ${className} w-full`}>\r\n      <Suspense fallback={<div>Loading...</div>}>{children}</Suspense>\r\n    </div>\r\n  );\r\n}\r\nexport default function ActivityTab() {\r\n  const { registerRef } = useRefContext();\r\n\r\n  const stepsRef = {\r\n    step1: useRef(null),\r\n    step2: useRef(null),\r\n    step3: useRef(null),\r\n    step4: useRef(null),\r\n    step5: useRef(null),\r\n  };\r\n\r\n  useEffect(() => {\r\n    Object.keys(stepsRef).forEach((key) => {\r\n      if (stepsRef[key].current) {\r\n        registerRef(\"tab_activity_\" + key, stepsRef[key]);\r\n      }\r\n    });\r\n  }, [registerRef]);\r\n  return (\r\n    <div className=\"flex flex-col gap-6 mt-6 w-full\">\r\n      <div ref={stepsRef.step1}>\r\n        <ActivityOverviewTails />\r\n      </div>\r\n      <div className=\"flex gap-6 w-full h-[400px]\">\r\n        <div className=\"w-[67%] h-full\" ref={stepsRef.step2}>\r\n          <Suspense fallback={<div className=\"h-full\">Loading...</div>}>\r\n            <DailyRoutineDistribution />\r\n          </Suspense>\r\n        </div>\r\n        <div className=\"w-[33%] h-full\" ref={stepsRef.step3}>\r\n          <AverageRoutineTime />\r\n        </div>\r\n      </div>\r\n      {/* <DataAnalysisSlider /> */}\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 w-full\">\r\n        <div className=\"col-span-2\" ref={stepsRef.step4}>\r\n          <ChartWrapper>\r\n            <DurationSpentInRoom />\r\n          </ChartWrapper>\r\n        </div>\r\n        {/* <ChartWrapper>\r\n          <BodyMovementIndexStatistic />\r\n        </ChartWrapper> */}\r\n        <ChartWrapper>\r\n          <WalkStepsStatistic />\r\n        </ChartWrapper>\r\n        <ChartWrapper>\r\n          <NumberOfRoomEntriesAndExit />\r\n        </ChartWrapper>\r\n        <ChartWrapper>\r\n          <WalkSpeedStatistic />\r\n        </ChartWrapper>\r\n        {/* <ChartWrapper>\r\n          <BodyMovementIndexDistribution />\r\n        </ChartWrapper> */}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"file":"assets/ActivityTab-B_Pd0reA.js"}