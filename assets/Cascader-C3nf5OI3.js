import{r as o,bq as Q,b$ as te,bX as H,bZ as We,fi as hn,fh as Me,c0 as Y,p as ke,e7 as re,dn as Le,dy as pn,dk as De,dh as Se,dU as gn,fk as mn,dv as Cn}from"./index-DYNZp1oE.js";try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},n=new e.Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="a69b551d-eee0-4be0-96b3-2339e587a423",e._sentryDebugIdIdentifier="sentry-dbid-a69b551d-eee0-4be0-96b3-2339e587a423")}catch{}var ge=o.createContext({}),fe="__rc_cascader_search_mark__",bn=function(n,a,t){var r=t.label,l=r===void 0?"":r;return a.some(function(u){return String(u[l]).toLowerCase().includes(n.toLowerCase())})},Sn=function(n,a,t,r){return a.map(function(l){return l[r.label]}).join(" / ")},yn=function(n,a,t,r,l,u){var i=l.filter,d=i===void 0?bn:i,v=l.render,g=v===void 0?Sn:v,p=l.limit,f=p===void 0?50:p,b=l.sort;return o.useMemo(function(){var s=[];if(!n)return[];function m(y,R){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;y.forEach(function(E){if(!(!b&&f!==!1&&f>0&&s.length>=f)){var I=[].concat(Q(R),[E]),$=E[t.children],k=S||E.disabled;if((!$||$.length===0||u)&&d(n,I,{label:t.label})){var h;s.push(te(te({},E),{},(h={disabled:k},H(h,t.label,g(n,I,r,t)),H(h,fe,I),H(h,t.children,void 0),h)))}$&&m(E[t.children],I,k)}})}return m(a,[]),b&&s.sort(function(y,R){return b(y[fe],R[fe],n,t)}),f!==!1&&f>0?s.slice(0,f):s},[n,a,t,r,g,u,d,b,f])},Ae="__RC_CASCADER_SPLIT__",He="SHOW_PARENT",Fe="SHOW_CHILD";function ee(e){return e.join(Ae)}function he(e){return e.map(ee)}function kn(e){return e.split(Ae)}function Ue(e){var n=e||{},a=n.label,t=n.value,r=n.children,l=t||"value";return{label:a||"label",value:l,key:l,children:r||"children"}}function Ce(e,n){var a,t;return(a=e.isLeaf)!==null&&a!==void 0?a:!((t=e[n.children])!==null&&t!==void 0&&t.length)}function _n(e){var n=e.parentElement;if(n){var a=e.offsetTop-n.offsetTop;a-n.scrollTop<0?n.scrollTo({top:a}):a+e.offsetHeight-n.scrollTop>n.offsetHeight&&n.scrollTo({top:a+e.offsetHeight-n.offsetHeight})}}function Be(e,n){return e.map(function(a){var t;return(t=a[fe])===null||t===void 0?void 0:t.map(function(r){return r[n.value]})})}function xn(e){return Array.isArray(e)&&Array.isArray(e[0])}function ye(e){return e?xn(e)?e:(e.length===0?[]:[e]).map(function(n){return Array.isArray(n)?n:[n]}):[]}function je(e,n,a){var t=new Set(e),r=n();return e.filter(function(l){var u=r[l],i=u?u.parent:null,d=u?u.children:null;return u&&u.node.disabled?!0:a===Fe?!(d&&d.some(function(v){return v.key&&t.has(v.key)})):!(i&&!i.node.disabled&&t.has(i.key))})}function pe(e,n,a){for(var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,r=n,l=[],u=function(){var v,g,p,f=e[i],b=(v=r)===null||v===void 0?void 0:v.findIndex(function(m){var y=m[a.value];return t?String(y)===String(f):y===f}),s=b!==-1?(g=r)===null||g===void 0?void 0:g[b]:null;l.push({value:(p=s==null?void 0:s[a.value])!==null&&p!==void 0?p:f,index:b,option:s}),r=s==null?void 0:s[a.children]},i=0;i<e.length;i+=1)u();return l}const On=function(e,n,a,t,r){return o.useMemo(function(){var l=r||function(u){var i=t?u.slice(-1):u,d=" / ";return i.every(function(v){return["string","number"].includes(We(v))})?i.join(d):i.reduce(function(v,g,p){var f=o.isValidElement(g)?o.cloneElement(g,{key:p}):g;return p===0?[f]:[].concat(Q(v),[d,f])},[])};return e.map(function(u){var i,d=pe(u,n,a),v=l(d.map(function(p){var f,b=p.option,s=p.value;return(f=b==null?void 0:b[a.label])!==null&&f!==void 0?f:s}),d.map(function(p){var f=p.option;return f})),g=ee(u);return{label:v,value:g,key:g,valueCells:u,disabled:(i=d[d.length-1])===null||i===void 0||(i=i.option)===null||i===void 0?void 0:i.disabled}})},[e,n,a,r,t])};function Xe(e,n){return o.useCallback(function(a){var t=[],r=[];return a.forEach(function(l){var u=pe(l,e,n);u.every(function(i){return i.option})?r.push(l):t.push(l)}),[r,t]},[e,n])}const Vn=function(e,n){var a=o.useRef({options:[],info:{keyEntities:{},pathKeyEntities:{}}}),t=o.useCallback(function(){return a.current.options!==e&&(a.current.options=e,a.current.info=hn(e,{fieldNames:n,initWrapper:function(l){return te(te({},l),{},{pathKeyEntities:{}})},processEntity:function(l,u){var i=l.nodes.map(function(d){return d[n.value]}).join(Ae);u.pathKeyEntities[i]=l,l.key=i}})),a.current.info.pathKeyEntities},[n,e]);return t};function qe(e,n){var a=o.useMemo(function(){return n||[]},[n]),t=Vn(a,e),r=o.useCallback(function(l){var u=t();return l.map(function(i){var d=u[i].nodes;return d.map(function(v){return v[e.value]})})},[t,e]);return[a,t,r]}function Pn(e){return o.useMemo(function(){if(!e)return[!1,{}];var n={matchInputWidth:!0,limit:50};return e&&We(e)==="object"&&(n=te(te({},n),e)),n.limit<=0&&(n.limit=!1),[!0,n]},[e])}function Je(e,n,a,t,r,l,u,i){return function(d){if(!e)n(d);else{var v=ee(d),g=he(a),p=he(t),f=g.includes(v),b=r.some(function(k){return ee(k)===v}),s=a,m=r;if(b&&!f)m=r.filter(function(k){return ee(k)!==v});else{var y=f?g.filter(function(k){return k!==v}):[].concat(Q(g),[v]),R=l(),S;if(f){var E=Me(y,{checked:!1,halfCheckedKeys:p},R);S=E.checkedKeys}else{var I=Me(y,!0,R);S=I.checkedKeys}var $=je(S,l,i);s=u($)}n([].concat(Q(m),Q(s)))}}}function Ge(e,n,a,t,r){return o.useMemo(function(){var l=r(n),u=Y(l,2),i=u[0],d=u[1];if(!e||!n.length)return[i,[],d];var v=he(i),g=a(),p=Me(v,!0,g),f=p.checkedKeys,b=p.halfCheckedKeys;return[t(f),t(b),d]},[e,n,a,t,r])}var En=o.memo(function(e){var n=e.children;return n},function(e,n){return!n.open});function wn(e){var n,a=e.prefixCls,t=e.checked,r=e.halfChecked,l=e.disabled,u=e.onClick,i=e.disableCheckbox,d=o.useContext(ge),v=d.checkable,g=typeof v!="boolean"?v:null;return o.createElement("span",{className:ke("".concat(a),(n={},H(n,"".concat(a,"-checked"),t),H(n,"".concat(a,"-indeterminate"),!t&&r),H(n,"".concat(a,"-disabled"),l||i),n)),onClick:u},g)}var Ye="__cascader_fix_label__";function In(e){var n=e.prefixCls,a=e.multiple,t=e.options,r=e.activeValue,l=e.prevValuePath,u=e.onToggleOpen,i=e.onSelect,d=e.onActive,v=e.checkedSet,g=e.halfCheckedSet,p=e.loadingKeys,f=e.isSelectable,b="".concat(n,"-menu"),s="".concat(n,"-menu-item"),m=o.useContext(ge),y=m.fieldNames,R=m.changeOnSelect,S=m.expandTrigger,E=m.expandIcon,I=m.loadingIcon,$=m.dropdownMenuColumnStyle,k=m.optionRender,h=S==="hover",w=o.useMemo(function(){return t.map(function(c){var x,O=c.disabled,V=c.disableCheckbox,W=c[fe],M=(x=c[Ye])!==null&&x!==void 0?x:c[y.label],D=c[y.value],q=Ce(c,y),B=W?W.map(function(j){return j[y.value]}):[].concat(Q(l),[D]),N=ee(B),L=p.includes(N),F=v.has(N),U=g.has(N);return{disabled:O,label:M,value:D,isLeaf:q,isLoading:L,checked:F,halfChecked:U,option:c,disableCheckbox:V,fullPath:B,fullPathKey:N}})},[t,v,y,g,p,l]);return o.createElement("ul",{className:b,role:"menu"},w.map(function(c){var x,O=c.disabled,V=c.label,W=c.value,M=c.isLeaf,D=c.isLoading,q=c.checked,B=c.halfChecked,N=c.option,L=c.fullPath,F=c.fullPathKey,U=c.disableCheckbox,j=function(){if(!O){var T=Q(L);h&&M&&T.pop(),d(T)}},ne=function(){f(N)&&i(L,M)},Z;return typeof N.title=="string"?Z=N.title:typeof V=="string"&&(Z=V),o.createElement("li",{key:F,className:ke(s,(x={},H(x,"".concat(s,"-expand"),!M),H(x,"".concat(s,"-active"),r===W||r===F),H(x,"".concat(s,"-disabled"),O),H(x,"".concat(s,"-loading"),D),x)),style:$,role:"menuitemcheckbox",title:Z,"aria-checked":q,"data-path-key":F,onClick:function(){j(),!U&&(!a||M)&&ne()},onDoubleClick:function(){R&&u(!1)},onMouseEnter:function(){h&&j()},onMouseDown:function(T){T.preventDefault()}},a&&o.createElement(wn,{prefixCls:"".concat(n,"-checkbox"),checked:q,halfChecked:B,disabled:O||U,disableCheckbox:U,onClick:function(T){U||(T.stopPropagation(),ne())}}),o.createElement("div",{className:"".concat(s,"-content")},k?k(N):V),!D&&E&&!M&&o.createElement("div",{className:"".concat(s,"-expand-icon")},E),D&&I&&o.createElement("div",{className:"".concat(s,"-loading-icon")},I))}))}var Mn=function(n,a){var t=o.useContext(ge),r=t.values,l=r[0],u=o.useState([]),i=Y(u,2),d=i[0],v=i[1];return o.useEffect(function(){n||v(l||[])},[a,l]),[d,v]};const Dn=function(e,n,a,t,r,l,u){var i=u.direction,d=u.searchValue,v=u.toggleOpen,g=u.open,p=i==="rtl",f=o.useMemo(function(){for(var k=-1,h=n,w=[],c=[],x=t.length,O=Be(n,a),V=function(B){var N=h.findIndex(function(L,F){return(O[F]?ee(O[F]):L[a.value])===t[B]});if(N===-1)return 1;k=N,w.push(k),c.push(t[B]),h=h[k][a.children]},W=0;W<x&&h&&!V(W);W+=1);for(var M=n,D=0;D<w.length-1;D+=1)M=M[w[D]][a.children];return[c,k,M,O]},[t,a,n]),b=Y(f,4),s=b[0],m=b[1],y=b[2],R=b[3],S=function(h){r(h)},E=function(h){var w=y.length,c=m;c===-1&&h<0&&(c=w);for(var x=0;x<w;x+=1){c=(c+h+w)%w;var O=y[c];if(O&&!O.disabled){var V=s.slice(0,-1).concat(R[c]?ee(R[c]):O[a.value]);S(V);return}}},I=function(){if(s.length>1){var h=s.slice(0,-1);S(h)}else v(!1)},$=function(){var h,w=((h=y[m])===null||h===void 0?void 0:h[a.children])||[],c=w.find(function(O){return!O.disabled});if(c){var x=[].concat(Q(s),[c[a.value]]);S(x)}};o.useImperativeHandle(e,function(){return{onKeyDown:function(h){var w=h.which;switch(w){case re.UP:case re.DOWN:{var c=0;w===re.UP?c=-1:w===re.DOWN&&(c=1),c!==0&&E(c);break}case re.LEFT:{if(d)break;p?$():I();break}case re.RIGHT:{if(d)break;p?I():$();break}case re.BACKSPACE:{d||I();break}case re.ENTER:{if(s.length){var x=y[m],O=(x==null?void 0:x[fe])||[];O.length?l(O.map(function(V){return V[a.value]}),O[O.length-1]):l(s,y[m])}break}case re.ESC:v(!1),g&&h.stopPropagation()}},onKeyUp:function(){}}})};var Ze=o.forwardRef(function(e,n){var a,t,r,l=e.prefixCls,u=e.multiple,i=e.searchValue,d=e.toggleOpen,v=e.notFoundContent,g=e.direction,p=e.open,f=o.useRef(null),b=g==="rtl",s=o.useContext(ge),m=s.options,y=s.values,R=s.halfValues,S=s.fieldNames,E=s.changeOnSelect,I=s.onSelect,$=s.searchOptions,k=s.dropdownPrefixCls,h=s.loadData,w=s.expandTrigger,c=k||l,x=o.useState([]),O=Y(x,2),V=O[0],W=O[1],M=function(C){if(!(!h||i)){var _=pe(C,m,S),P=_.map(function(ue){var ae=ue.option;return ae}),K=P[P.length-1];if(K&&!Ce(K,S)){var ie=ee(C);W(function(ue){return[].concat(Q(ue),[ie])}),h(P)}}};o.useEffect(function(){V.length&&V.forEach(function(A){var C=kn(A),_=pe(C,m,S,!0).map(function(K){var ie=K.option;return ie}),P=_[_.length-1];(!P||P[S.children]||Ce(P,S))&&W(function(K){return K.filter(function(ie){return ie!==A})})})},[m,V,S]);var D=o.useMemo(function(){return new Set(he(y))},[y]),q=o.useMemo(function(){return new Set(he(R))},[R]),B=Mn(u,p),N=Y(B,2),L=N[0],F=N[1],U=function(C){F(C),M(C)},j=function(C){var _=C.disabled,P=Ce(C,S);return!_&&(P||E||u)},ne=function(C,_){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;I(C),!u&&(_||E&&(w==="hover"||P))&&d(!1)},Z=o.useMemo(function(){return i?$:m},[i,$,m]),J=o.useMemo(function(){for(var A=[{options:Z}],C=Z,_=Be(C,S),P=function(){var ue=L[K],ae=C.find(function(_e,be){return(_[be]?ee(_[be]):_e[S.value])===ue}),ce=ae==null?void 0:ae[S.children];if(!(ce!=null&&ce.length))return 1;C=ce,A.push({options:ce})},K=0;K<L.length&&!P();K+=1);return A},[Z,L,S]),T=function(C,_){j(_)&&ne(C,Ce(_,S),!0)};Dn(n,Z,S,L,U,T,{direction:g,searchValue:i,toggleOpen:d,open:p}),o.useEffect(function(){if(!i)for(var A=0;A<L.length;A+=1){var C,_=L.slice(0,A+1),P=ee(_),K=(C=f.current)===null||C===void 0?void 0:C.querySelector('li[data-path-key="'.concat(P.replace(/\\{0,2}"/g,'\\"'),'"]'));K&&_n(K)}},[L,i]);var se=!((a=J[0])!==null&&a!==void 0&&(a=a.options)!==null&&a!==void 0&&a.length),oe=[(t={},H(t,S.value,"__EMPTY__"),H(t,Ye,v),H(t,"disabled",!0),t)],ve=te(te({},e),{},{multiple:!se&&u,onSelect:ne,onActive:U,onToggleOpen:d,checkedSet:D,halfCheckedSet:q,loadingKeys:V,isSelectable:j}),le=se?[{options:oe}]:J,G=le.map(function(A,C){var _=L.slice(0,C),P=L[C];return o.createElement(In,Le({key:C},ve,{prefixCls:c,options:A.options,prevValuePath:_,activeValue:P}))});return o.createElement(En,{open:p},o.createElement("div",{className:ke("".concat(c,"-menus"),(r={},H(r,"".concat(c,"-menu-empty"),se),H(r,"".concat(c,"-rtl"),b),r)),ref:f},G))}),Ln=o.forwardRef(function(e,n){var a=pn();return o.createElement(Ze,Le({},e,a,{ref:n}))});function An(){}function Rn(e){var n,a=e,t=a.prefixCls,r=t===void 0?"rc-cascader":t,l=a.style,u=a.className,i=a.options,d=a.checkable,v=a.defaultValue,g=a.value,p=a.fieldNames,f=a.changeOnSelect,b=a.onChange,s=a.showCheckedStrategy,m=a.loadData,y=a.expandTrigger,R=a.expandIcon,S=R===void 0?">":R,E=a.loadingIcon,I=a.direction,$=a.notFoundContent,k=$===void 0?"Not Found":$,h=!!d,w=De(v,{value:g,postState:ye}),c=Y(w,2),x=c[0],O=c[1],V=o.useMemo(function(){return Ue(p)},[JSON.stringify(p)]),W=qe(V,i),M=Y(W,3),D=M[0],q=M[1],B=M[2],N=Xe(D,V),L=Ge(h,x,q,B,N),F=Y(L,3),U=F[0],j=F[1],ne=F[2],Z=Se(function(le){if(O(le),b){var G=ye(le),A=G.map(function(P){return pe(P,D,V).map(function(K){return K.option})}),C=h?G:G[0],_=h?A:A[0];b(C,_)}}),J=Je(h,Z,U,j,ne,q,B,s),T=Se(function(le){J(le)}),se=o.useMemo(function(){return{options:D,fieldNames:V,values:U,halfValues:j,changeOnSelect:f,onSelect:T,checkable:d,searchOptions:[],dropdownPrefixCls:void 0,loadData:m,expandTrigger:y,expandIcon:S,loadingIcon:E,dropdownMenuColumnStyle:void 0}},[D,V,U,j,f,T,d,m,y,S,E]),oe="".concat(r,"-panel"),ve=!D.length;return o.createElement(ge.Provider,{value:se},o.createElement("div",{className:ke(oe,(n={},H(n,"".concat(oe,"-rtl"),I==="rtl"),H(n,"".concat(oe,"-empty"),ve),n),u),style:l},ve?k:o.createElement(Ze,{prefixCls:r,searchValue:"",multiple:h,toggleOpen:An,open:!0,direction:I})))}var Tn=["id","prefixCls","fieldNames","defaultValue","value","changeOnSelect","onChange","displayRender","checkable","autoClearSearchValue","searchValue","onSearch","showSearch","expandTrigger","options","dropdownPrefixCls","loadData","popupVisible","open","popupClassName","dropdownClassName","dropdownMenuColumnStyle","dropdownStyle","popupPlacement","placement","onDropdownVisibleChange","onPopupVisibleChange","expandIcon","loadingIcon","children","dropdownMatchSelectWidth","showCheckedStrategy","optionRender"],Re=o.forwardRef(function(e,n){var a=e.id,t=e.prefixCls,r=t===void 0?"rc-cascader":t,l=e.fieldNames,u=e.defaultValue,i=e.value,d=e.changeOnSelect,v=e.onChange,g=e.displayRender,p=e.checkable,f=e.autoClearSearchValue,b=f===void 0?!0:f,s=e.searchValue,m=e.onSearch,y=e.showSearch,R=e.expandTrigger,S=e.options,E=e.dropdownPrefixCls,I=e.loadData,$=e.popupVisible,k=e.open,h=e.popupClassName,w=e.dropdownClassName,c=e.dropdownMenuColumnStyle,x=e.dropdownStyle,O=e.popupPlacement,V=e.placement,W=e.onDropdownVisibleChange,M=e.onPopupVisibleChange,D=e.expandIcon,q=D===void 0?">":D,B=e.loadingIcon,N=e.children,L=e.dropdownMatchSelectWidth,F=L===void 0?!1:L,U=e.showCheckedStrategy,j=U===void 0?He:U,ne=e.optionRender,Z=gn(e,Tn),J=mn(a),T=!!p,se=De(u,{value:i,postState:ye}),oe=Y(se,2),ve=oe[0],le=oe[1],G=o.useMemo(function(){return Ue(l)},[JSON.stringify(l)]),A=qe(G,S),C=Y(A,3),_=C[0],P=C[1],K=C[2],ie=De("",{value:s,postState:function(X){return X||""}}),ue=Y(ie,2),ae=ue[0],ce=ue[1],_e=function(X,de){ce(X),de.source!=="blur"&&m&&m(X)},be=Pn(y),Te=Y(be,2),ze=Te[0],Ke=Te[1],xe=yn(ae,_,G,E||r,Ke,d||T),Qe=Xe(_,G),en=Ge(T,ve,P,K,Qe),Oe=Y(en,3),me=Oe[0],Ve=Oe[1],Pe=Oe[2],nn=o.useMemo(function(){var z=he(me),X=je(z,P,j);return[].concat(Q(Pe),Q(K(X)))},[me,P,K,Pe,j]),an=On(nn,_,G,T,g),Ne=Se(function(z){if(le(z),v){var X=ye(z),de=X.map(function(vn){return pe(vn,_,G).map(function(fn){return fn.option})}),we=T?X:X[0],Ie=T?de:de[0];v(we,Ie)}}),tn=Je(T,Ne,me,Ve,Pe,P,K,j),Ee=Se(function(z){(!T||b)&&ce(""),tn(z)}),rn=function(X,de){if(de.type==="clear"){Ne([]);return}var we=de.values[0],Ie=we.valueCells;Ee(Ie)},on=k!==void 0?k:$,ln=w||h,un=V||O,cn=function(X){W==null||W(X),M==null||M(X)},sn=o.useMemo(function(){return{options:_,fieldNames:G,values:me,halfValues:Ve,changeOnSelect:d,onSelect:Ee,checkable:p,searchOptions:xe,dropdownPrefixCls:E,loadData:I,expandTrigger:R,expandIcon:q,loadingIcon:B,dropdownMenuColumnStyle:c,optionRender:ne}},[_,G,me,Ve,d,Ee,p,xe,E,I,R,q,B,c,ne]),$e=!(ae?xe:_).length,dn=ae&&Ke.matchInputWidth||$e?{}:{minWidth:"auto"};return o.createElement(ge.Provider,{value:sn},o.createElement(Cn,Le({},Z,{ref:n,id:J,prefixCls:r,autoClearSearchValue:b,dropdownMatchSelectWidth:F,dropdownStyle:te(te({},dn),x),displayValues:an,onDisplayValuesChange:rn,mode:T?"multiple":void 0,searchValue:ae,onSearch:_e,showSearch:ze,OptionList:Ln,emptyOptions:$e,open:on,dropdownClassName:ln,placement:un,onDropdownVisibleChange:cn,getRawInputElement:function(){return N}})))});Re.SHOW_PARENT=He;Re.SHOW_CHILD=Fe;Re.Panel=Rn;export{Re as C,Rn as P};
//# sourceMappingURL=Cascader-C3nf5OI3.js.map
