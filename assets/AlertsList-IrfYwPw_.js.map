{"version":3,"file":"AlertsList-IrfYwPw_.js","sources":["../../src/Pages/Alerts/Utiles/utiles.jsx","../../src/Pages/Alerts/mock.js","../../src/Pages/Alerts/Utiles/utiles2.jsx","../../src/Pages/Alerts/AlertsList.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport Elderly from \"@/Components/NameCol/Elderly\";\r\nimport LargeTextViewerModal from \"@/Components/LargeTextViewerModal/LargeTextViewerModal\";\r\nimport { LuNavigation } from \"react-icons/lu\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nexport default function useElderlyTableColumns(role) {\r\n  const navigate = useNavigate(); // Initialize the navigate function\r\n\r\n  const randomId = Math.floor(Math.random() * 1000000);\r\n  const handleViewClick = (row) => {\r\n    window.scrollTo(0, 0);\r\n    navigate(`/supporter/elderlies/elderly-profile/${randomId}?tab=overview`); // Navigate to the profile page with the ID\r\n  };\r\n  const elderlyTableColsMapping = {\r\n    support_agent: [\r\n      \"elderlyName\",\r\n      \"activeAlert\",\r\n      \"allergies\",\r\n      \"diseases\",\r\n      \"medications\",\r\n      \"viewOnMap\",\r\n    ],\r\n    nurse: [\r\n      \"elderlyName\",\r\n      \"activeAlert\",\r\n      \"allergies\",\r\n      \"diseases\",\r\n      \"medications\",\r\n      \"viewOnMap\",\r\n    ],\r\n    end_user: [\r\n      \"elderlyName\",\r\n      \"activeAlert\",\r\n      \"allergies\",\r\n      \"diseases\",\r\n      \"medications\",\r\n      \"viewOnMap\",\r\n    ],\r\n  };\r\n  const elderlyTableColumns = {\r\n    elderlyName: {\r\n      title: \"Elderly Name\",\r\n      render: (row) => (\r\n        <Elderly onClick={() => handleViewClick(row)} data={row} />\r\n      ),\r\n    },\r\n    roomName: {\r\n      title: \"Room Name\",\r\n      dataIndex: \"roomName\",\r\n      render: (text) => <span>{text}</span>,\r\n    },\r\n    activeAlert: {\r\n      title: \"Active Alert\",\r\n      dataIndex: \"activeAlert\",\r\n      render: (text) => <span>{text}</span>,\r\n    },\r\n    address: {\r\n      title: \"Address\",\r\n      width: \"230px\",\r\n      render: (row) => (\r\n        <span className=\"!w-[230px] text-nowrap\">{row.address}</span>\r\n      ),\r\n    },\r\n    allergies: {\r\n      title: \"Allergies\",\r\n      dataIndex: \"allergies\",\r\n      render: (text) => <span>{text}</span>,\r\n    },\r\n    diseases: {\r\n      title: \"Diseases\",\r\n      dataIndex: \"diseases\",\r\n      render: (text) => <span>{text}</span>,\r\n    },\r\n    medications: {\r\n      title: \"Medications\",\r\n      dataIndex: \"medications\",\r\n      render: (text) => <span>{text}</span>,\r\n    },\r\n    viewOnMap: {\r\n      title: \"View On Map\",\r\n      render: (row) => (\r\n        <span className=\"flex items-center transition-all duration-300 justify-start gap-2 text-sm font-medium text-text-primary hover:text-primary cursor-pointer p-2 rounded-md w-fit text-center hover:bg-slate-100\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <a\r\n              href={`https://www.google.com/maps?q=${row.lat},${row.lng}`}\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              className=\"text-base font-medium !text-blue-500\"\r\n            >\r\n              View on Map\r\n            </a>\r\n            <LuNavigation size={18} className=\"text-blue-500\" />\r\n          </div>\r\n        </span>\r\n      ),\r\n    },\r\n  };\r\n\r\n  const [elderlyTableColumn, setElderlyTableColumns] = useState([]);\r\n  useEffect(() => {\r\n    console.log(\"Current role:\");\r\n    console.log(\"Available roles:\", Object.keys(elderlyTableColsMapping));\r\n    if (role === \"support_agent\") {\r\n      const cols = elderlyTableColsMapping.support_agent.map((col) => {\r\n        return elderlyTableColumns[col];\r\n      });\r\n      setElderlyTableColumns(cols);\r\n    } else if (role === \"nurse\") {\r\n      const cols = elderlyTableColsMapping.nurse.map((col) => {\r\n        return elderlyTableColumns[col];\r\n      });\r\n      setElderlyTableColumns(cols);\r\n    } else if (role === \"end_user\") {\r\n      const cols = elderlyTableColsMapping.end_user.map((col) => {\r\n        return elderlyTableColumns[col];\r\n      });\r\n      setElderlyTableColumns(cols);\r\n    } else {\r\n      setElderlyTableColumns([]);\r\n    }\r\n  }, []);\r\n  return elderlyTableColumn;\r\n}\r\n\r\nexport { useElderlyTableColumns };\r\n","export const generateRandomAlerts = (count) => {\r\n  const alertTypes = [\"Critical\", \"Info\", \"Warning\"];\r\n  const rooms = [\"Living Room\", \"Kitchen\", \"Bedroom\", \"Bathroom\"];\r\n  const names = [\r\n    \"John Doe\",\r\n    \"Jane Doe\",\r\n    \"Alice Smith\",\r\n    \"Bob Johnson\",\r\n    \"Emma Brown\",\r\n    \"Michael Wilson\",\r\n    \"Sarah Davis\",\r\n    \"David Miller\",\r\n    \"Lisa Garcia\",\r\n    \"James Rodriguez\",\r\n  ];\r\n  const alertNames = [\r\n    \"Fall Detected\",\r\n    \"Fire Detected\",\r\n    \"Inactivity Alert\",\r\n    \"Medication Reminder\",\r\n    \"Unusual Behavior\",\r\n    \"High Temperature\",\r\n    \"Low Temperature\",\r\n    \"Water Leak\",\r\n    \"Door Left Open\",\r\n    \"Window Broken\",\r\n  ];\r\n  const eventNames = [\r\n    \"Medication Taken\",\r\n    \"Medication Not Taken\",\r\n    \"Medication Reminder\",\r\n  ];\r\n  const disabilityTypes = [\"Wheelchair\", \"Crutches\", \"Cane\", \"None\"];\r\n  const allergies = [\"Yes\", \"No\"];\r\n  const diseases = [\"Yes\", \"No\"];\r\n  const medications = [\"Yes\", \"No\"];\r\n  const activeAlert = [\"1\", \"4\", \"2\", \"No\"];\r\n  const isAlert = [\"True\", \"False\"];\r\n  return Array.from({ length: count }, (_, index) => ({\r\n    _id: index + 1,\r\n    alertType: alertTypes[Math.floor(Math.random() * alertTypes.length)],\r\n    elderlyName: names[Math.floor(Math.random() * names.length)],\r\n    alertName: alertNames[Math.floor(Math.random() * alertNames.length)],\r\n    roomId: String(index + 1),\r\n    roomName: rooms[Math.floor(Math.random() * rooms.length)],\r\n    alertLifetime: `${Math.floor(Math.random() * 10)}m ${Math.floor(\r\n      Math.random() * 60\r\n    )}s`,\r\n    time: new Date().toLocaleString(),\r\n    alertDescription: `${\r\n      alertNames[Math.floor(Math.random() * alertNames.length)]\r\n    } in the ${rooms[Math.floor(Math.random() * rooms.length)]}`,\r\n    status: \"Active\",\r\n    isAlert: isAlert[Math.floor(Math.random() * isAlert.length)],\r\n    address: \"123 Main St, Anytown, USA\",\r\n    coordinates: {\r\n      latitude: 37.7749 + (Math.random() - 0.5) * 0.01,\r\n      longitude: -122.4194 + (Math.random() - 0.5) * 0.01,\r\n    },\r\n    //for close alert\r\n    closedAt: new Date().toLocaleString(),\r\n    closedBy: names[Math.floor(Math.random() * names.length)],\r\n    //for event\r\n    eventName: eventNames[Math.floor(Math.random() * eventNames.length)],\r\n    disabilityType:\r\n      disabilityTypes[Math.floor(Math.random() * disabilityTypes.length)],\r\n    additionalInfo: \"This is additional info for event\",\r\n    hospital: {\r\n      name: \"Hospital For Special Surgery\",\r\n      phone: \"1234567890\",\r\n      latitude: -33.8743612,\r\n      longitude: 151.2261153,\r\n    },\r\n    allergies: allergies[Math.floor(Math.random() * allergies.length)],\r\n    diseases: diseases[Math.floor(Math.random() * diseases.length)],\r\n    medications: medications[Math.floor(Math.random() * medications.length)],\r\n    activeAlert: activeAlert[Math.floor(Math.random() * activeAlert.length)],\r\n    alertComments: \"This is alert comments\",\r\n    alertLifespan: [\r\n      {\r\n        dateTime: \"24-01-2024 10:00 AM\",\r\n        description: \"At 10:00 AM, the alert was created\",\r\n      },\r\n      {\r\n        dateTime: \"24-01-2024 10:30 AM\",\r\n        description:\r\n          \"Agent (petar) clicked on the incident in 10:30 (30mins later)\",\r\n      },\r\n      {\r\n        dateTime: \"24-01-2024 10:32 AM\",\r\n        description:\r\n          \"Agent (petar) clicked on “Call Elderly” in 10:32 (2mins later)\",\r\n      },\r\n      {\r\n        dateTime: \"24-01-2024 10:34 AM\",\r\n        description:\r\n          \"Agent (petar) clicked on “Call 911” in 10:34 (2mins later)\",\r\n      },\r\n      {\r\n        dateTime: \"24-01-2024 10:36 AM\",\r\n        description:\r\n          \"Agent (petar) clicked on “Close Alert” in 10:36 (2mins later)\",\r\n      },\r\n    ],\r\n  }));\r\n};\r\nexport const alerts = generateRandomAlerts(14);\r\nexport const activeAlertsTableData = generateRandomAlerts(20);\r\nexport const recentlyClosedAlertsTableData = generateRandomAlerts(20);\r\nexport const eventsTableData = generateRandomAlerts(20);\r\nexport const elderlyListTableData = generateRandomAlerts(20);\r\n","import { useEffect, useState, useContext } from \"react\";\r\nimport LargeTextViewerModal from \"@/Components/LargeTextViewerModal/LargeTextViewerModal\";\r\nimport AlertName from \"@/Components/NameCol/AlertName\";\r\nimport LifespanTimeline from \"@/Components/LifespanTimeline/LifespanTimeline\";\r\nimport {\r\n  transformDateAndTime,\r\n  transformDateAndTimeToDuration,\r\n  getAlertType,\r\n} from \"@/utils/helper\";\r\nimport { SidebarContext } from \"@/Context/CustomContext\";\r\nimport { LuEye } from \"react-icons/lu\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport default function useAlertHistoryColumns(type) {\r\n  const { rolesFormatter } = useContext(SidebarContext);\r\n  const [alertTableColumns, setAlertTableColumns] = useState(undefined);\r\n  const navigate = useNavigate(); // Initialize the navigate function\r\n  const handleViewClick = (row) => {\r\n    window.scrollTo(0, 0);\r\n    navigate(\r\n      `/supporter/elderlies/elderly-profile/${row.elderly_id}?tab=overview`\r\n    );\r\n  };\r\n  const alertColsMapping = {\r\n    alertHistory: [\r\n      \"alertName\",\r\n      \"alertType\",\r\n      \"elderlyName\",\r\n      \"roomName\",\r\n      \"incidentTime\",\r\n      \"alertLifetime\",\r\n      \"alertStatus\",\r\n      \"comment\",\r\n      \"closedAt\",\r\n      \"closedBy\",\r\n      \"address\",\r\n      \"viewElderly\",\r\n    ],\r\n  };\r\n  const AlertsTableColumns = {\r\n    alertName: {\r\n      title: \"Notifications Name\",\r\n      render: (row) => <AlertName data={row} />,\r\n    },\r\n    alertType: {\r\n      title: \"Notifications Type\",\r\n      dataIndex: \"event\",\r\n      render: (event) => <span>{getAlertType(event)}</span>,\r\n    },\r\n    elderlyName: {\r\n      title: \"User Name\",\r\n      dataIndex: \"elderly_name\",\r\n      render: (text) => <span>{text}</span>,\r\n    },\r\n    roomName: {\r\n      title: \"Room Name\",\r\n      dataIndex: \"room_name\",\r\n      render: (text) => <span>{text}</span>,\r\n    },\r\n\r\n    incidentTime: {\r\n      title: \"Observation Time\",\r\n      dataIndex: \"created_at\",\r\n      render: (text) => (\r\n        <span className=\"text-nowrap\">{transformDateAndTime(text)}</span>\r\n      ),\r\n    },\r\n    alertLifetime: {\r\n      title: \"Notification Duration\",\r\n      dataIndex: \"closed_at\",\r\n      render: (text) => (\r\n        <span className=\"text-nowrap\">\r\n          {transformDateAndTimeToDuration(text)}\r\n        </span>\r\n      ),\r\n    },\r\n    alertStatus: {\r\n      title: \"Notification  Status\",\r\n      dataIndex: \"status\",\r\n      render: (text) => (\r\n        <span className=\"text-nowrap\">\r\n          {text == 0 ? \"True Notification \" : \"False Notification \"}\r\n        </span>\r\n      ),\r\n    },\r\n    comment: {\r\n      title: \"Comments\",\r\n      render: (row) => (\r\n        <LargeTextViewerModal data={row.comment} title=\"Alert Comments\" />\r\n      ),\r\n    },\r\n    // alertLifeSpan: {\r\n    //   title: \"Alert Lifespan\",\r\n    //   dataIndex: \"alertLifespan\",\r\n    //   render: (data) => <LifespanTimeline data={data} />,\r\n    // },\r\n    address: {\r\n      title: \"Address\",\r\n      width: \"230px\",\r\n      render: (row) => (\r\n        <span className=\"!w-[230px] text-nowrap\">{row.address}</span>\r\n      ),\r\n    },\r\n    //for recently closed alerts table\r\n    closedAt: {\r\n      title: \"Closed At\",\r\n      dataIndex: \"closed_at\",\r\n      render: (text) => (\r\n        <span className=\"text-nowrap\">{transformDateAndTime(text)}</span>\r\n      ),\r\n    },\r\n    closedBy: {\r\n      title: \"Closed By\",\r\n      render: (row) => (\r\n        <span className=\"text-nowrap\">\r\n          {row.closed_by} ({rolesFormatter[row.closed_by_role]} )\r\n        </span>\r\n      ),\r\n    },\r\n    //for events table\r\n    eventName: {\r\n      title: \"Event Name\",\r\n      dataIndex: \"eventName\",\r\n      render: (text) => <span>{text}</span>,\r\n    },\r\n    eventTime: {\r\n      title: \"Event Time\",\r\n      dataIndex: \"time\",\r\n      render: (text) => <span className=\"text-nowrap\">{text}</span>,\r\n    },\r\n    eventTimeline: {\r\n      title: \"Event Timeline\",\r\n      dataIndex: \"alertLifetime\",\r\n      render: (text) => <span className=\"text-nowrap\">{text}</span>,\r\n    },\r\n    disabilityType: {\r\n      title: \"Disability Type\",\r\n      dataIndex: \"disabilityType\",\r\n      render: (text) => <span className=\"text-nowrap\">{text}</span>,\r\n    },\r\n    hospital: {\r\n      title: \"Hospital\",\r\n      dataIndex: \"hospital\",\r\n      render: (row) => (\r\n        <span className=\"text-nowrap\">\r\n          {row.name.length > 20 ? `${row.name.substring(0, 20)}...` : row.name}\r\n        </span>\r\n      ),\r\n    },\r\n    largeText: {\r\n      title: () => {\r\n        switch (type) {\r\n          case \"events\":\r\n            return \"Additional Info\";\r\n          default:\r\n            return \"\";\r\n        }\r\n      },\r\n      render: (row) => (\r\n        <LargeTextViewerModal\r\n          data={row.additionalInfo}\r\n          title=\"Additional Info\"\r\n        />\r\n      ),\r\n    },\r\n    viewElderly: {\r\n      title: \"View Elderly\",\r\n      render: (row) => (\r\n        <span\r\n          onClick={() => handleViewClick(row)}\r\n          className=\"flex items-center transition-all duration-300 justify-center gap-2 text-sm font-medium text-text-primary hover:text-primary cursor-pointer p-2 rounded-md  text-center hover:bg-slate-100\"\r\n        >\r\n          View <LuEye />\r\n        </span>\r\n      ),\r\n    },\r\n  };\r\n  useEffect(() => {\r\n    if (type === \"alertHistory\") {\r\n      const cols = alertColsMapping.alertHistory.map((col) => {\r\n        return AlertsTableColumns[col];\r\n      });\r\n      setAlertTableColumns(cols);\r\n    } else {\r\n      setAlertTableColumns([]);\r\n    }\r\n  }, []);\r\n  return alertTableColumns;\r\n}\r\nexport { useAlertHistoryColumns };\r\n\r\n// export const alertHistoryColumns = [\r\n//   {\r\n//     title: \"Alert Name\",\r\n//     render: (row) => <AlertName data={row} />,\r\n//   },\r\n//   {\r\n//     title: \"Alert Type\",\r\n//     dataIndex: \"event\",\r\n//     render: (event) => <span>{getAlertType(event)}</span>,\r\n//   },\r\n//   {\r\n//     title: \"Elderly Name\",\r\n//     dataIndex: \"elderly_name\",\r\n//     render: (text) => <span className=\"text-nowrap\">{text}</span>,\r\n//   },\r\n//   {\r\n//     title: \"Incident Time\",\r\n//     dataIndex: \"created_at\",\r\n//     render: (text) => (\r\n//       <span className=\"text-nowrap\">{transformDateAndTime(text)}</span>\r\n//     ),\r\n//   },\r\n//   {\r\n//     title: \"Closed At\",\r\n//     dataIndex: \"closed_at\",\r\n//     render: (text) => (\r\n//       <span className=\"text-nowrap\">{transformDateAndTime(text)}</span>\r\n//     ),\r\n//   },\r\n//   {\r\n//     title: \"Alert Life\",\r\n//     dataIndex: \"closed_at\",\r\n//     render: (text) => (\r\n//       <span className=\"text-nowrap\">\r\n//         {transformDateAndTimeToDuration(text)}\r\n//       </span>\r\n//     ),\r\n//   },\r\n//   {\r\n//     title: \"Alert Status\",\r\n//     dataIndex: \"status\",\r\n//     render: (text) => (\r\n//       <span className=\"text-nowrap\">\r\n//         {text == 0 ? \"True Alert\" : \"False Alert\"}\r\n//       </span>\r\n//     ),\r\n//   },\r\n//   {\r\n//     title: \"Closed By\",\r\n//     render: (row) => {\r\n//       switch (row.closed_by_role) {\r\n//         case \"super_admin\":\r\n//           return (\r\n//             <span className=\"text-nowrap\">{row.closed_by} (Super Admin)</span>\r\n//           );\r\n//         case \"end_user\":\r\n//           return (\r\n//             <span className=\"text-nowrap\">{row.closed_by} (End User)</span>\r\n//           );\r\n//         case \"supports_agent\":\r\n//           return (\r\n//             <span className=\"text-nowrap\">\r\n//               {row.closed_by} (Supports Agent)\r\n//             </span>\r\n//           );\r\n//         case \"nurse\":\r\n//           return <span className=\"text-nowrap\">{row.closed_by} (Nurse)</span>;\r\n//         case \"nursing_home\":\r\n//           return (\r\n//             <span className=\"text-nowrap\">{row.closed_by} (Nursing Home)</span>\r\n//           );\r\n//         default:\r\n//           return (\r\n//             <span className=\"text-nowrap\">\r\n//               {row.closed_by} ({row.closed_by_role} )\r\n//             </span>\r\n//           );\r\n//       }\r\n//     },\r\n//   },\r\n//   {\r\n//     title: \"Alert Comments\",\r\n//     render: (row) => (\r\n//       <LargeTextViewerModal data={row.comment} title=\"Alert Comments\" />\r\n//     ),\r\n//   },\r\n//   {\r\n//     title: \"Address\",\r\n//     width: \"230px\",\r\n//     render: (row) => (\r\n//       <span className=\"!w-[230px] text-nowrap\">{row.address}</span>\r\n//     ),\r\n//   },\r\n//   // {\r\n//   //   title: \"Alert Lifespan\",\r\n//   //   dataIndex: \"alertLifespan\",\r\n//   //   render: (data) => <LifespanTimeline data={data} />,\r\n//   // },\r\n// ];\r\n","import React, { useState, useCallback, useEffect } from \"react\";\r\nimport CustomTable from \"@/Shared/Table/CustomTable\";\r\nimport { useElderlyTableColumns } from \"./Utiles/utiles\";\r\nimport { elderlyListTableData } from \"./mock\";\r\nimport { SidebarContext } from \"@/Context/CustomUsertable\";\r\nimport { getAlertsGroup } from \"@/utils/helper\";\r\n\r\nimport { Segmented, ConfigProvider, Select } from \"antd\";\r\nimport SearchInput from \"@/Shared/Search/SearchInput\";\r\n// import { alertHistoryColumns } from \"./Utiles/utiles2\";\r\nimport { getAlertList } from \"@/api/elderlySupport\";\r\nimport dayjs from \"dayjs\";\r\nimport { useAlertHistoryColumns } from \"./Utiles/utiles2\";\r\nexport default function AlertsList() {\r\n  const [search, setSearch] = useState(\"\");\r\n  const columns = useElderlyTableColumns(\"support_agent\");\r\n  const alertHistoryColumns = useAlertHistoryColumns(\"alertHistory\");\r\n  const [loading, setLoading] = useState(true);\r\n  const [page, SetPage] = useState(1);\r\n  const [total, setTotal] = useState(0);\r\n  const [alertQuery, setAlertQuery] = useState({});\r\n  const [alertHistory, setAlertHistory] = useState([]);\r\n  const [alertHistiryQuery, setAlertHistiryQuery] = useState(null);\r\n\r\n  const getAlartsHistory = useCallback(() => {\r\n    setLoading(true);\r\n    getAlertList({\r\n      to_date: \"2024-11-30\",\r\n      from_date: dayjs().format(\"YYYY-MM-DD\"),\r\n      is_resolved: true,\r\n      page: page,\r\n      ...alertQuery,\r\n      ...alertHistiryQuery,\r\n    })\r\n      .then((res) => {\r\n        setTotal(res.total);\r\n        setAlertHistory(res.data);\r\n        setLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setLoading(false);\r\n      });\r\n  }, [page, alertQuery, alertHistiryQuery]);\r\n  useEffect(() => {\r\n    getAlartsHistory();\r\n  }, [getAlartsHistory]);\r\n  function handBlurchange() {\r\n    setAlertQuery({ elderly_name: search.trim() });\r\n  }\r\n  function onAlertHistorySegmantChnage(value) {\r\n    SetPage(1);\r\n    setAlertHistiryQuery(getAlertsGroup(value));\r\n  }\r\n  return (\r\n    <>\r\n      <div\r\n        id=\"Elderlies\"\r\n        className=\"w-full flex flex-col gap-4 justify-center items-center bg-white rounded-2xl p-6 mt-8\"\r\n      >\r\n        <div id=\"Elderlies_Header\" className=\"w-full flex justify-between\">\r\n          <h1 className=\"text-[24px] font-bold\">Notifications</h1>\r\n          <div className=\"flex gap-4 items-center\">\r\n            {/* <ConfigProvider\r\n              theme={{\r\n                token: {\r\n                  fontFamily: \"Baloo2\",\r\n                  colorPrimary: \"#8086AC\",\r\n                  colorLinkActive: \"#8086AC\",\r\n                  colorLinkHover: \"#8086AC\",\r\n                  colorLink: \"#8086AC\",\r\n                },\r\n              }}\r\n            >\r\n              <Select\r\n                size=\"large\"\r\n                options={elderlyListSelectOptions}\r\n                defaultValue={elderlyListSelectOptions[0].value}\r\n                onChange={(value) => console.log(value)}\r\n              />\r\n            </ConfigProvider> */}\r\n            <div>\r\n              <ConfigProvider\r\n              // theme={{\r\n              //   components: {\r\n              //     Segmented: {\r\n              //       itemSelectedBg: \"#252F67\",\r\n              //       itemSelectedColor: \"#fff\",\r\n              //       fontFamily: \"Baloo2\",\r\n              //     },\r\n              //   },\r\n              // }}\r\n              >\r\n                <Segmented\r\n                  options={alertHistorySegmentOptions}\r\n                  onChange={(value) => onAlertHistorySegmantChnage(value)}\r\n                  size=\"large\"\r\n                />\r\n              </ConfigProvider>\r\n            </div>\r\n            <SearchInput\r\n              search={search}\r\n              setSearch={setSearch}\r\n              handBlurchange={handBlurchange}\r\n              placeholder=\"Search Elderlies\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <SidebarContext.Provider\r\n          value={{\r\n            total: total,\r\n            page: 1,\r\n            SetPage,\r\n          }}\r\n        >\r\n          <CustomTable\r\n            columns={alertHistoryColumns}\r\n            tableData={alertHistory}\r\n            loading={loading}\r\n          />\r\n        </SidebarContext.Provider>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\nexport const elderlyListSegmentOptions = [\r\n  \"All Elderlies\",\r\n  \"With Alerts\",\r\n  \"With Diseases\",\r\n  \"With Allergies\",\r\n  \"Taking Medications\",\r\n];\r\nexport const elderlyListSelectOptions = [\r\n  { label: \"All Elderlies\", value: \"All Elderlies\" },\r\n  { label: \"With Alerts\", value: \"With Alerts\" },\r\n  { label: \"With Diseases\", value: \"With Diseases\" },\r\n  { label: \"With Allergies\", value: \"With Allergies\" },\r\n  { label: \"Taking Medications\", value: \"Taking Medications\" },\r\n];\r\nexport const alertHistorySegmentOptions = [\r\n  {\r\n    label: \"All Alerts\",\r\n    value: \"All Alerts\",\r\n  },\r\n  {\r\n    label: \"Critical\",\r\n    value: \"Critical\",\r\n  },\r\n  {\r\n    label: \"Warning\",\r\n    value: \"Warning\",\r\n  },\r\n  {\r\n    label: \"Informational\",\r\n    value: \"Info\",\r\n  },\r\n];\r\n"],"names":["useElderlyTableColumns","role","navigate","useNavigate","randomId","handleViewClick","row","elderlyTableColsMapping","elderlyTableColumns","jsx","Elderly","text","jsxs","LuNavigation","elderlyTableColumn","setElderlyTableColumns","useState","useEffect","cols","col","generateRandomAlerts","count","alertTypes","rooms","names","alertNames","eventNames","disabilityTypes","allergies","diseases","medications","activeAlert","isAlert","_","index","useAlertHistoryColumns","type","rolesFormatter","useContext","SidebarContext","alertTableColumns","setAlertTableColumns","alertColsMapping","AlertsTableColumns","AlertName","event","getAlertType","transformDateAndTime","transformDateAndTimeToDuration","LargeTextViewerModal","LuEye","AlertsList","search","setSearch","alertHistoryColumns","loading","setLoading","page","SetPage","total","setTotal","alertQuery","setAlertQuery","alertHistory","setAlertHistory","alertHistiryQuery","setAlertHistiryQuery","getAlartsHistory","useCallback","getAlertList","dayjs","res","err","handBlurchange","onAlertHistorySegmantChnage","value","getAlertsGroup","Fragment","ConfigProvider","Segmented","alertHistorySegmentOptions","SearchInput","CustomTable","elderlyListSegmentOptions","elderlyListSelectOptions"],"mappings":"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"}