{"version":3,"file":"DataAnalyzeTab-XB9svp6I.js","sources":["../../src/Components/DataAnalysis/DataAnalysisCard.jsx","../../src/Pages/Elderlies/Components/TabContents/DataAnalyze/DataAnalyzeTab.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { MoonFilled } from \"@ant-design/icons\";\r\nimport { FaLungsVirus } from \"react-icons/fa\";\r\nimport LargeTextViewerModal from \"@/Components/LargeTextViewerModal/LargeTextViewerModal\";\r\n\r\nexport default function DataAnalysisCard({\r\n  dataAnalysisData = data,\r\n  isSeeMore = true,\r\n}) {\r\n  return (\r\n    <div\r\n      id=\"DataAnalysisReport\"\r\n      className=\"flex flex-col gap-1 bg-white rounded-2xl p-4 w-full\"\r\n    >\r\n      <div id=\"titleWithIcon\" className=\"flex items-center gap-2\">\r\n        {dataAnalysisData.icon}\r\n        <div id=\"title\" className=\"text-[20px] font-bold\">\r\n          {dataAnalysisData.title}\r\n        </div>\r\n      </div>\r\n      <div className=\"flex flex-col gap-0 w-full\">\r\n        <span id=\"subTitle\" className=\"text-[16px] font-bold\">\r\n          {dataAnalysisData.subTitle}\r\n        </span>\r\n        <p\r\n          id=\"description\"\r\n          className=\"text-[14px] text-text-primary w-full font-normal\"\r\n          dangerouslySetInnerHTML={{ __html: dataAnalysisData?.description }}\r\n        >\r\n          {/* {!isSeeMore ? (\r\n            dataAnalysisData.description\r\n          ) : (\r\n            <LargeTextViewerModal\r\n              title=\"Analysis Report\"\r\n              data={dataAnalysisData.description}\r\n              splitLatter={100}\r\n              seeMoreClassName={`w-full ${\r\n                dataAnalysisData.title === \"Sleep\"\r\n                  ? \"hover:text-[#9B7EBD]\"\r\n                  : \"hover:text-[#88C273]\"\r\n              }`}\r\n              isSeeMore={true}\r\n            /> */}\r\n          {/* )} */}\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useContext } from \"react\";\r\nimport DataAnalysisCard from \"@/Components/DataAnalysis/DataAnalysisCard\";\r\nimport { Collapse, Input, ConfigProvider } from \"antd\";\r\nimport { CustomContext } from \"@/Context/UseCustomContext\";\r\nimport { MoonFilled } from \"@ant-design/icons\";\r\nimport { FaLungsVirus } from \"react-icons/fa\";\r\nimport { FaLungs } from \"react-icons/fa\";\r\nimport { FaHeartbeat } from \"react-icons/fa\";\r\nimport { IoBody } from \"react-icons/io5\";\r\nimport { IoBed } from \"react-icons/io5\";\r\nimport translateTo from \"@/utils/translateTo\";\r\nconst { Panel } = Collapse;\r\nconst { Search } = Input;\r\n\r\nexport default function DataAnalyzeTab() {\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const { sleepData } = useContext(CustomContext);\r\n  const handleSearch = (value) => {\r\n    setSearchTerm(value.toLowerCase());\r\n  };\r\n  const translationMap = {\r\n    合格: \"Qualified\",\r\n    不合格: \"Unqualified\",\r\n    \"您的AHI指数是0.77 （正常）<br/>AHI指数小于5是正常和良好的呼吸\":\r\n      \"Your AHI index is 0.77 (Normal). AHI below 5 is considered normal and healthy breathing.\",\r\n    \"您的睡眠时长5小时44分钟，深睡时长占比26%<br/>你的睡眠时间偏少<br/>建议早睡早起，增加睡眠时间，养成良好作息，好的睡眠让您一整天活力满满！\":\r\n      \"Your sleep duration is 5 hours and 44 minutes, with 26% in deep sleep.<br/>You are sleeping less than recommended.<br/>We suggest going to bed early, waking up early, and increasing sleep time for a healthier routine. Good sleep will keep you energized throughout the day.\",\r\n  };\r\n  const translateToEnglish = (text) => {\r\n    // return text; // Return translated text or original text if not found\r\n    return translationMap[text] || \"No Analysis Available\";\r\n  };\r\n\r\n  const data = [\r\n    {\r\n      groupName: \"Sleep condition\",\r\n      items: [\r\n        sleepData?.evaluation?.sleep_deep_ratio_evaluation && {\r\n          title: \"Sleep Deep Ratio\",\r\n          description: translateToEnglish(\r\n            sleepData.evaluation.sleep_deep_ratio_evaluation\r\n          ),\r\n        },\r\n        sleepData?.evaluation?.sleep_ahi_evaluation && {\r\n          title: \"Sleep AHI\",\r\n          description: translateToEnglish(\r\n            sleepData.evaluation.sleep_ahi_evaluation\r\n          ),\r\n        },\r\n        sleepData?.evaluation?.sleep_duration_evaluation && {\r\n          title: \"Sleep Duration\",\r\n          description: translateToEnglish(\r\n            sleepData.evaluation.sleep_duration_evaluation\r\n          ),\r\n        },\r\n        sleepData?.evaluation?.unqualified_evaluation && {\r\n          title: \"Unqualified Evaluation\",\r\n          description: translateToEnglish(\r\n            sleepData.evaluation.unqualified_evaluation\r\n          ),\r\n        },\r\n        sleepData?.evaluation?.sleep_start_time_evaluation && {\r\n          title: \"Sleep Start Time Evaluation\",\r\n          description: translateToEnglish(\r\n            sleepData.evaluation.sleep_start_time_evaluation\r\n          ),\r\n        },\r\n        sleepData?.evaluation?.sleep_analysis_evaluation && {\r\n          title: \"Sleep Analysis Evaluation\",\r\n          description: translateToEnglish(\r\n            sleepData.evaluation.sleep_analysis_evaluation\r\n          ),\r\n        },\r\n      ].filter(Boolean),\r\n    },\r\n    {\r\n      groupName: \"Breathing condition\",\r\n      items: [],\r\n    },\r\n    {\r\n      groupName: \"Heart rate condition\",\r\n      items: [],\r\n    },\r\n    {\r\n      groupName: \"Body movement condition\",\r\n      items: [],\r\n    },\r\n    {\r\n      groupName: \"Bed exit condition\",\r\n      items: [\r\n        sleepData?.evaluation?.sleep_leave_bed_evaluation && {\r\n          title: \"Leave Bed Evaluation\",\r\n          description: translateToEnglish(\r\n            sleepData.evaluation.sleep_leave_bed_evaluation\r\n          ),\r\n        },\r\n      ].filter(Boolean),\r\n    },\r\n    {\r\n      groupName: \"Daily Routine\",\r\n      items: [],\r\n    },\r\n  ];\r\n\r\n  // Filter data based on groupName and title\r\n  const filteredData = data\r\n    ?.map((group) => ({\r\n      ...group,\r\n      items: group.items.filter((item) =>\r\n        item.title.toLowerCase().includes(searchTerm)\r\n      ),\r\n    }))\r\n    .filter(\r\n      (group) =>\r\n        group.groupName.toLowerCase().includes(searchTerm) ||\r\n        group.items.length > 0\r\n    );\r\n  // Determine the key of the first panel to open by default\r\n  const defaultOpenKey =\r\n    filteredData.length > 0 ? filteredData[0].groupName : null;\r\n\r\n  return (\r\n    <>\r\n      <div id=\"dataAnalyze\" className=\"flex flex-col mt-6 rounded-xl gap-4\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <h1 className=\"text-[24px] font-bold\">Data Analysis</h1>\r\n          <ConfigProvider theme={{ token: { colorPrimary: \"#8086AC\" } }}>\r\n            <Search\r\n              size=\"large\"\r\n              placeholder=\"Search Analysis\"\r\n              onSearch={handleSearch}\r\n              style={{ width: 250 }}\r\n            />\r\n          </ConfigProvider>\r\n        </div>\r\n        <Collapse defaultActiveKey={defaultOpenKey}>\r\n          {filteredData.map((group) => (\r\n            <Panel\r\n              header={group.groupName}\r\n              key={group.groupName}\r\n              style={{\r\n                backgroundColor: \"#F5F5F5\",\r\n                borderRadius: \"10px\",\r\n                fontWeight: \"bold\",\r\n                fontSize: \"18px\",\r\n                color: \"#252F67 !important\",\r\n              }}\r\n            >\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-4\">\r\n                {group.items.map((item, index) => (\r\n                  <DataAnalysisCard\r\n                    key={index}\r\n                    dataAnalysisData={item}\r\n                    isSeeMore={false}\r\n                  />\r\n                ))}\r\n              </div>\r\n            </Panel>\r\n          ))}\r\n        </Collapse>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"names":["DataAnalysisCard","dataAnalysisData","isSeeMore","jsxs","jsx","Panel","Collapse","Search","Input","DataAnalyzeTab","searchTerm","setSearchTerm","useState","sleepData","useContext","CustomContext","handleSearch","value","translationMap","translateToEnglish","text","data","_a","_b","_c","_d","_e","_f","_g","filteredData","group","item","defaultOpenKey","ConfigProvider","index"],"mappings":"sdAKA,SAAwBA,EAAiB,CACvC,iBAAAC,EAAmB,KACnB,UAAAC,EAAY,EACd,EAAG,CAEC,OAAAC,EAAA,KAAC,MAAA,CACC,GAAG,qBACH,UAAU,sDAEV,SAAA,CAAAA,EAAA,KAAC,MAAI,CAAA,GAAG,gBAAgB,UAAU,0BAC/B,SAAA,CAAiBF,EAAA,WACjB,MAAI,CAAA,GAAG,QAAQ,UAAU,wBACvB,WAAiB,MACpB,CAAA,EACF,EACAE,EAAAA,KAAC,MAAI,CAAA,UAAU,6BACb,SAAA,CAAAC,MAAC,QAAK,GAAG,WAAW,UAAU,wBAC3B,WAAiB,SACpB,EACAA,EAAA,IAAC,IAAA,CACC,GAAG,cACH,UAAU,mDACV,wBAAyB,CAAE,OAAQH,GAAA,YAAAA,EAAkB,WAAY,CAAA,CAiBnE,CAAA,EACF,CAAA,CAAA,CAAA,CAGN,CCrCA,KAAM,CAAE,MAAAI,CAAU,EAAAC,EACZ,CAAE,OAAAC,CAAW,EAAAC,EAEnB,SAAwBC,GAAiB,mBACvC,KAAM,CAACC,EAAYC,CAAa,EAAIC,WAAS,EAAE,EACzC,CAAE,UAAAC,CAAA,EAAcC,EAAA,WAAWC,CAAa,EACxCC,EAAgBC,GAAU,CAChBN,EAAAM,EAAM,aAAa,CAAA,EAE7BC,EAAiB,CACrB,GAAI,YACJ,IAAK,cACL,0CACE,2FACF,+EACE,kRAAA,EAEEC,EAAsBC,GAEnBF,EAAeE,CAAI,GAAK,wBAG3BC,EAAO,CACX,CACE,UAAW,kBACX,MAAO,GACLC,EAAAT,GAAA,YAAAA,EAAW,aAAX,YAAAS,EAAuB,8BAA+B,CACpD,MAAO,mBACP,YAAaH,EACXN,EAAU,WAAW,2BACvB,CACF,IACAU,EAAAV,GAAA,YAAAA,EAAW,aAAX,YAAAU,EAAuB,uBAAwB,CAC7C,MAAO,YACP,YAAaJ,EACXN,EAAU,WAAW,oBACvB,CACF,IACAW,EAAAX,GAAA,YAAAA,EAAW,aAAX,YAAAW,EAAuB,4BAA6B,CAClD,MAAO,iBACP,YAAaL,EACXN,EAAU,WAAW,yBACvB,CACF,IACAY,EAAAZ,GAAA,YAAAA,EAAW,aAAX,YAAAY,EAAuB,yBAA0B,CAC/C,MAAO,yBACP,YAAaN,EACXN,EAAU,WAAW,sBACvB,CACF,IACAa,EAAAb,GAAA,YAAAA,EAAW,aAAX,YAAAa,EAAuB,8BAA+B,CACpD,MAAO,8BACP,YAAaP,EACXN,EAAU,WAAW,2BACvB,CACF,IACAc,EAAAd,GAAA,YAAAA,EAAW,aAAX,YAAAc,EAAuB,4BAA6B,CAClD,MAAO,4BACP,YAAaR,EACXN,EAAU,WAAW,yBACvB,CACF,CAAA,EACA,OAAO,OAAO,CAClB,EACA,CACE,UAAW,sBACX,MAAO,CAAC,CACV,EACA,CACE,UAAW,uBACX,MAAO,CAAC,CACV,EACA,CACE,UAAW,0BACX,MAAO,CAAC,CACV,EACA,CACE,UAAW,qBACX,MAAO,GACLe,EAAAf,GAAA,YAAAA,EAAW,aAAX,YAAAe,EAAuB,6BAA8B,CACnD,MAAO,uBACP,YAAaT,EACXN,EAAU,WAAW,0BACvB,CACF,CAAA,EACA,OAAO,OAAO,CAClB,EACA,CACE,UAAW,gBACX,MAAO,CAAC,CACV,CAAA,EAIIgB,EAAeR,GAAA,YAAAA,EACjB,IAAKS,IAAW,CAChB,GAAGA,EACH,MAAOA,EAAM,MAAM,OAAQC,GACzBA,EAAK,MAAM,YAAY,EAAE,SAASrB,CAAU,CAC9C,KAED,OACEoB,GACCA,EAAM,UAAU,YAAc,EAAA,SAASpB,CAAU,GACjDoB,EAAM,MAAM,OAAS,GAGrBE,EACJH,EAAa,OAAS,EAAIA,EAAa,CAAC,EAAE,UAAY,KAExD,yBAEI,SAAC1B,EAAAA,KAAA,MAAA,CAAI,GAAG,cAAc,UAAU,sCAC9B,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,oCACb,SAAA,CAACC,EAAA,IAAA,KAAA,CAAG,UAAU,wBAAwB,SAAa,gBAAA,EACnDA,MAAC6B,GAAe,MAAO,CAAE,MAAO,CAAE,aAAc,SAAU,GACxD,SAAA7B,EAAA,IAACG,EAAA,CACC,KAAK,QACL,YAAY,kBACZ,SAAUS,EACV,MAAO,CAAE,MAAO,GAAI,CAAA,CAAA,EAExB,CAAA,EACF,QACCV,EAAS,CAAA,iBAAkB0B,EACzB,SAAaH,EAAA,IAAKC,GACjB1B,EAAA,IAACC,EAAA,CACC,OAAQyB,EAAM,UAEd,MAAO,CACL,gBAAiB,UACjB,aAAc,OACd,WAAY,OACZ,SAAU,OACV,MAAO,oBACT,EAEA,SAAA1B,EAAAA,IAAC,OAAI,UAAU,uDACZ,WAAM,MAAM,IAAI,CAAC2B,EAAMG,IACtB9B,EAAA,IAACJ,EAAA,CAEC,iBAAkB+B,EAClB,UAAW,EAAA,EAFNG,CAIR,CAAA,EACH,CAAA,EAjBKJ,EAAM,SAmBd,CAAA,EACH,CAAA,CACF,CAAA,CACF,CAAA,CAEJ"}