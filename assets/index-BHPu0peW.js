import{f as m,t as xe,g as he,m as fe,h as Se,i as be,k as $e,r as d,l as ye,n as _e,o as je,p as ve,q as Ce,s as Ne,P as Ie,T as G,S as ne,u as L,j as n,v as K,w as F,x as we,y as Ae,B as Q,z as Ee,A as Te,F as Me,G as ze,H as He,J as k,K as V,L as qe,N as Oe,C as ie,d as Pe,O as se,Q as ee,U as De,V as Re,W as X,X as Le,Y as Be,Z as Ue,_ as We,$ as Xe,a0 as Ge,a1 as Fe,a2 as Ve}from"./index-9nBSjLkW.js";import{A as Ke}from"./AdminSupportAgentTableAction-8IcmpXAS.js";import{D as Qe}from"./index-CfKQOiuf.js";import{S as re,R as Ye}from"./Steps-DauwxiuK.js";import{g as Je}from"./subscriptions-_uiADwOr.js";import{R as Ze,a as ke}from"./SyncOutlined-CxztwW9z.js";import{S as et}from"./index-B7rOtWFD.js";import{d as tt}from"./debounce-DQoZP-Rv.js";import"./index-Dskar7xO.js";try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="60855ae9-f22e-4fe4-8628-46109b6ff17e",e._sentryDebugIdIdentifier="sentry-dbid-60855ae9-f22e-4fe4-8628-46109b6ff17e")}catch{}const nt=e=>{const{componentCls:t,customIconTop:s,customIconSize:l,customIconFontSize:a}=e;return{[`${t}-item-custom`]:{[`> ${t}-item-container > ${t}-item-icon`]:{height:"auto",background:"none",border:0,[`> ${t}-icon`]:{top:s,width:l,height:l,fontSize:a,lineHeight:m(l)}}},[`&:not(${t}-vertical)`]:{[`${t}-item-custom`]:{[`${t}-item-icon`]:{width:"auto",background:"none"}}}}},it=e=>{const{componentCls:t}=e,s=`${t}-item`;return{[`${t}-horizontal`]:{[`${s}-tail`]:{transform:"translateY(-50%)"}}}},st=e=>{const{componentCls:t,inlineDotSize:s,inlineTitleColor:l,inlineTailColor:a}=e,r=e.calc(e.paddingXS).add(e.lineWidth).equal(),p={[`${t}-item-container ${t}-item-content ${t}-item-title`]:{color:l}};return{[`&${t}-inline`]:{width:"auto",display:"inline-flex",[`${t}-item`]:{flex:"none","&-container":{padding:`${m(r)} ${m(e.paddingXXS)} 0`,margin:`0 ${m(e.calc(e.marginXXS).div(2).equal())}`,borderRadius:e.borderRadiusSM,cursor:"pointer",transition:`background-color ${e.motionDurationMid}`,"&:hover":{background:e.controlItemBgHover},"&[role='button']:hover":{opacity:1}},"&-icon":{width:s,height:s,marginInlineStart:`calc(50% - ${m(e.calc(s).div(2).equal())})`,[`> ${t}-icon`]:{top:0},[`${t}-icon-dot`]:{borderRadius:e.calc(e.fontSizeSM).div(4).equal(),"&::after":{display:"none"}}},"&-content":{width:"auto",marginTop:e.calc(e.marginXS).sub(e.lineWidth).equal()},"&-title":{color:l,fontSize:e.fontSizeSM,lineHeight:e.lineHeightSM,fontWeight:"normal",marginBottom:e.calc(e.marginXXS).div(2).equal()},"&-description":{display:"none"},"&-tail":{marginInlineStart:0,top:e.calc(s).div(2).add(r).equal(),transform:"translateY(-50%)","&:after":{width:"100%",height:e.lineWidth,borderRadius:0,marginInlineStart:0,background:a}},[`&:first-child ${t}-item-tail`]:{width:"50%",marginInlineStart:"50%"},[`&:last-child ${t}-item-tail`]:{display:"block",width:"50%"},"&-wait":Object.assign({[`${t}-item-icon ${t}-icon ${t}-icon-dot`]:{backgroundColor:e.colorBorderBg,border:`${m(e.lineWidth)} ${e.lineType} ${a}`}},p),"&-finish":Object.assign({[`${t}-item-tail::after`]:{backgroundColor:a},[`${t}-item-icon ${t}-icon ${t}-icon-dot`]:{backgroundColor:a,border:`${m(e.lineWidth)} ${e.lineType} ${a}`}},p),"&-error":p,"&-active, &-process":Object.assign({[`${t}-item-icon`]:{width:s,height:s,marginInlineStart:`calc(50% - ${m(e.calc(s).div(2).equal())})`,top:0}},p),[`&:not(${t}-item-active) > ${t}-item-container[role='button']:hover`]:{[`${t}-item-title`]:{color:l}}}}}},rt=e=>{const{componentCls:t,iconSize:s,lineHeight:l,iconSizeSM:a}=e;return{[`&${t}-label-vertical`]:{[`${t}-item`]:{overflow:"visible","&-tail":{marginInlineStart:e.calc(s).div(2).add(e.controlHeightLG).equal(),padding:`0 ${m(e.paddingLG)}`},"&-content":{display:"block",width:e.calc(s).div(2).add(e.controlHeightLG).mul(2).equal(),marginTop:e.marginSM,textAlign:"center"},"&-icon":{display:"inline-block",marginInlineStart:e.controlHeightLG},"&-title":{paddingInlineEnd:0,paddingInlineStart:0,"&::after":{display:"none"}},"&-subtitle":{display:"block",marginBottom:e.marginXXS,marginInlineStart:0,lineHeight:l}},[`&${t}-small:not(${t}-dot)`]:{[`${t}-item`]:{"&-icon":{marginInlineStart:e.calc(s).sub(a).div(2).add(e.controlHeightLG).equal()}}}}}},ot=e=>{const{componentCls:t,navContentMaxWidth:s,navArrowColor:l,stepsNavActiveColor:a,motionDurationSlow:r}=e;return{[`&${t}-navigation`]:{paddingTop:e.paddingSM,[`&${t}-small`]:{[`${t}-item`]:{"&-container":{marginInlineStart:e.calc(e.marginSM).mul(-1).equal()}}},[`${t}-item`]:{overflow:"visible",textAlign:"center","&-container":{display:"inline-block",height:"100%",marginInlineStart:e.calc(e.margin).mul(-1).equal(),paddingBottom:e.paddingSM,textAlign:"start",transition:`opacity ${r}`,[`${t}-item-content`]:{maxWidth:s},[`${t}-item-title`]:Object.assign(Object.assign({maxWidth:"100%",paddingInlineEnd:0},xe),{"&::after":{display:"none"}})},[`&:not(${t}-item-active)`]:{[`${t}-item-container[role='button']`]:{cursor:"pointer","&:hover":{opacity:.85}}},"&:last-child":{flex:1,"&::after":{display:"none"}},"&::after":{position:"absolute",top:`calc(50% - ${m(e.calc(e.paddingSM).div(2).equal())})`,insetInlineStart:"100%",display:"inline-block",width:e.fontSizeIcon,height:e.fontSizeIcon,borderTop:`${m(e.lineWidth)} ${e.lineType} ${l}`,borderBottom:"none",borderInlineStart:"none",borderInlineEnd:`${m(e.lineWidth)} ${e.lineType} ${l}`,transform:"translateY(-50%) translateX(-50%) rotate(45deg)",content:'""'},"&::before":{position:"absolute",bottom:0,insetInlineStart:"50%",display:"inline-block",width:0,height:e.lineWidthBold,backgroundColor:a,transition:`width ${r}, inset-inline-start ${r}`,transitionTimingFunction:"ease-out",content:'""'}},[`${t}-item${t}-item-active::before`]:{insetInlineStart:0,width:"100%"}},[`&${t}-navigation${t}-vertical`]:{[`> ${t}-item`]:{marginInlineEnd:0,"&::before":{display:"none"},[`&${t}-item-active::before`]:{top:0,insetInlineEnd:0,insetInlineStart:"unset",display:"block",width:e.calc(e.lineWidth).mul(3).equal(),height:`calc(100% - ${m(e.marginLG)})`},"&::after":{position:"relative",insetInlineStart:"50%",display:"block",width:e.calc(e.controlHeight).mul(.25).equal(),height:e.calc(e.controlHeight).mul(.25).equal(),marginBottom:e.marginXS,textAlign:"center",transform:"translateY(-50%) translateX(-50%) rotate(135deg)"},"&:last-child":{"&::after":{display:"none"}},[`> ${t}-item-container > ${t}-item-tail`]:{visibility:"hidden"}}},[`&${t}-navigation${t}-horizontal`]:{[`> ${t}-item > ${t}-item-container > ${t}-item-tail`]:{visibility:"hidden"}}}},lt=e=>{const{antCls:t,componentCls:s,iconSize:l,iconSizeSM:a,processIconColor:r,marginXXS:p,lineWidthBold:c,lineWidth:u,paddingXXS:S}=e,b=e.calc(l).add(e.calc(c).mul(4).equal()).equal(),f=e.calc(a).add(e.calc(e.lineWidth).mul(4).equal()).equal();return{[`&${s}-with-progress`]:{[`${s}-item`]:{paddingTop:S,[`&-process ${s}-item-container ${s}-item-icon ${s}-icon`]:{color:r}},[`&${s}-vertical > ${s}-item `]:{paddingInlineStart:S,[`> ${s}-item-container > ${s}-item-tail`]:{top:p,insetInlineStart:e.calc(l).div(2).sub(u).add(S).equal()}},[`&, &${s}-small`]:{[`&${s}-horizontal ${s}-item:first-child`]:{paddingBottom:S,paddingInlineStart:S}},[`&${s}-small${s}-vertical > ${s}-item > ${s}-item-container > ${s}-item-tail`]:{insetInlineStart:e.calc(a).div(2).sub(u).add(S).equal()},[`&${s}-label-vertical ${s}-item ${s}-item-tail`]:{top:e.calc(l).div(2).add(S).equal()},[`${s}-item-icon`]:{position:"relative",[`${t}-progress`]:{position:"absolute",insetInlineStart:"50%",top:"50%",transform:"translate(-50%, -50%)","&-inner":{width:`${m(b)} !important`,height:`${m(b)} !important`}}},[`&${s}-small`]:{[`&${s}-label-vertical ${s}-item ${s}-item-tail`]:{top:e.calc(a).div(2).add(S).equal()},[`${s}-item-icon ${t}-progress-inner`]:{width:`${m(f)} !important`,height:`${m(f)} !important`}}}}},at=e=>{const{componentCls:t,descriptionMaxWidth:s,lineHeight:l,dotCurrentSize:a,dotSize:r,motionDurationSlow:p}=e;return{[`&${t}-dot, &${t}-dot${t}-small`]:{[`${t}-item`]:{"&-title":{lineHeight:l},"&-tail":{top:e.calc(e.dotSize).sub(e.calc(e.lineWidth).mul(3).equal()).div(2).equal(),width:"100%",marginTop:0,marginBottom:0,marginInline:`${m(e.calc(s).div(2).equal())} 0`,padding:0,"&::after":{width:`calc(100% - ${m(e.calc(e.marginSM).mul(2).equal())})`,height:e.calc(e.lineWidth).mul(3).equal(),marginInlineStart:e.marginSM}},"&-icon":{width:r,height:r,marginInlineStart:e.calc(e.descriptionMaxWidth).sub(r).div(2).equal(),paddingInlineEnd:0,lineHeight:m(r),background:"transparent",border:0,[`${t}-icon-dot`]:{position:"relative",float:"left",width:"100%",height:"100%",borderRadius:100,transition:`all ${p}`,"&::after":{position:"absolute",top:e.calc(e.marginSM).mul(-1).equal(),insetInlineStart:e.calc(r).sub(e.calc(e.controlHeightLG).mul(1.5).equal()).div(2).equal(),width:e.calc(e.controlHeightLG).mul(1.5).equal(),height:e.controlHeight,background:"transparent",content:'""'}}},"&-content":{width:s},[`&-process ${t}-item-icon`]:{position:"relative",top:e.calc(r).sub(a).div(2).equal(),width:a,height:a,lineHeight:m(a),background:"none",marginInlineStart:e.calc(e.descriptionMaxWidth).sub(a).div(2).equal()},[`&-process ${t}-icon`]:{[`&:first-child ${t}-icon-dot`]:{insetInlineStart:0}}}},[`&${t}-vertical${t}-dot`]:{[`${t}-item-icon`]:{marginTop:e.calc(e.controlHeight).sub(r).div(2).equal(),marginInlineStart:0,background:"none"},[`${t}-item-process ${t}-item-icon`]:{marginTop:e.calc(e.controlHeight).sub(a).div(2).equal(),top:0,insetInlineStart:e.calc(r).sub(a).div(2).equal(),marginInlineStart:0},[`${t}-item > ${t}-item-container > ${t}-item-tail`]:{top:e.calc(e.controlHeight).sub(r).div(2).equal(),insetInlineStart:0,margin:0,padding:`${m(e.calc(r).add(e.paddingXS).equal())} 0 ${m(e.paddingXS)}`,"&::after":{marginInlineStart:e.calc(r).sub(e.lineWidth).div(2).equal()}},[`&${t}-small`]:{[`${t}-item-icon`]:{marginTop:e.calc(e.controlHeightSM).sub(r).div(2).equal()},[`${t}-item-process ${t}-item-icon`]:{marginTop:e.calc(e.controlHeightSM).sub(a).div(2).equal()},[`${t}-item > ${t}-item-container > ${t}-item-tail`]:{top:e.calc(e.controlHeightSM).sub(r).div(2).equal()}},[`${t}-item:first-child ${t}-icon-dot`]:{insetInlineStart:0},[`${t}-item-content`]:{width:"inherit"}}}},ct=e=>{const{componentCls:t}=e;return{[`&${t}-rtl`]:{direction:"rtl",[`${t}-item`]:{"&-subtitle":{float:"left"}},[`&${t}-navigation`]:{[`${t}-item::after`]:{transform:"rotate(-45deg)"}},[`&${t}-vertical`]:{[`> ${t}-item`]:{"&::after":{transform:"rotate(225deg)"},[`${t}-item-icon`]:{float:"right"}}},[`&${t}-dot`]:{[`${t}-item-icon ${t}-icon-dot, &${t}-small ${t}-item-icon ${t}-icon-dot`]:{float:"right"}}}}},dt=e=>{const{componentCls:t,iconSizeSM:s,fontSizeSM:l,fontSize:a,colorTextDescription:r}=e;return{[`&${t}-small`]:{[`&${t}-horizontal:not(${t}-label-vertical) ${t}-item`]:{paddingInlineStart:e.paddingSM,"&:first-child":{paddingInlineStart:0}},[`${t}-item-icon`]:{width:s,height:s,marginTop:0,marginBottom:0,marginInline:`0 ${m(e.marginXS)}`,fontSize:l,lineHeight:m(s),textAlign:"center",borderRadius:s},[`${t}-item-title`]:{paddingInlineEnd:e.paddingSM,fontSize:a,lineHeight:m(s),"&::after":{top:e.calc(s).div(2).equal()}},[`${t}-item-description`]:{color:r,fontSize:a},[`${t}-item-tail`]:{top:e.calc(s).div(2).sub(e.paddingXXS).equal()},[`${t}-item-custom ${t}-item-icon`]:{width:"inherit",height:"inherit",lineHeight:"inherit",background:"none",border:0,borderRadius:0,[`> ${t}-icon`]:{fontSize:s,lineHeight:m(s),transform:"none"}}}}},ut=e=>{const{componentCls:t,iconSizeSM:s,iconSize:l}=e;return{[`&${t}-vertical`]:{display:"flex",flexDirection:"column",[`> ${t}-item`]:{display:"block",flex:"1 0 auto",paddingInlineStart:0,overflow:"visible",[`${t}-item-icon`]:{float:"left",marginInlineEnd:e.margin},[`${t}-item-content`]:{display:"block",minHeight:e.calc(e.controlHeight).mul(1.5).equal(),overflow:"hidden"},[`${t}-item-title`]:{lineHeight:m(l)},[`${t}-item-description`]:{paddingBottom:e.paddingSM}},[`> ${t}-item > ${t}-item-container > ${t}-item-tail`]:{position:"absolute",top:0,insetInlineStart:e.calc(l).div(2).sub(e.lineWidth).equal(),width:e.lineWidth,height:"100%",padding:`${m(e.calc(e.marginXXS).mul(1.5).add(l).equal())} 0 ${m(e.calc(e.marginXXS).mul(1.5).equal())}`,"&::after":{width:e.lineWidth,height:"100%"}},[`> ${t}-item:not(:last-child) > ${t}-item-container > ${t}-item-tail`]:{display:"block"},[` > ${t}-item > ${t}-item-container > ${t}-item-content > ${t}-item-title`]:{"&::after":{display:"none"}},[`&${t}-small ${t}-item-container`]:{[`${t}-item-tail`]:{position:"absolute",top:0,insetInlineStart:e.calc(s).div(2).sub(e.lineWidth).equal(),padding:`${m(e.calc(e.marginXXS).mul(1.5).add(s).equal())} 0 ${m(e.calc(e.marginXXS).mul(1.5).equal())}`},[`${t}-item-title`]:{lineHeight:m(s)}}}}},mt="wait",pt="process",gt="finish",xt="error",R=(e,t)=>{const s=`${t.componentCls}-item`,l=`${e}IconColor`,a=`${e}TitleColor`,r=`${e}DescriptionColor`,p=`${e}TailColor`,c=`${e}IconBgColor`,u=`${e}IconBorderColor`,S=`${e}DotColor`;return{[`${s}-${e} ${s}-icon`]:{backgroundColor:t[c],borderColor:t[u],[`> ${t.componentCls}-icon`]:{color:t[l],[`${t.componentCls}-icon-dot`]:{background:t[S]}}},[`${s}-${e}${s}-custom ${s}-icon`]:{[`> ${t.componentCls}-icon`]:{color:t[S]}},[`${s}-${e} > ${s}-container > ${s}-content > ${s}-title`]:{color:t[a],"&::after":{backgroundColor:t[p]}},[`${s}-${e} > ${s}-container > ${s}-content > ${s}-description`]:{color:t[r]},[`${s}-${e} > ${s}-container > ${s}-tail::after`]:{backgroundColor:t[p]}}},ht=e=>{const{componentCls:t,motionDurationSlow:s}=e,l=`${t}-item`,a=`${l}-icon`;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[l]:{position:"relative",display:"inline-block",flex:1,overflow:"hidden",verticalAlign:"top","&:last-child":{flex:"none",[`> ${l}-container > ${l}-tail, > ${l}-container >  ${l}-content > ${l}-title::after`]:{display:"none"}}},[`${l}-container`]:{outline:"none","&:focus-visible":{[a]:Object.assign({},be(e))}},[`${a}, ${l}-content`]:{display:"inline-block",verticalAlign:"top"},[a]:{width:e.iconSize,height:e.iconSize,marginTop:0,marginBottom:0,marginInlineStart:0,marginInlineEnd:e.marginXS,fontSize:e.iconFontSize,fontFamily:e.fontFamily,lineHeight:m(e.iconSize),textAlign:"center",borderRadius:e.iconSize,border:`${m(e.lineWidth)} ${e.lineType} transparent`,transition:`background-color ${s}, border-color ${s}`,[`${t}-icon`]:{position:"relative",top:e.iconTop,color:e.colorPrimary,lineHeight:1}},[`${l}-tail`]:{position:"absolute",top:e.calc(e.iconSize).div(2).equal(),insetInlineStart:0,width:"100%","&::after":{display:"inline-block",width:"100%",height:e.lineWidth,background:e.colorSplit,borderRadius:e.lineWidth,transition:`background ${s}`,content:'""'}},[`${l}-title`]:{position:"relative",display:"inline-block",paddingInlineEnd:e.padding,color:e.colorText,fontSize:e.fontSizeLG,lineHeight:m(e.titleLineHeight),"&::after":{position:"absolute",top:e.calc(e.titleLineHeight).div(2).equal(),insetInlineStart:"100%",display:"block",width:9999,height:e.lineWidth,background:e.processTailColor,content:'""'}},[`${l}-subtitle`]:{display:"inline",marginInlineStart:e.marginXS,color:e.colorTextDescription,fontWeight:"normal",fontSize:e.fontSize},[`${l}-description`]:{color:e.colorTextDescription,fontSize:e.fontSize}},R(mt,e)),R(pt,e)),{[`${l}-process > ${l}-container > ${l}-title`]:{fontWeight:e.fontWeightStrong}}),R(gt,e)),R(xt,e)),{[`${l}${t}-next-error > ${t}-item-title::after`]:{background:e.colorError},[`${l}-disabled`]:{cursor:"not-allowed"}})},ft=e=>{const{componentCls:t,motionDurationSlow:s}=e;return{[`& ${t}-item`]:{[`&:not(${t}-item-active)`]:{[`& > ${t}-item-container[role='button']`]:{cursor:"pointer",[`${t}-item`]:{[`&-title, &-subtitle, &-description, &-icon ${t}-icon`]:{transition:`color ${s}`}},"&:hover":{[`${t}-item`]:{"&-title, &-subtitle, &-description":{color:e.colorPrimary}}}},[`&:not(${t}-item-process)`]:{[`& > ${t}-item-container[role='button']:hover`]:{[`${t}-item`]:{"&-icon":{borderColor:e.colorPrimary,[`${t}-icon`]:{color:e.colorPrimary}}}}}}},[`&${t}-horizontal:not(${t}-label-vertical)`]:{[`${t}-item`]:{paddingInlineStart:e.padding,whiteSpace:"nowrap","&:first-child":{paddingInlineStart:0},[`&:last-child ${t}-item-title`]:{paddingInlineEnd:0},"&-tail":{display:"none"},"&-description":{maxWidth:e.descriptionMaxWidth,whiteSpace:"normal"}}}}},St=e=>{const{componentCls:t}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Se(e)),{display:"flex",width:"100%",fontSize:0,textAlign:"initial"}),ht(e)),ft(e)),nt(e)),dt(e)),ut(e)),it(e)),rt(e)),at(e)),ot(e)),ct(e)),lt(e)),st(e))}},bt=e=>({titleLineHeight:e.controlHeight,customIconSize:e.controlHeight,customIconTop:0,customIconFontSize:e.controlHeightSM,iconSize:e.controlHeight,iconTop:-.5,iconFontSize:e.fontSize,iconSizeSM:e.fontSizeHeading3,dotSize:e.controlHeight/4,dotCurrentSize:e.controlHeightLG/4,navArrowColor:e.colorTextDisabled,navContentMaxWidth:"auto",descriptionMaxWidth:140,waitIconColor:e.wireframe?e.colorTextDisabled:e.colorTextLabel,waitIconBgColor:e.wireframe?e.colorBgContainer:e.colorFillContent,waitIconBorderColor:e.wireframe?e.colorTextDisabled:"transparent",finishIconBgColor:e.wireframe?e.colorBgContainer:e.controlItemBgActive,finishIconBorderColor:e.wireframe?e.colorPrimary:e.controlItemBgActive}),$t=he("Steps",e=>{const{colorTextDisabled:t,controlHeightLG:s,colorTextLightSolid:l,colorText:a,colorPrimary:r,colorTextDescription:p,colorTextQuaternary:c,colorError:u,colorBorderSecondary:S,colorSplit:b}=e,f=fe(e,{processIconColor:l,processTitleColor:a,processDescriptionColor:a,processIconBgColor:r,processIconBorderColor:r,processDotColor:r,processTailColor:b,waitTitleColor:p,waitDescriptionColor:p,waitTailColor:b,waitDotColor:t,finishIconColor:r,finishTitleColor:a,finishDescriptionColor:p,finishTailColor:r,finishDotColor:r,errorIconColor:l,errorTitleColor:u,errorDescriptionColor:u,errorTailColor:b,errorIconBgColor:u,errorIconBorderColor:u,errorDotColor:u,stepsNavActiveColor:r,stepsProgressSize:s,inlineDotSize:6,inlineTitleColor:c,inlineTailColor:S});return[St(f)]},bt);function yt(e){return e.filter(t=>t)}function _t(e,t){if(e)return e;const s=$e(t).map(l=>{if(d.isValidElement(l)){const{props:a}=l;return Object.assign({},a)}return null});return yt(s)}var jt=function(e,t){var s={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(s[l]=e[l]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,l=Object.getOwnPropertySymbols(e);a<l.length;a++)t.indexOf(l[a])<0&&Object.prototype.propertyIsEnumerable.call(e,l[a])&&(s[l[a]]=e[l[a]]);return s};const oe=e=>{const{percent:t,size:s,className:l,rootClassName:a,direction:r,items:p,responsive:c=!0,current:u=0,children:S,style:b}=e,f=jt(e,["percent","size","className","rootClassName","direction","items","responsive","current","children","style"]),{xs:i}=ye(c),{getPrefixCls:x,direction:C,steps:$}=d.useContext(_e),y=d.useMemo(()=>c&&i?"vertical":r,[i,r]),N=je(s),v=x("steps",e.prefixCls),[E,H,q]=$t(v),T=e.type==="inline",M=x("",e.iconPrefix),j=_t(p,S),h=T?void 0:t,g=Object.assign(Object.assign({},$==null?void 0:$.style),b),o=ve($==null?void 0:$.className,{[`${v}-rtl`]:C==="rtl",[`${v}-with-progress`]:h!==void 0},l,a,H,q),I={finish:d.createElement(Ce,{className:`${v}-finish-icon`}),error:d.createElement(Ne,{className:`${v}-error-icon`})},P=O=>{let{node:z,status:B}=O;if(B==="process"&&h!==void 0){const U=N==="small"?32:40;return d.createElement("div",{className:`${v}-progress-icon`},d.createElement(Ie,{type:"circle",percent:h,size:U,strokeWidth:4,format:()=>null}),z)}return z},Y=(O,z)=>O.description?d.createElement(G,{title:O.description},z):z;return E(d.createElement(re,Object.assign({icons:I},f,{style:g,current:u,size:N,items:j,itemRender:T?Y:void 0,stepIcon:P,direction:y,prefixCls:v,iconPrefix:M,className:o})))};oe.Step=re.Step;function vt({isvisible:e,setVisible:t,row_data:s}){const{rolesFormatter:l}=d.useContext(ne),a=L(),r=()=>{t(!1)};function p(c={}){function u(){a(`/super-admin/user/${c==null?void 0:c._id}`,{state:{role:c==null?void 0:c.role}})}return{title:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("h1",{className:"font-semibold font-base cursor-pointer select-none hover:text-primary/70",onClick:u,children:[c==null?void 0:c.name," ",c==null?void 0:c.last_name]}),n.jsx(F,{children:l[c==null?void 0:c.role]})]}),description:n.jsxs("ul",{children:[n.jsxs("li",{className:"flex items-center gap-1",children:[n.jsx(we,{}),n.jsx("p",{children:c==null?void 0:c.email})]}),n.jsxs("li",{className:"flex items-center gap-1",children:[n.jsx(Ae,{}),n.jsxs("p",{children:[c==null?void 0:c.contact_code," ",c==null?void 0:c.contact_number]})]})]})}}return n.jsx("div",{children:n.jsx(K,{open:e,onCancel:r,footer:null,centered:!0,width:"80vw",className:"device-configuration-modal my-6 lg:max-w-[50vw]",children:n.jsx("div",{className:"p-3",children:n.jsx(oe,{progressDot:!0,current:10,direction:"vertical",items:Array.isArray(s)?s==null?void 0:s.map(p):[]})})})})}function te({data:e}){const[t,s]=d.useState(!1);return n.jsxs("div",{children:[n.jsx(Q,{shape:"circle",icon:n.jsx(Ee,{}),onClick:()=>s(!0)}),n.jsx(vt,{isvisible:t,setVisible:s,row_data:e==null?void 0:e.parents})]})}function Ct({isvisible:e,setVisible:t,row_data:s}){d.useContext(ne),L();const l=()=>{t(!1)},a=[{roomName:"Bedroom",roomType:"Bedroom",deviceUid:"A1234B",online:!0},{roomName:"Living Room",roomType:"Living Room",deviceUid:"B5678C",online:!1},{roomName:"Ground",roomType:"Living Room",deviceUid:"C9012D",online:!0}];return n.jsx("div",{children:n.jsx(K,{open:e,onCancel:l,footer:null,centered:!0,className:"device-configuration-modal my-6 md:w-[80vw] !sm:w-[80vw] w-[80vw]",children:n.jsx("div",{className:"p-6 space-y-4",children:a.map((r,p)=>n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("span",{className:`mt-2.5 h-2.5 w-2.5 rounded-full ${r.online?"bg-success":"bg-red-500"}`}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex text-lg items-center gap-2 font-medium text-gray-800",children:[r.roomName,n.jsx("span",{className:"text-xs text-gray-600 bg-gray-100 px-2 py-0.5 rounded",children:r.roomType})]}),n.jsxs("div",{className:"text-base text-gray-500",children:["UID: ",r.deviceUid]})]})]},p))})})})}function Nt({data:e}){const[t,s]=d.useState(!1);return n.jsxs("div",{children:[n.jsx(Q,{shape:"circle",icon:n.jsx(Te,{}),onClick:()=>s(!0)}),n.jsx(Ct,{isvisible:t,setVisible:s,row_data:e==null?void 0:e.parents})]})}function It({data:e}){var i,x,C,$;const[t,s]=d.useState(!1),[l,a]=d.useState(!1),[r,p]=d.useState(null),[c,u]=d.useState([]),S=()=>{s(!1)},b=d.useCallback(()=>{a(!0),Je({id:e==null?void 0:e.subscription_id}).then(y=>{p(y)}).catch(y=>{console.error("Error fetching subscription details:",y)}).finally(()=>{a(!1)})},[e]),f=d.useCallback(()=>{Me({customer_id:r==null?void 0:r.customer}).then(y=>{u(y||[])}).catch(y=>{console.error("Error fetching payment methods:",y)})},[r==null?void 0:r.customer]);return d.useEffect(()=>{t&&b()},[t,b]),d.useEffect(()=>{r&&f()},[r,f]),n.jsxs("div",{children:[n.jsx(Q,{shape:"round",icon:n.jsx(ze,{}),onClick:()=>s(!0),children:"Subscription"}),n.jsxs(K,{open:t,onCancel:S,footer:null,centered:!0,width:"80vw",className:"device-configuration-modal my-6 lg:max-w-[50vw]",children:[!r&&l&&n.jsx(He,{className:"flex justify-center items-center h-64"}),!r&&!l&&n.jsx(k,{image:k.PRESENTED_IMAGE_SIMPLE}),r&&n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Subscription Details"}),n.jsxs("div",{className:"grid grid-cols-2 gap-y-4 gap-x-6",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-[16px] text-gray-500",children:"Subscription Status"}),n.jsxs("div",{className:"text-[20px] text-green-600 font-medium capitalize flex items-center gap-2",style:{color:(r==null?void 0:r.status)==="active"?"green":(r==null?void 0:r.status)==="trialing"?"black":"red"},children:[r&&n.jsxs("span",{className:"relative flex size-3",children:[n.jsx("span",{className:"absolute inline-flex h-full w-full animate-ping rounded-full  opacity-75",style:{backgroundColor:(r==null?void 0:r.status)==="active"?"green":(r==null?void 0:r.status)==="trialing"?"black":"red"}}),n.jsx("span",{className:"relative inline-flex size-3 rounded-full ",style:{backgroundColor:(r==null?void 0:r.status)==="active"?"green":(r==null?void 0:r.status)==="trialing"?"black":"red"}})]}),(r==null?void 0:r.status)||"--"]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-[16px] text-gray-500",children:"Amount"}),n.jsxs("div",{className:"text-[20px] text-black font-medium",children:["$ ",((i=r==null?void 0:r.plan)==null?void 0:i.amount)/100," ",(C=(x=r==null?void 0:r.plan)==null?void 0:x.currency)==null?void 0:C.toUpperCase()]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-[16px] text-gray-500",children:"Recurring Cycle"}),n.jsx("div",{className:"text-[20px] text-black font-medium capitalize",children:(($=r==null?void 0:r.plan)==null?void 0:$.interval)||"--"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-[16px] text-gray-500",children:"Next Payment Date"}),n.jsx("div",{className:"text-[20px] text-black font-medium",children:r!=null&&r.current_period_end?new Date((r==null?void 0:r.current_period_end)*1e3).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"--"})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("div",{className:"text-[16px] text-gray-500 mb-2",children:"Saved Cards"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.map(y=>{const N=y.card,v=y.isDefault;return n.jsxs("div",{className:`border rounded-xl p-4 flex justify-between items-center shadow-sm ${v?"border-blue-600 bg-blue-50":"border-gray-200"}`,children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-[14px] text-gray-500",children:N.brand.toUpperCase()}),n.jsxs("div",{className:"text-[18px] font-medium",children:["**** **** **** ",N.last4]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Exp: ",N.exp_month,"/",N.exp_year]})]}),v&&n.jsx("div",{className:"text-blue-600 text-sm font-medium bg-blue-100 px-3 py-1 rounded-full",children:"Default"})]},y.id)}),c.length===0&&n.jsx("div",{className:"text-gray-500 text-sm italic",children:"No saved cards available."})]})]})]})]})]})]})}function wt({row:e}){const[t,s]=d.useState(e==null?void 0:e.status),[l,a]=d.useState(!1),r=p=>{a(!0),se(e==null?void 0:e._id,{status:p}).then(c=>{var u;console.log(c),c&&s((u=c==null?void 0:c.user)==null?void 0:u.status)}).finally(()=>{a(!1)})};return d.useEffect(()=>{s(e==null?void 0:e.status)},[e]),n.jsx(ie,{theme:{token:{colorText:"#707EAE",colorPrimary:"#06A44F",colorLinkActive:"#8086AC",colorLinkHover:"#8086AC",colorLink:"#8086AC"}},children:n.jsx(et,{loading:l,onChange:r,handleBg:"#00000",className:"bg-slate-200",value:t})})}function At({row:e}){const[t,s]=d.useState(e==null?void 0:e.status),[l,a]=d.useState(!1),r=p=>{a(!0),se(e==null?void 0:e._id,{status:p}).then(c=>{var u;console.log(c),c&&s((u=c==null?void 0:c.user)==null?void 0:u.status)}).finally(()=>{a(!1)})};return d.useEffect(()=>{s(e==null?void 0:e.status)},[e]),n.jsxs("div",{className:"flex items-center space-x-2 mr-0 ",children:[n.jsx("span",{className:`w-3 h-3 rounded-full relative -right-2 ${t==!0?"bg-[#1EB564]":"bg-red-500"}`}),n.jsx(ie,{theme:{token:{colorText:"#707EAE",colorPrimary:"#8086AC",colorLinkActive:"#8086AC",colorLinkHover:"#8086AC",colorLink:"#8086AC"}},children:n.jsx(Pe,{value:t,variant:"borderless",onChange:r,loading:l,optionSelectedColor:"#8086AC",className:"w-fit !text-red-100",options:[{value:!1,label:n.jsx("span",{children:"Disable"})},{value:!0,label:n.jsx("span",{children:"Active"})}]})})]})}const Et=e=>{const[t,s]=d.useState(V.get("mainRole")),[l,a]=d.useState(void 0),{setUserDetil:r}=qe(),p=L(),c=(i,x)=>{r(i),p(`/super-admin/user/${e=="Users"?i.end_user_id+"-"+i._id:i._id}`,{state:{role:i.role}})},u={super_admin:{distributor:["name","address","contact_person","contact_number","office_count","seles_agent_count","nursing_home_count","monitoring_company_count","end_user_count","action"],office:["name","distributor_name","address","contact_person","contact_number","seles_agent_count","nursing_home_count","monitoring_company_count","end_user_count","action"],sales_agent:["name","distributor_name","office_name","address","contact_number","agent_id","nursing_home_count","monitoring_company_count","end_user_count","action"],nursing_home:["name","distributor_name","office_name","sales_agent_name","address","contact_person","contact_number","elderly_count","device_count","alert_count","assigned_nurse_count","action"],monitoring_station:["name","address","contact_number","action"],control_center:["name","distributor_name","address","contact_person","contact_number","elderly_count","device_count","action"],support_agent:["name","distributor_name","address","contact_number","action"],installer:["name","distributor_name","office_name","address","contact_number","elderly_count","action"],super_admin:["name","contact_number","action"],end_user:["name","address","contact_number","elderly_count","alert_count","device_count","action"],elderly:["name","age","email","contact_number","address","alert_count","device_count","action"],nurse:["name","contact_number","action"]}},S={distributor_id:"distributor",office_id:"office",sales_agent_id:"sales_agent",nursing_home_id:"nursing_home",monitoring_station_id:"monitoring_station",support_agent_id:"support_agent"};function b(i,x){p(`/super-admin/user/${x}`,{state:{role:S[i]}})}const f={name:{title:i=>{switch(i){case"office":return"Office";case"nurse":return"Nurse Name";case"distributor":return"Distributor Name";case"sales_agent":return"Sales Agent Name";case"nursing_home":return"Nursing Home";case"end_user":return"End User";case"monitoring_station":return"Monitoring Station";case"control_center":return"Control Center";case"support_agent":return"Support Agent";case"installer":return"Installer";case"elderly":return"User Name";default:return"Name"}},onCell:(i,x)=>({onClick:C=>{c(i)}}),render:i=>{const x=e==="Elderly"?"elderly":null;return n.jsx("button",{children:n.jsx(Oe,{data:i,role:x})})}},address:{title:i=>{switch(i){case"elderly":return"Caregiver Address";default:return"Address"}},render:i=>n.jsx("button",{style:{width:"200px",textAlign:"left"},children:n.jsx("span",{className:" text-[14px] xl:text-base  font-normal text-text-secondary",children:e==="Elderly"?i.end_user_address:i.address})})},email:{title:i=>{switch(i){case"elderly":return"Caregiver Email";default:return"Email Address"}},render:i=>n.jsx("span",{className:" text-[14px] xl:text-base  font-normal text-text-secondar text-nowrapy",children:e==="Elderly"?i.end_user_email:i.email})},contact_number:{title:i=>{switch(i){case"elderly":return"Caregiver Number";default:return"Contact Number"}},render:i=>n.jsx("button",{children:n.jsx("span",{className:" text-[14px] xl:text-base  font-normal text-text-secondary",children:e==="Elderly"?i.end_user_contact_number:i.contact_number})})},contact_person:{title:"Contact Person",render:i=>n.jsx("button",{children:n.jsx("span",{className:" text-[14px] xl:text-base  font-normal text-text-secondary",children:i.contact_person})})},date:{title:"Date of Sales",render:i=>n.jsx("button",{children:n.jsx("span",{className:" text-[14px] xl:text-base  font-normal text-text-secondary",children:i.date})})},age:{title:"Age",render:i=>n.jsx("button",{children:n.jsx("span",{className:" text-[14px] xl:text-base  font-normal text-text-secondary",children:i.age})})},parents:{title:"Ownership Structure",render:i=>n.jsx(te,{data:i})},ownership_str:{title:"Ownership Structure",render:i=>{if(!i.hierarchy)return;const x={distributor_id:"Distributor",office_id:"Office",sales_agent_id:"Sales Agent",nursing_home_id:"Nursing Home",monitoring_station_id:"Monitoring Station",support_agent_id:"Support Agent",end_user_id:"End User",caregiver_id:"Caregiver"},C=[{id:"distributor_id",title:x.distributor_id,value:i.hierarchy.distributor_id||"N/A"},{id:"office_id",title:x.office_id,value:i.hierarchy.office_id||"N/A"},{id:"sales_agent_id",title:x.sales_agent_id,value:i.hierarchy.sales_agent_id||"N/A"},{id:"monitoring_station_id",title:x.monitoring_station_id,value:i.hierarchy.monitoring_station_id||"N/A"},{id:"nursing_home_id",title:x.nursing_home_id,value:i.hierarchy.nursing_home_id||"N/A"}].filter($=>$.value!=="N/A");return n.jsx("div",{className:"ownership-str",children:C.map(($,y)=>n.jsxs("button",{onClick:()=>b($.id,$.value),className:"ownership-button",children:[n.jsxs("span",{className:"text-[14px] xl:text-base font-normal text-text-secondary hover:text-text-primary",children:[$.title," "]}),y<C.length-1&&" / "]},$.id))})}},external_id:{title:"External ID",render:i=>n.jsx("button",{children:n.jsx("span",{className:" text-[14px] xl:text-base  font-normal text-text-secondary",children:i.external_id})})},products:{title:"Products",render:i=>n.jsx("button",{children:n.jsx("span",{className:" text-[14px] xl:text-base  font-normal text-text-secondary",children:i.products})})},products_price:{title:"Products Price",render:i=>n.jsx("button",{children:n.jsx("span",{className:" text-[14px] xl:text-base  font-normal text-text-secondary",children:i.products_price})})},addons:{title:"Addons",render:i=>n.jsx("button",{children:n.jsx("span",{className:" text-[14px] xl:text-base  font-normal text-text-secondary",children:i.addons})})},addons_price:{title:"Addons Price",render:i=>n.jsx("button",{children:n.jsx("span",{className:" text-[14px] xl:text-base  font-normal text-text-secondary",children:i.addon_price})})},total_price:{title:"Total Price",render:i=>n.jsx("button",{children:n.jsx("span",{className:" text-[14px] xl:text-base  font-normal text-text-secondary",children:i.total})})},avg_sales:{title:"Average Sales",render:i=>n.jsx("button",{children:n.jsx("span",{className:" text-[14px] xl:text-base  font-normal text-text-secondary",children:i.aleravg_salest_count})})},alert_count:{title:"Active Alerts",render:i=>n.jsx("button",{children:n.jsx("span",{className:" text-[14px] xl:text-base  font-normal text-text-secondary",children:i.unresolved_alarm_count||0})})},subscription_plan:{title:"Subscription Plan",render:i=>n.jsx("button",{children:n.jsxs("span",{className:" text-[14px] xl:text-base  font-normal text-text-secondary text-nowrap",children:[n.jsx(Ye,{})," AI Monitoring"]})})},last_login:{title:"Last Login",render:i=>n.jsx("button",{children:n.jsx("span",{className:" text-[14px] xl:text-base  font-normal text-text-secondary text-nowrap",children:"12-05-2025; 10: 23 PM"})})},subscription_ex_date:{title:"Subscription Expire Date",render:i=>n.jsx("button",{children:n.jsx("span",{className:" text-[14px] xl:text-base  font-normal text-text-secondary text-nowrap",children:"1 July, 2026"})})},subscription_status:{title:"Subscription Status",render:i=>{const x=Math.random()<.5;return n.jsx("button",{children:n.jsx("span",{className:"text-[14px] xl:text-base font-normal text-text-secondary",children:x?n.jsx(F,{icon:n.jsx(Ze,{spin:!0}),color:"success",className:"font-semibold",children:"Active"}):n.jsx(F,{icon:n.jsx(ke,{}),className:"font-semibold",children:"Canceled"})})})}},device_count:{title:"Devices",render:i=>n.jsx("button",{children:n.jsxs("span",{className:" text-[14px] xl:text-base  font-normal text-text-secondary flex gap-3",children:[n.jsx(G,{title:"Online Devices",children:n.jsxs("div",{className:"flex items-center gap-1 border px-2 py-1 rounded-2xl hover:bg-slate-100",children:[n.jsx("div",{className:"size-2 bg-success rounded-full "})," ",n.jsx("span",{className:"leading-3 font-semibold",children:i==null?void 0:i.online_device_count})]})}),n.jsx(G,{title:"Offline Devices",children:n.jsxs("div",{className:"flex items-center gap-1 border px-2 py-1 rounded-2xl hover:bg-slate-100",children:[n.jsx("div",{className:"size-2 bg-Critical rounded-full "})," ",n.jsxs("span",{className:"leading-3 font-semibold",children:[" ",i==null?void 0:i.office_manager_count]})]})})]})})},sales_agent_count:{title:"Sales Agents",render:i=>n.jsx("button",{children:n.jsx("span",{className:" text-[14px] xl:text-base  font-normal text-text-secondary",children:i.sales_agent_count})})},end_user_count:{title:"End Users",render:i=>n.jsx("button",{children:n.jsx("span",{className:" text-[14px] xl:text-base  font-normal text-text-secondary",children:i.end_user_count})})},nursing_home_count:{title:"Nursing Homes",render:i=>n.jsx("button",{children:n.jsx("span",{className:" text-[14px] xl:text-base  font-normal text-text-secondary",children:i.nursing_home_count})})},monitoring_company_count:{title:"Monitoring Stations",render:i=>n.jsx("button",{children:n.jsx("span",{className:" text-[14px] xl:text-base  font-normal text-text-secondary",children:i.monitoring_station_count})})},office_count:{title:"Offices",render:i=>n.jsx("button",{children:n.jsx("span",{className:" text-[14px] xl:text-base  font-normal text-text-secondary",children:i.office_count})})},elderly_count:{title:"Elderly",render:i=>n.jsx("button",{children:n.jsx("span",{className:" text-[14px] xl:text-base  font-normal text-text-secondary",children:i.elderly_count})})},assigned_nurse_count:{title:"Assigned Nurse",render:i=>n.jsx("button",{children:n.jsx("span",{className:" text-[14px] xl:text-base  font-normal text-text-secondary",children:i.nurse_count})})},office_name:{title:"Office Name",render:i=>n.jsx("button",{children:n.jsx("span",{className:" text-[14px] xl:text-base  font-normal text-text-secondary",children:i.office_name})})},distributor_name:{title:"Distributor Name",render:i=>n.jsx("button",{children:n.jsx("span",{className:" text-[14px] xl:text-base  font-normal text-text-secondary",children:i.distributor_name})})},sales_agent_name:{title:"Sales Agent Name",render:i=>n.jsx("button",{children:n.jsx("span",{className:" text-[14px] xl:text-base  font-normal text-text-secondary",children:i.sales_agent_name})})},installer:{title:"Installer Name",render:i=>n.jsx("button",{children:n.jsx("span",{className:" text-[14px] xl:text-base  font-normal text-text-secondary",children:i.installer_name})})},agent_id:{title:"Agent ID",render:i=>n.jsx("button",{children:n.jsx("span",{className:" text-[14px] xl:text-base  font-normal text-text-secondary",children:i.agent_id})})},status:{title:"Status",render:i=>(i==null?void 0:i.role)=="sales_agent"?n.jsx(wt,{row:i}):n.jsx(At,{row:i})},action:{title:"",key:"id",width:100,render:i=>{var x;return n.jsxs("div",{className:"flex items-center gap-2",children:[(e==null?void 0:e.includes("End User"))&&n.jsx("button",{disabled:!(i!=null&&i.subscription_id),className:"disabled:opacity-20",children:n.jsx(It,{data:i})}),!(e!=null&&e.includes("Monitoring Station"))&&!(e!=null&&e.includes("Distributors"))&&n.jsx("button",{disabled:((x=i==null?void 0:i.parents)==null?void 0:x.length)===0,className:"disabled:opacity-20",children:n.jsx(te,{data:i})}),(e==null?void 0:e.includes("Elderly"))&&n.jsx(Nt,{data:i}),!(e!=null&&e.includes("Elderly"))&&n.jsx(Ke,{data:i})]})}}};return d.useEffect(()=>{var i,x,C,$,y,N,v,E,H,q,T,M;if(e=="Super Admins"){const h=(((i=u[t])==null?void 0:i.super_admin)||[]).map(g=>{const o=f[g];return{...o,title:o&&typeof o.title=="function"?o.title("super_admin"):o==null?void 0:o.title}});a(h)}else if(e=="Support Agents"){const h=(((x=u[t])==null?void 0:x.support_agent)||[]).map(g=>{const o=f[g];return{...o,title:o&&typeof o.title=="function"?o.title("support_agent"):o==null?void 0:o.title}});a(h)}else if(e=="Distributors"){const h=(((C=u[t])==null?void 0:C.distributor)||[]).map(g=>{const o=f[g];return{...o,title:o&&typeof o.title=="function"?o.title("distributor"):o==null?void 0:o.title}});a(h)}else if(e=="Offices"){const h=((($=u[t])==null?void 0:$.office)||[]).map(g=>{const o=f[g];return{...o,title:o&&typeof o.title=="function"?o.title("office"):o==null?void 0:o.title}});a(h)}else if(e=="Nursing Homes"){const h=(((y=u[t])==null?void 0:y.nursing_home)||[]).map(g=>{const o=f[g];return{...o,title:o&&typeof o.title=="function"?o.title("nursing_home"):o==null?void 0:o.title}});a(h)}else if(e=="Sales Agents"){const h=(((N=u[t])==null?void 0:N.sales_agent)||[]).map(g=>{const o=f[g];return{...o,title:o&&typeof o.title=="function"?o.title("sales_agent"):o==null?void 0:o.title}});a(h)}else if(e=="End Users"){const h=(((v=u[t])==null?void 0:v.end_user)||[]).map(g=>{const o=f[g];return{...o,title:o&&typeof o.title=="function"?o.title("end_user"):o==null?void 0:o.title}});a(h)}else if(e=="Installers"){const h=(((E=u[t])==null?void 0:E.installer)||[]).map(g=>{const o=f[g];return{...o,title:o&&typeof o.title=="function"?o.title("installer"):o==null?void 0:o.title}});a(h)}else if(e=="Monitoring Stations"){const h=(((H=u[t])==null?void 0:H.monitoring_station)||[]).map(g=>{const o=f[g];return{...o,title:o&&typeof o.title=="function"?o.title("monitoring_station"):o==null?void 0:o.title}});a(h)}else if(e=="Control Centers"){const h=(((q=u[t])==null?void 0:q.control_center)||[]).map(g=>{const o=f[g];return{...o,title:o&&typeof o.title=="function"?o.title("control_center"):o==null?void 0:o.title}});a(h)}else if(e=="Nurses"){console.log(e);const h=(((T=u[t])==null?void 0:T.nurse)||[]).map(g=>{const o=f[g];return{...o,title:o&&typeof o.title=="function"?o.title("nurse"):o==null?void 0:o.title}});a(h)}else if(e=="Users"){const h=(((M=u[t])==null?void 0:M.elderly)||[]).map(g=>{const o=f[g];return{...o,title:o&&typeof o.title=="function"?o.title("elderly"):o==null?void 0:o.title}});a(h)}},[e]),l},Tt=e=>{const t=d.useRef(null),[s,l]=d.useState(null),[a,r]=d.useState(!1),[p,c]=d.useState(null),u=d.useCallback(async(S={})=>{r(!0),c(null),t.current&&t.current.cancel("Previous request canceled!"),t.current=ee.CancelToken.source();try{const b=await e({...S,cancelToken:t.current.token});l(b)}catch(b){ee.isCancel(b)?console.log("Request canceled:",b.message):(console.error("Fetch error:",b),c(b))}finally{r(!1)}},[e]);return d.useEffect(()=>()=>{t.current&&t.current.cancel("Component unmounted, request canceled!")},[]),{response:s,loading:a,error:p,makeRequest:u}},Ut=()=>{const{response:e,loading:t,error:s,makeRequest:l}=Tt(Ve),a=De(),r=Re(),p=L(),[c,u]=d.useState("");d.useState(!1);const[S,b]=d.useState({}),[f,i]=d.useState(""),[x,C]=d.useState("Monitoring Stations");d.useState(V.get("mainRole"));const[$,y]=d.useState([]),[N,v]=d.useState(!1),[E]=d.useState([{bo:!0,warring:!1,text:"Monitoring Stations"},{bo:!0,warring:!1,text:"Distributors"},{bo:!0,warring:!1,text:"Offices"},{bo:!0,warring:!1,text:"Sales Agents"},{bo:!0,warring:!1,text:"Nursing Homes"},{bo:!0,warring:!1,text:"Nurses"},{bo:!0,warring:!1,text:"Control Centers"},{bo:!0,warring:!1,text:"Support Agents"},{bo:!0,warring:!1,text:"Installers"},{bo:!0,warring:!1,text:"End Users"},{bo:!0,warring:!1,text:"Users"}]);d.useState(V.get("user"));const[H,q]=d.useState(""),[T,M]=d.useState(!1),[j,h]=d.useState("Time"),[g,o]=d.useState({}),[I,P]=d.useState({}),[Y,O]=d.useState([]),[z,B]=d.useState(0),[U,le]=d.useState([]),ae={Distributors:"Distributor","Nursing Homes":"Nursing Home","Sales Agents":"Sales Agent","Support Agents":"Support Agent","Super Admins":"Super Admin",Users:"User",Installers:"Installer","Monitoring Stations":"Monitoring Station","Control Centers":"Control Center",Offices:"Office","End Users":"End User",Nurses:"Nurse"},ce={Distributors:"distributor","Nursing Homes":"nursing_home","Sales Agents":"sales_agent","Support Agents":"supports_agent","Monitoring Stations":"monitoring_agency","Control Centers":"monitoring_station",Installers:"installer","End Users":"end_user",Offices:"office","Super Admins":"super_admin",Users:"elderly",Nurses:"nurse"},de=["Time","Name"],W=Et(c),[ue,Mt]=d.useState();X(_=>_.users.list||[]),X(_=>_.users.status),X(_=>_.users.error),d.useEffect(()=>{W&&le(W)},[W,c]),d.useEffect(()=>{const A=new URLSearchParams(r.search).get("tab");E.map(ge=>ge.text).includes(A)?u(A):u("Monitoring Stations")},[]);const me=()=>{M(!0)},pe=_=>{o({page:1}),u(_.name)};d.useCallback(()=>{},[a,ue]);const D=d.useCallback(async()=>{O([]);let _={...g,...I};const A=ae[c];if(C(A),_.role=ce[c],i(_.role),_.role==="elderly")v(!0),delete _.role,Le({..._}).then(w=>{y(w.data),B(w==null?void 0:w.total)}).catch(w=>{console.log(w)}).finally(()=>{v(!1)});else try{await l({..._})}catch(w){console.log(w)}p(`/super-admin/users?tab=${c}`)},[I,c,g]);d.useEffect(()=>{D()},[D]);const J=d.useRef(!1);d.useEffect(()=>{J.current?j&&I.orderType!==j&&(delete I.sort_by_created_at,delete I.sort_by_name,P({...I,...j==="Name"?{sort_by_name:-1}:{sort_by_created_at:-1}}),o({...g,page:1})):J.current=!0},[j]);const Z=d.useCallback(tt(_=>{P(A=>({...A,search:_.trim()})),o(A=>({...A,page:1}))},1e3),[]);return d.useEffect(()=>()=>{Z.cancel()},[]),n.jsxs("div",{className:"",children:[n.jsx("div",{className:"pt-[20px] pb-[10px] flex",children:n.jsx(Qe,{menus:E,activeTab:c,setActiveTab:!1,handleChange:pe})}),n.jsxs("div",{className:" bg-white rounded-2xl overflow-hidden",children:[n.jsxs("div",{className:" px-[22px] py-6 flex items-start flex-col lg:flex-row justify-between gap-2",children:[n.jsx("div",{className:" flex items-center justify-between w-full",children:n.jsx("h2",{className:" text-2xl font-bold text-text-primary",children:c})}),n.jsxs("div",{className:" flex items-center justify-end gap-5 w-full",children:[n.jsx(Be,{search:H,setSearch:_=>{q(_),Z(_)},placeholder:`Search ${x}`}),n.jsx(Ue,{query:I,setQuery:P,selected:j,setSelected:h,data:de}),n.jsxs(We,{onClick:()=>me(),className:" hidden lg:flex min-w-[80px]",style:{display:["User","End User"].includes(x)?"none":"flex"},children:[n.jsx("div",{className:"mr-1",dangerouslySetInnerHTML:{__html:`<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 19 19" fill="none">
                <path d="M10.0941 5.54102C10.0941 5.2131 9.82824 4.94727 9.50033 4.94727C9.17241 4.94727 8.90658 5.2131 8.90658 5.54102V8.9056H5.54199C5.21407 8.9056 4.94824 9.17143 4.94824 9.49935C4.94824 9.82727 5.21407 10.0931 5.54199 10.0931H8.90658V13.4577C8.90658 13.7856 9.17241 14.0514 9.50033 14.0514C9.82824 14.0514 10.0941 13.7856 10.0941 13.4577V10.0931H13.4587C13.7866 10.0931 14.0524 9.82727 14.0524 9.49935C14.0524 9.17143 13.7866 8.9056 13.4587 8.9056H10.0941V5.54102Z" fill="white"/>
                </svg>`}}),"Add New ",x]})]})]}),n.jsx("div",{className:" grid grid-cols-1",children:n.jsx(Xe.Provider,{value:{getlist:D,query:I,total:c=="Users"?z:(e==null?void 0:e.total)||[],page:g,SetPage:o,role:f},children:n.jsx(Ge,{loading:c=="Users"?N:t,tableData:c=="Users"?$:e==null?void 0:e.data,getlist:D,columns:U})})})]}),n.jsx("div",{className:"mt-[38px] ",children:n.jsx("div",{className:"font-semibold"})}),n.jsx(Fe,{changeParams:S,item:{},getlist:D,role:f,modalOPen:T,setModalOpen:M})]})};export{Ut as default};
//# sourceMappingURL=index-BHPu0peW.js.map
