{"version":3,"file":"index-CgJamwQQ.js","sources":["../../src/Pages/Supportnursing/components/barChartByGender.jsx","../../src/Pages/Supportnursing/components/pieChart.jsx","../../src/Pages/Supportnursing/components/totalAlertChart.jsx","../../src/Pages/Supportnursing/components/barChart.jsx","../../src/Pages/Supportnursing/components/bubbleChart.jsx","../../src/Pages/Supportnursing/Dashboards/MonitoringStation.jsx","../../src/Pages/Supportnursing/components/salesOverviewChart.jsx","../../src/Pages/Supportnursing/components/totalSalesChart.jsx","../../src/Pages/Supportnursing/count-utiles.jsx","../../src/Pages/Supportnursing/utiles.jsx","../../src/Pages/Supportnursing/Dashboards/Installer.jsx","../../src/Pages/Supportnursing/Dashboards/MonitoringAgency.jsx","../../src/Pages/Supportnursing/index.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport ReactEcharts from \"echarts-for-react\";\r\n\r\nexport default function BarChartByGender({ data = [], chartFor }) {\r\n  const [options, setOptions] = useState({});\r\n  useEffect(() => {\r\n    if (data.length === 0) {\r\n      setOptions({\r\n        graphic: {\r\n          type: \"text\",\r\n          left: \"center\",\r\n          top: \"middle\",\r\n          style: {\r\n            text: \"No Data Available\",\r\n            fontSize: 20,\r\n            fontWeight: \"bold\",\r\n            fill: \"#999\",\r\n          },\r\n        },\r\n      });\r\n      return;\r\n    }\r\n\r\n    // Default X-Axis for Age Chart\r\n    const defaultAgeXAxis = [\r\n      \"20-29\",\r\n      \"30-39\",\r\n      \"40-49\",\r\n      \"50-59\",\r\n      \"60-69\",\r\n      \"70-79\",\r\n      \"80-89\",\r\n      \"90-99\",\r\n    ];\r\n\r\n    // Prepare X-Axis and Y-Axis Data\r\n    const xAxisData =\r\n      chartFor === \"age\" ? defaultAgeXAxis : data.map((item) => item._id);\r\n    const yAxisData = [\r\n      {\r\n        name: \"Male\",\r\n        type: \"bar\",\r\n        color: \"#357AF6\",\r\n        data: xAxisData.map((range) => {\r\n          const found = data.find((item) => item._id === range);\r\n          return found ? found.male_count : 0;\r\n        }),\r\n      },\r\n      {\r\n        name: \"Female\",\r\n        type: \"bar\",\r\n        color: \"#5CC8BE\",\r\n        data: xAxisData.map((range) => {\r\n          const found = data.find((item) => item._id === range);\r\n          return found ? found.female_count : 0;\r\n        }),\r\n      },\r\n    ];\r\n    const maxValue = Math.max(...yAxisData.flatMap((item) => item.data));\r\n\r\n    // Define chart options dynamically\r\n    const newOptions = {\r\n      tooltip: {\r\n        trigger: \"axis\",\r\n        axisPointer: { type: \"shadow\" },\r\n      },\r\n      legend: {\r\n        show: true,\r\n        top: 0,\r\n        data: [\"Male\", \"Female\"],\r\n      },\r\n      grid: {\r\n        left: chartFor === \"age\" ? \"0%\" : \"5%\",\r\n        right: \"0%\",\r\n        bottom: \"10%\",\r\n        top: \"10%\",\r\n        containLabel: true,\r\n      },\r\n      series: yAxisData, // Series is the same for both chart types\r\n    };\r\n\r\n    if (chartFor === \"age\") {\r\n      newOptions.xAxis = {\r\n        type: \"category\",\r\n        data: xAxisData,\r\n      };\r\n      newOptions.yAxis = {\r\n        type: \"value\",\r\n        boundaryGap: [0, 0.01],\r\n        min: 0,\r\n        max: maxValue,\r\n        interval: 1,\r\n        axisLabel: {\r\n          formatter: (value) => {\r\n            // Display integer values only\r\n            return Math.floor(value);\r\n          },\r\n        },\r\n      };\r\n    } else if (chartFor === \"diseases\") {\r\n      newOptions.yAxis = {\r\n        type: \"category\",\r\n        data: xAxisData,\r\n      };\r\n      newOptions.xAxis = {\r\n        type: \"value\",\r\n        boundaryGap: [0, 0.01],\r\n        min: 0,\r\n        max: maxValue,\r\n        interval: 1,\r\n        axisLabel: {\r\n          formatter: (value) => {\r\n            // Display integer values only\r\n            return Math.floor(value);\r\n          },\r\n        },\r\n      };\r\n    }\r\n\r\n    setOptions(newOptions);\r\n  }, [data.length]);\r\n\r\n  return (\r\n    <ReactEcharts\r\n      notMerge={true}\r\n      option={options}\r\n      style={{ width: \"100%\", height: \"100%\" }}\r\n    />\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport ReactEcharts from \"echarts-for-react\";\r\nimport \"echarts/lib/chart/line\";\r\nimport \"echarts/lib/chart/lines\";\r\nimport \"echarts/lib/chart/bar\";\r\nimport grid from \"antd/es/grid\";\r\n\r\nexport default function PieChart({ data = [], chartFor }) {\r\n  const [chartData, setChartData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    let datForChart = data?.map((item) => {\r\n      if (chartFor === \"device\") {\r\n        const colorMap = {\r\n          completed: \"#08A1F7\", // Changed to hex code for green\r\n          pending: \"#922BF2\", // Changed to hex code for gray\r\n          not_started: \"#FF3B11\",\r\n        };\r\n\r\n        const colors = data.map((item) => colorMap[item._id]);\r\n\r\n        const newOptions = {\r\n          ...options,\r\n          color: colors,\r\n        };\r\n\r\n        setOptions(newOptions);\r\n        const nameMap = {\r\n          not_started: \"Not Started\",\r\n          completed: \"Completed\",\r\n          pending: \"Pending\",\r\n        };\r\n        return {\r\n          value: item.count,\r\n          name: nameMap[item._id] || item._id,\r\n        };\r\n      } else {\r\n        return {\r\n          value: item.male_count + item.female_count,\r\n          name:\r\n            item._id === \"male\"\r\n              ? \"Male\"\r\n              : item._id === \"fe-male\"\r\n              ? \"Female\"\r\n              : null,\r\n        };\r\n      }\r\n    });\r\n    setChartData(datForChart);\r\n  }, [data]);\r\n\r\n  const [options, setOptions] = useState({\r\n    title: {},\r\n    tooltip: {\r\n      trigger: \"item\",\r\n    },\r\n\r\n    legend: { show: false },\r\n    labelLine: {\r\n      show: false,\r\n    },\r\n    color: [\"#4379EE\", \"#5CC8BE\", \"#243642\", \"#BC7C7C\"],\r\n  });\r\n\r\n  useEffect(() => {\r\n    const newOptions = { ...options };\r\n    if (chartFor == \"gender\") {\r\n      newOptions.series = [\r\n        {\r\n          type: \"pie\",\r\n          radius: \"50%\",\r\n          data: chartData,\r\n          emphasis: {\r\n            itemStyle: {\r\n              shadowBlur: 10,\r\n              shadowOffsetX: 0,\r\n              shadowColor: \"rgba(0, 0, 0, 0.5)\",\r\n            },\r\n          },\r\n        },\r\n      ];\r\n    } else if (chartFor == \"device\") {\r\n      newOptions.series = [\r\n        {\r\n          type: \"pie\",\r\n          radius: \"50%\",\r\n          data: chartData,\r\n          emphasis: {\r\n            itemStyle: {\r\n              shadowBlur: 10,\r\n              shadowOffsetX: 0,\r\n              shadowColor: \"rgba(0, 0, 0, 0.5)\",\r\n            },\r\n          },\r\n        },\r\n      ];\r\n    }\r\n    setOptions(newOptions);\r\n  }, [chartFor, chartData]);\r\n\r\n  return (\r\n    <ReactEcharts\r\n      notMerge={true}\r\n      option={options}\r\n      style={{ width: \"340px\", height: \"340px\" }}\r\n    />\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport ReactEcharts from \"echarts-for-react\";\r\n\r\nexport default function TotalAlertChart({ data = [] }) {\r\n  // Calculate counts for each type\r\n  const problemCount = data\r\n    .filter((item) => item.type === 1)\r\n    .reduce((acc, curr) => acc + curr.count, 0);\r\n  const warningCount = data\r\n    .filter((item) => item.type === 2)\r\n    .reduce((acc, curr) => acc + curr.count, 0);\r\n  const criticalCount = data\r\n    .filter((item) => item.type === 3)\r\n    .reduce((acc, curr) => acc + curr.count, 0);\r\n\r\n  // Prepare data for the pie chart\r\n  const pieData = [\r\n    { value: problemCount, name: \"Info\" },\r\n    { value: warningCount, name: \"Warning\" },\r\n    { value: criticalCount, name: \"Critical\" },\r\n  ];\r\n\r\n  // Calculate the total value\r\n  const totalValue = pieData.reduce((sum, item) => sum + item.value, 0);\r\n\r\n  // ECharts option configuration\r\n  const option = {\r\n    tooltip: {\r\n      trigger: \"item\",\r\n      formatter: \"{a} <br/>{b}: {c} ({d}%)\",\r\n    },\r\n    color: [\"#4379EE\", \"#F1963A\", \"#D90000\"],\r\n    series: [\r\n      {\r\n        name: \"Activity\",\r\n        type: \"pie\",\r\n        radius: [\"40%\", \"70%\"],\r\n        avoidLabelOverlap: false,\r\n        itemStyle: {\r\n          borderRadius: 10,\r\n          borderColor: \"#fff\",\r\n          borderWidth: 2,\r\n        },\r\n        label: {\r\n          show: false,\r\n          formatter: \"{b}: {c} ({d}%)\",\r\n        },\r\n        emphasis: {\r\n          label: {\r\n            show: false,\r\n            fontSize: 18,\r\n            fontWeight: \"bold\",\r\n          },\r\n        },\r\n        data: data.length !== 0 ? pieData : null,\r\n      },\r\n    ],\r\n    graphic: {\r\n      elements: [\r\n        {\r\n          type: \"text\",\r\n          left: \"center\",\r\n          top: \"53%\",\r\n          style: {\r\n            text: \"Total\",\r\n            textAlign: \"center\",\r\n            fill: \"#333\",\r\n            fontSize: 16,\r\n          },\r\n        },\r\n        {\r\n          type: \"text\",\r\n          left: \"center\",\r\n          top: \"45%\",\r\n          style: {\r\n            text: totalValue.toString(),\r\n            textAlign: \"center\",\r\n            fill: \"#333\",\r\n            fontSize: 22,\r\n            fontWeight: \"bold\",\r\n          },\r\n        },\r\n      ],\r\n    },\r\n  };\r\n\r\n  return (\r\n    <ReactEcharts option={option} style={{ width: \"340px\", height: \"340px\" }} />\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport ReactEcharts from \"echarts-for-react\";\r\nimport \"echarts/lib/chart/line\";\r\nimport \"echarts/lib/chart/lines\";\r\nimport \"echarts/lib/chart/bar\";\r\n\r\nexport default function BarChart({ data = [], graphTitle }) {\r\n  const yAxisData = data.map(\r\n    (item) => item.property_name || item.elderly_name || \"Unknown\"\r\n  );\r\n  const seriesData = data.map((item) => item.total_orders || item.count);\r\n  const option = {\r\n    xAxis: {\r\n      max: \"dataMax\",\r\n    },\r\n    tooltip: {},\r\n    grid: {\r\n      left: \"0%\",\r\n      right: \"0%\",\r\n      bottom: \"10%\",\r\n      top: \"5%\",\r\n      containLabel: true,\r\n    },\r\n    yAxis: {\r\n      type: \"category\",\r\n      data: yAxisData,\r\n      inverse: true,\r\n      animationDuration: 300,\r\n      animationDurationUpdate: 300,\r\n    },\r\n    dataZoom: [\r\n      {\r\n        type: \"inside\",\r\n        yAxisIndex: 0,\r\n        start: 0,\r\n        end: 100,\r\n      },\r\n    ],\r\n    series: [\r\n      {\r\n        name: graphTitle,\r\n        type: \"bar\",\r\n        // stack:'total',\r\n        data: seriesData,\r\n        itemStyle: {\r\n          color: \"#4379EE\",\r\n        },\r\n        label: {\r\n          show: true,\r\n          valueAnimation: true,\r\n        },\r\n        barWidth: seriesData.length < 5 ? 30 : \"auto\",\r\n      },\r\n    ],\r\n    label: {\r\n      show: true,\r\n      // formatter: \"{c}\", // Format to show dollar sign before the value\r\n    },\r\n    legend: {\r\n      show: false,\r\n    },\r\n    graphic:\r\n      seriesData.length === 0\r\n        ? {\r\n            type: \"text\",\r\n            left: \"center\",\r\n            top: \"middle\",\r\n            style: {\r\n              text: \"No Data Available\",\r\n              fontSize: 20,\r\n              fontWeight: \"bold\",\r\n              fill: \"#999\", // color of the text\r\n            },\r\n          }\r\n        : null,\r\n  };\r\n  return (\r\n    <ReactEcharts\r\n      notMerge={true}\r\n      option={option}\r\n      style={{ width: \"100%\", height: \"100%\" }}\r\n    />\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport ReactECharts from \"echarts-for-react\";\r\n\r\nconst BubbleChart = ({ data = [] }) => {\r\n  const hasData = data.length > 0;\r\n\r\n  const option = {\r\n    title: {},\r\n    tooltip: {\r\n      trigger: \"item\",\r\n      textStyle: {\r\n        color: \"#333\", // Text color\r\n        fontSize: 16,\r\n        fontFamily: \"Arial, sans-serif\",\r\n      },\r\n      formatter: function (params) {\r\n        return `\r\n            <div style=\"padding: 5px; text-align: left;\">\r\n              <div><strong>Activity:</strong> ${params.data[0]}</div>\r\n              <div><strong>Count:</strong> ${params.data[1]}</div>\r\n            </div>\r\n          `;\r\n      },\r\n    },\r\n    grid: {\r\n      left: \"2%\",\r\n      right: \"0%\",\r\n      bottom: \"30%\",\r\n      top: \"12%\",\r\n      containLabel: true,\r\n    },\r\n    xAxis: {\r\n      type: \"category\",\r\n      axisLabel: {\r\n        show: false, // Hide x-axis labels\r\n      },\r\n      axisLine: {\r\n        show: false, // Hide x-axis line\r\n      },\r\n      axisTick: {\r\n        show: false, // Hide x-axis ticks\r\n      },\r\n    },\r\n    yAxis: {\r\n      type: \"value\",\r\n      name: \"Count\",\r\n      nameLocation: \"center\",\r\n      nameGap: 40,\r\n      scale: true, // Enables dynamic scaling for the y-axis\r\n      splitLine: {\r\n        show: false, // Optional: Hide grid lines for a cleaner look\r\n      },\r\n    },\r\n    dataZoom: hasData\r\n      ? [\r\n          {\r\n            type: \"inside\", // Enables scrolling and zooming\r\n            start: 0,\r\n            end: 100,\r\n          },\r\n          {\r\n            type: \"slider\",\r\n            start: 0,\r\n            end: 100,\r\n          },\r\n        ]\r\n      : [], // No zoom bar if there's no data\r\n    series: hasData\r\n      ? [\r\n          {\r\n            type: \"scatter\",\r\n            symbolSize: function (value) {\r\n              // Dynamic bubble size with an upper limit for large datasets\r\n              return Math.min(Math.sqrt(value[1]) * 5, 40);\r\n            },\r\n            data: data.map((item) => [item.property_name, item.count]),\r\n            label: {\r\n              show: false, // Turn off bubble labels for large datasets\r\n            },\r\n            itemStyle: {\r\n              color: \"rgba(67, 121, 238, 0.8)\", // Semi-transparent shade\r\n            },\r\n          },\r\n        ]\r\n      : [],\r\n  };\r\n  if (data.length === 0) {\r\n    return (\r\n      <div className=\"w-full h-full flex items-center justify-center\">\r\n        {\" \"}\r\n        <span className=\"text-[#999999] font-semibold text-xl\">\r\n          {\" \"}\r\n          No Data Available\r\n        </span>{\" \"}\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <ReactECharts\r\n      option={option}\r\n      style={{ height: \"370px\", width: \"100%\" }}\r\n      opts={{ renderer: \"canvas\" }} // Ensures canvas-based rendering for responsiveness\r\n    />\r\n  );\r\n};\r\n\r\nexport default BubbleChart;\r\n","import React, { useRef } from \"react\";\r\nimport { useCallback, useEffect, useState } from \"react\";\r\n\r\nimport BarChartByGender from \"../components/barChartByGender\";\r\nimport PieChart from \"../components/pieChart\";\r\nimport { ConfigProvider } from \"antd\";\r\nimport { Select } from \"antd\";\r\nimport TotalAlertChart from \"../components/totalAlertChart\";\r\nimport BarChart from \"../components/barChart\";\r\nimport {\r\n  getChartByGender,\r\n  getChartByAge,\r\n  getDiseasesCountByGender,\r\n} from \"@/api/Dashboard\";\r\nimport BubbleChart from \"../components/bubbleChart\";\r\nimport { useRefContext } from \"@/Context/RefContext\";\r\n\r\nexport default function MonitoringStation({\r\n  count,\r\n  chartByAge = [],\r\n  chartByGender = [],\r\n  diseasesCountByGender = [],\r\n  alertsCountByName = [],\r\n  alertsCountByElderly = [],\r\n}) {\r\n  const { registerRef } = useRefContext();\r\n\r\n  // const [chartByGender, setChartByGender] = useState([]);\r\n  // const [chartByAge, setChartByAge] = useState([]);\r\n  // const [diseasesCountByGender, setDiseasesCountByGender] = useState([]);\r\n  // //Chart by gender (male and female)\r\n  // const ChartByGender = useCallback(() => {\r\n  //   getChartByGender()\r\n  //     .then((res) => {\r\n  //       console.log(res);\r\n  //       setChartByGender(res.data);\r\n  //     })\r\n  //     .catch((err) => {\r\n  //       console.log(err);\r\n  //     });\r\n  // }, []);\r\n\r\n  // //chart by age with range\r\n  // const ChartByAge = useCallback(() => {\r\n  //   getChartByAge()\r\n  //     .then((res) => {\r\n  //       console.log(res);\r\n  //       setChartByAge(res.data);\r\n  //     })\r\n  //     .catch((err) => {\r\n  //       console.log(err);\r\n  //     });\r\n  // }, []);\r\n\r\n  // //Diseses count by gender\r\n  // const DiseasesCountByGender = useCallback(() => {\r\n  //   getDiseasesCountByGender()\r\n  //     .then((res) => {\r\n  //       console.log(res);\r\n  //       setDiseasesCountByGender(res.data);\r\n  //     })\r\n  //     .catch((err) => {\r\n  //       console.log(err);\r\n  //     });\r\n  // }, []);\r\n\r\n  // useEffect(() => {\r\n  //   ChartByGender();\r\n  //   ChartByAge();\r\n  //   DiseasesCountByGender();\r\n  // }, []);\r\n  const stepsRef = {\r\n    usersCountM: useRef(null),\r\n    mostAlertM: useRef(null),\r\n    activityCountM: useRef(null),\r\n    agesM: useRef(null),\r\n    genderM: useRef(null),\r\n    diseasesM: useRef(null),\r\n    activityM: useRef(null),\r\n  };\r\n\r\n  useEffect(() => {\r\n    Object.keys(stepsRef).forEach((key) => {\r\n      if (stepsRef[key].current) {\r\n        registerRef(\"tour_step_\" + key, stepsRef[key]);\r\n      }\r\n    });\r\n  }, [registerRef]);\r\n  return (\r\n    <div className=\"w-full flex flex-col gap-6 pt-6\">\r\n      <div className=\"flex gap-6 lg:flex-row flex-col h-fit\">\r\n        <div className=\"rounded-2xl lg:w-[75%] w-full flex flex-col gap-6 h-full\">\r\n          <div id=\"Reports\" className=\"w-full rounded-2xl flex flex-col gap-6\">\r\n            <div\r\n              id=\"Cards\"\r\n              className=\"grid gap-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3\"\r\n              ref={stepsRef.usersCountM}\r\n            >\r\n              {count?.map((item, key) => {\r\n                let IconName = item.icon;\r\n                return (\r\n                  <div\r\n                    key={key}\r\n                    id=\"Card\"\r\n                    style={{ backgroundColor: item?.color }}\r\n                    className=\"cursor-pointer group flex w-full items-center p-4 py-6 text-white gap-3 rounded-[12px] relative overflow-hidden\"\r\n                  >\r\n                    <div\r\n                      id=\"circle\"\r\n                      className=\"w-[100px] h-[100px] bg-white/20 absolute -right-11 -top-14 rounded-full group-hover:-right-5 group-hover:-top-[75px] transition-all duration-200 ease-in-out\"\r\n                    ></div>\r\n                    <div\r\n                      id=\"circle\"\r\n                      className=\"w-[100px] h-[100px] bg-white/10 absolute -right-3 -top-[70px] rounded-full group-hover:-right-[50px] group-hover:-top-[45px] transition-all duration-200 ease-in-out\"\r\n                    ></div>\r\n                    <div className=\"bg-opacity-10 h-fit rounded-[8px] p-2 bg-black/20\">\r\n                      {IconName && <IconName color=\"#fff\" size={20} />}\r\n                    </div>\r\n                    <div className=\"flex flex-col items-start\">\r\n                      <h1 className=\"text-[26px] font-semibold leading-none\">\r\n                        {item.count || 0}\r\n                      </h1>\r\n                      <span className=\"text-[14px] font-medium text-white/70 leading-none\">\r\n                        {item.label}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n              {/* {[1, 2, 3].map((item, key) => (\r\n              <div\r\n                key={key}\r\n                id=\"Card\"\r\n                className=\"cursor-pointer group flex w-full items-center p-4 py-6 bg-[#0F60FF] text-white gap-3 rounded-[12px] relative overflow-hidden\"\r\n              >\r\n                <div\r\n                  id=\"circle\"\r\n                  className=\"w-[100px] h-[100px] bg-white/20 absolute -right-11 -top-14 rounded-full group-hover:-right-5 group-hover:-top-[75px] transition-all duration-200 ease-in-out\"\r\n                ></div>\r\n                <div\r\n                  id=\"circle\"\r\n                  className=\"w-[100px] h-[100px] bg-white/10 absolute -right-3 -top-[70px] rounded-full group-hover:-right-[50px] group-hover:-top-[45px] transition-all duration-200 ease-in-out\"\r\n                ></div>\r\n                <div className=\"bg-opacity-10 h-fit rounded-[8px] p-2 bg-black/20\">\r\n                  <FiUser color=\"#fff\" size={20} />\r\n                </div>\r\n                <div className=\"flex flex-col items-start\">\r\n                  <h1 className=\"text-[26px] font-semibold leading-none\">\r\n                    1.6k\r\n                  </h1>\r\n                  <span className=\"text-[14px] font-medium text-white/70 leading-none\">\r\n                    Customers\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            ))} */}\r\n            </div>\r\n          </div>\r\n          <div\r\n            className=\"p-[25px] rounded-2xl bg-white w-full h-[445px] flex-grow\"\r\n            ref={stepsRef.agesM}\r\n          >\r\n            <div id=\"ChartHeader\" className=\"w-full flex justify-between\">\r\n              <h1 className=\"text-[24px] font-bold\">Ages</h1>\r\n            </div>\r\n            <BarChartByGender\r\n              // data={\r\n              //   chartByAge.length > 0\r\n              //     ? chartByAge\r\n              //     : [\r\n              //         {\r\n              //           _id: \"20-29\",\r\n              //           male_count: 4,\r\n              //           female_count: 0,\r\n              //         },\r\n              //         {\r\n              //           _id: \"70-79\",\r\n              //           male_count: 0,\r\n              //           female_count: 2,\r\n              //         },\r\n              //         {\r\n              //           _id: \"90-99\",\r\n              //           male_count: 1,\r\n              //           female_count: 1,\r\n              //         },\r\n              //       ]\r\n              // }\r\n              data={chartByGender}\r\n              chartFor=\"age\"\r\n            />\r\n          </div>\r\n          <div\r\n            className=\"p-[25px] rounded-2xl bg-white w-full h-[445px] flex-grow\"\r\n            ref={stepsRef.diseasesM}\r\n          >\r\n            <div id=\"ChartHeader\" className=\"w-full flex justify-between\">\r\n              <h1 className=\"text-[24px] font-bold\">Diseases</h1>\r\n            </div>\r\n            <BarChartByGender\r\n              // data={\r\n              //   diseasesCountByGender.length > 0\r\n              //     ? diseasesCountByGender\r\n              //     : [\r\n              //         {\r\n              //           _id: \"Diabetes5\",\r\n              //           male_count: 0,\r\n              //           female_count: 1,\r\n              //         },\r\n              //         {\r\n              //           _id: \"Hypertension5\",\r\n              //           male_count: 0,\r\n              //           female_count: 1,\r\n              //         },\r\n              //       ]\r\n              // }\r\n              data={diseasesCountByGender}\r\n              chartFor=\"diseases\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"rounded-2xl lg:w-[35%] w-full flex flex-col gap-6 h-full\">\r\n          <div\r\n            className=\"p-[25px] rounded-2xl bg-white w-full flex flex-col h-[496px] justify-between\"\r\n            ref={stepsRef.genderM}\r\n          >\r\n            <div>\r\n              <div id=\"ChartHeader\" className=\"w-full flex justify-between\">\r\n                <h1 className=\"text-[24px] font-bold\">Gender</h1>\r\n              </div>\r\n              <div className=\"h-[260px] my-0 mx-auto flex items-center justify-center\">\r\n                <PieChart\r\n                  // data={\r\n                  //   chartByGender.length > 0\r\n                  //     ? chartByGender\r\n                  //     : [\r\n                  //         {\r\n                  //           _id: \"fe-male\",\r\n                  //           male_count: 0,\r\n                  //           female_count: 3,\r\n                  //         },\r\n                  //         {\r\n                  //           _id: \"male\",\r\n                  //           male_count: 5,\r\n                  //           female_count: 0,\r\n                  //         },\r\n                  //       ]\r\n                  // }\r\n                  data={chartByAge}\r\n                  chartFor=\"gender\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div id=\"ChartInfo\" className=\"w-full flex flex-col gap-2\">\r\n              <div id=\"InfoItem\" className=\"w-full flex justify-between\">\r\n                <div className=\"flex gap-2 items-center\">\r\n                  <div className=\"w-[12px] h-[12px] bg-text-primary rounded-full\"></div>\r\n                  <span className=\"text-lg font-medium\">Total</span>\r\n                </div>\r\n                <span className=\"text-lg font-semibold\">\r\n                  {chartByAge.reduce(\r\n                    (acc, item) => acc + item.male_count + item.female_count,\r\n                    0\r\n                  )}\r\n                </span>\r\n              </div>\r\n              <div id=\"InfoItem\" className=\"w-full flex justify-between\">\r\n                <div className=\"flex gap-2 items-center\">\r\n                  <div className=\"w-[12px] h-[12px] bg-[#4379EE] rounded-full\"></div>\r\n                  <span className=\"text-lg font-medium\">Male</span>\r\n                </div>\r\n                <span className=\"text-lg font-semibold\">\r\n                  {chartByAge.map((item) =>\r\n                    item._id === \"male\" ? item.male_count || 0 : 0\r\n                  )}\r\n                  {chartByAge.length === 0 && <>0</>}\r\n                </span>\r\n              </div>\r\n              <div id=\"InfoItem\" className=\"w-full flex justify-between\">\r\n                <div className=\"flex gap-2 items-center\">\r\n                  <div className=\"w-[12px] h-[12px] bg-[#5CC8BE] rounded-full\"></div>\r\n                  <span className=\"text-lg font-medium\">Female</span>\r\n                </div>\r\n                <span className=\"text-lg font-semibold\">\r\n                  {\" \"}\r\n                  {chartByAge.map((item) =>\r\n                    item._id === \"female\" ? item.male_count || 0 : 0\r\n                  )}\r\n                  {chartByAge.length === 0 && <>0</>}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            className=\"p-[25px] rounded-2xl bg-white w-full flex flex-col h-[496px] justify-between\"\r\n            ref={stepsRef.activityM}\r\n          >\r\n            <div>\r\n              <div id=\"ChartHeader\" className=\"w-full flex justify-between\">\r\n                <h1 className=\"text-[24px] font-bold\">Activity</h1>\r\n                <div id=\"chartController\" className=\"flex gap-4\"></div>\r\n              </div>\r\n              <div className=\"h-[260px] my-0 mx-auto flex items-center justify-center\">\r\n                <TotalAlertChart data={alertsCountByName} />\r\n              </div>\r\n            </div>\r\n\r\n            <div id=\"ChartInfo\" className=\"w-full flex flex-col gap-2\">\r\n              <div id=\"InfoItem\" className=\"w-full flex justify-between\">\r\n                <div className=\"flex gap-2 items-center\">\r\n                  <div className=\"w-[12px] h-[12px] bg-[#4379EE] rounded-full\"></div>\r\n                  <span className=\"text-lg font-medium\">Info</span>\r\n                </div>\r\n                <span className=\"text-lg font-semibold\">\r\n                  {alertsCountByName\r\n                    .filter((item) => item.type === 1)\r\n                    .reduce((acc, curr) => acc + curr.count, 0)}\r\n                </span>\r\n              </div>\r\n              <div id=\"InfoItem\" className=\"w-full flex justify-between\">\r\n                <div className=\"flex gap-2 items-center\">\r\n                  <div className=\"w-[12px] h-[12px] bg-[#F1963A] rounded-full\"></div>\r\n                  <span className=\"text-lg font-medium\">Warning</span>\r\n                </div>\r\n                <span className=\"text-lg font-semibold\">\r\n                  {alertsCountByName\r\n                    .filter((item) => item.type === 2)\r\n                    .reduce((acc, curr) => acc + curr.count, 0)}\r\n                </span>\r\n              </div>\r\n              <div id=\"InfoItem\" className=\"w-full flex justify-between\">\r\n                <div className=\"flex gap-2 items-center\">\r\n                  <div className=\"w-[12px] h-[12px] bg-[#D90000] rounded-full\"></div>\r\n                  <span className=\"text-lg font-medium\">Critical</span>\r\n                </div>\r\n                <span className=\"text-lg font-semibold\">\r\n                  {alertsCountByName\r\n                    .filter((item) => item.type === 3)\r\n                    .reduce((acc, curr) => acc + curr.count, 0)}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"w-full flex gap-6 xl:flex-row flex-col h-[500px] justify-between\">\r\n        <div\r\n          className=\"p-[25px] rounded-2xl bg-white w-full h-[445px]\"\r\n          ref={stepsRef.mostAlertM}\r\n        >\r\n          <div id=\"ChartHeader\" className=\"w-full flex justify-between\">\r\n            <h1 className=\"text-[24px] font-bold\">Most Alerts</h1>\r\n          </div>\r\n          <BarChart data={alertsCountByElderly} />\r\n        </div>\r\n        <div\r\n          className=\"p-[25px] rounded-2xl bg-white w-full h-[445px]\"\r\n          ref={stepsRef.activityCountM}\r\n        >\r\n          <div id=\"ChartHeader\" className=\"w-full flex justify-between\">\r\n            <h1 className=\"text-[24px] font-bold\">Activity Count</h1>\r\n          </div>\r\n          <BubbleChart data={alertsCountByName} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport ReactEcharts from \"echarts-for-react\";\r\nimport \"echarts/lib/chart/line\";\r\nimport \"echarts/lib/chart/lines\";\r\nimport \"echarts/lib/chart/bar\";\r\n\r\nexport default function SalesOverviewChart({ data = [] }) {\r\n  // Extract _id (dates) and total_orders\r\n  const datesArray = data.map((item) => item._id);\r\n  const totalOrdersArray = data.map((item) => item.total_orders);\r\n\r\n  const option = {\r\n    tooltip: {\r\n      trigger: \"axis\",\r\n    },\r\n    grid: {\r\n      left: \"0%\",\r\n      right: \"0%\",\r\n      bottom: \"10%\",\r\n      containLabel: true,\r\n    },\r\n    xAxis: {\r\n      type: \"category\",\r\n      data: datesArray,\r\n    },\r\n    yAxis: {\r\n      type: \"value\",\r\n    },\r\n    series: [\r\n      {\r\n        data: totalOrdersArray,\r\n        type: \"line\",\r\n        symbol: \"circle\",\r\n        symbolSize: 10,\r\n        itemStyle: {\r\n          color: \"#4379EE\",\r\n        },\r\n        areaStyle: {\r\n          color: {\r\n            type: \"linear\",\r\n            x: 0,\r\n            y: 0,\r\n            x2: 0,\r\n            y2: 1, // Gradient from top (y=0) to bottom (y=1)\r\n            colorStops: [\r\n              { offset: 0, color: \"rgba(67, 121, 238, 0.5)\" }, // Top: Transparent\r\n              { offset: 1, color: \"rgba(255, 255, 255, 0) \" }, // Bottom: Blue with 50% opacity\r\n            ],\r\n          },\r\n        },\r\n\r\n        lineStyle: {\r\n          color: \"#4379EE\",\r\n        },\r\n      },\r\n    ],\r\n    graphic:\r\n      totalOrdersArray.length === 0\r\n        ? {\r\n            type: \"text\",\r\n            left: \"center\",\r\n            top: \"middle\",\r\n            style: {\r\n              text: \"No Data Available\",\r\n              fontSize: 20,\r\n              fontWeight: \"bold\",\r\n              fill: \"#999\", // color of the text\r\n            },\r\n          }\r\n        : null,\r\n  };\r\n  return (\r\n    <ReactEcharts\r\n      notMerge={true}\r\n      option={option}\r\n      style={{ width: \"100%\", height: \"100%\" }}\r\n    />\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport ReactEcharts from \"echarts-for-react\";\r\nimport \"echarts/lib/chart/line\";\r\nimport \"echarts/lib/chart/lines\";\r\nimport \"echarts/lib/chart/bar\";\r\n\r\nexport default function TotalSalesChart({ data = [], chartFor = \"\" }) {\r\n  const totalValue = data.reduce((sum, item) => sum + item.total_orders, 0);\r\n  const [colorMapping, setColorMapping] = useState({});\r\n  const propertyNamesMapping = {\r\n    completed: \"Completed\",\r\n    pending: \"In Progress\",\r\n    cancelled: \"Cancelled\",\r\n    not_started: \"Not Started\",\r\n  };\r\n  useEffect(() => {\r\n    if (chartFor === \"totalSales\") {\r\n      setColorMapping({\r\n        completed: \"#4379EE\",\r\n        pending: \"#F1963A\",\r\n        cancelled: \"#D90000\",\r\n      });\r\n    } else if (chartFor === \"totalInstallations\") {\r\n      setColorMapping({\r\n        completed: \"#36b610\",\r\n        pending: \"#833af1\",\r\n        not_started: \"#5d5d5d\",\r\n      });\r\n    }\r\n  }, [chartFor]);\r\n  const option = {\r\n    tooltip: {\r\n      trigger: \"item\",\r\n    },\r\n    grid: {\r\n      left: \"0%\",\r\n      right: \"0%\",\r\n      bottom: \"0%\",\r\n      top: \"0%\",\r\n      containLabel: true,\r\n    },\r\n    // color: Object.values(colorMapping),\r\n    series: [\r\n      {\r\n        type: \"pie\",\r\n        radius: [\"40%\", \"70%\"],\r\n        avoidLabelOverlap: false,\r\n        itemStyle: {\r\n          borderRadius: 10,\r\n          borderColor: \"#fff\",\r\n          borderWidth: 2,\r\n        },\r\n        label: {\r\n          show: false,\r\n          position: \"center\",\r\n        },\r\n        emphasis: {\r\n          label: {\r\n            show: false,\r\n          },\r\n        },\r\n        labelLine: {\r\n          show: true,\r\n        },\r\n        data: data.map((item) => ({\r\n          value: item.total_orders,\r\n          name: propertyNamesMapping[item.property_name] || \"Unknown Status\",\r\n          itemStyle: {\r\n            color: colorMapping[item.property_name],\r\n          },\r\n        })),\r\n      },\r\n    ],\r\n    graphic: {\r\n      elements: [\r\n        {\r\n          type: \"text\",\r\n          id: \"center-total-text\",\r\n          left: \"center\",\r\n          top: \"53%\",\r\n          style: {\r\n            text: \"Total\",\r\n            textAlign: \"center\",\r\n            fill: \"#333\",\r\n            fontSize: 16,\r\n          },\r\n        },\r\n        {\r\n          type: \"text\",\r\n          id: \"center-value-text\",\r\n          left: \"center\",\r\n          top: \"45%\",\r\n          style: {\r\n            text: totalValue,\r\n            textAlign: \"center\",\r\n            fill: \"#333\",\r\n            fontSize: 22,\r\n            fontWeight: \"bold\",\r\n          },\r\n          // Position the value text slightly below the center\r\n          position: [0, 50], // Adjust the 20 value to control the vertical spacing\r\n        },\r\n      ],\r\n    },\r\n  };\r\n\r\n  return (\r\n    <ReactEcharts\r\n      notMerge={true}\r\n      option={option}\r\n      style={{ width: \"340px\", height: \"340px\" }}\r\n    />\r\n  );\r\n}\r\n","import { FiUser } from \"react-icons/fi\";\r\nimport { MdOutlineRealEstateAgent } from \"react-icons/md\";\r\nimport { MdOutlineSupportAgent } from \"react-icons/md\";\r\nimport { RiPhoneFindLine } from \"react-icons/ri\";\r\nimport { MdOutlineAddHome } from \"react-icons/md\";\r\nimport { IoLogoAppleAr } from \"react-icons/io5\";\r\nimport { MdOutlineElderly } from \"react-icons/md\";\r\nimport { PiBuildingOffice } from \"react-icons/pi\";\r\nimport { BiDevices } from \"react-icons/bi\";\r\n\r\nexport const CountMapping = [\r\n  {\r\n    role: \"monitoring_station\",\r\n    label: \"Monitoring Station\",\r\n    color: \"#EA5A92\",\r\n    icon: RiPhoneFindLine,\r\n    rolesAllowed: [\"sales_agent\", \"distributor\", \"office\"],\r\n  },\r\n  {\r\n    role: \"supports_agent\",\r\n    label: \"Support Agent\",\r\n    color: \"#17C3A5\",\r\n    icon: MdOutlineSupportAgent,\r\n    rolesAllowed: [\"supports_agent\", \"monitoring_station\"],\r\n  },\r\n  {\r\n    role: \"nursing_home\",\r\n    label: \"Nursing Home\",\r\n    color: \"#5096F6\",\r\n    icon: MdOutlineAddHome,\r\n    rolesAllowed: [\"sales_agent\", \"distributor\", \"office\"],\r\n  },\r\n  {\r\n    role: \"distributor\",\r\n    label: \"Distributor\",\r\n    color: \"#FA8035\",\r\n    icon: IoLogoAppleAr,\r\n    rolesAllowed: [],\r\n  },\r\n  {\r\n    role: \"sales_agent\",\r\n    label: \"Sales Agent\",\r\n    color: \"#D188E1\",\r\n    icon: MdOutlineRealEstateAgent,\r\n    rolesAllowed: [\"sales_agent\", \"distributor\", \"office\"],\r\n  },\r\n  {\r\n    role: \"end_user\",\r\n    label: \"End User\",\r\n    color: \"#7DBBE2\",\r\n    icon: FiUser,\r\n    rolesAllowed: [\"sales_agent\", \"distributor\", \"office\"],\r\n  },\r\n  {\r\n    role: \"installer\",\r\n    label: \"Installer\",\r\n    color: \"#7695FF\",\r\n    icon: FiUser,\r\n    rolesAllowed: [\"monitoring_station\", \"office\", \"sales_agent\"],\r\n  },\r\n  {\r\n    role: \"elderly\",\r\n    label: \"Elderly\",\r\n    color: \"#FF885B\",\r\n    icon: MdOutlineElderly,\r\n    rolesAllowed: [\"monitoring_station\"],\r\n  },\r\n  {\r\n    role: \"office\",\r\n    label: \"Office\",\r\n    color: \"#FF885B\",\r\n    icon: PiBuildingOffice,\r\n    rolesAllowed: [\"\"],\r\n  },\r\n  {\r\n    role: \"device\",\r\n    label: \"Device\",\r\n    color: \"#FF885B\",\r\n    icon: BiDevices,\r\n    rolesAllowed: [],\r\n  },\r\n];\r\n","import { Tag } from \"antd\";\r\nimport ReportActionModal from \"@/Components/ReportActionModal/ReportActionModal\";\r\nimport { useState, useEffect, useContext } from \"react\";\r\nimport { ConfigProvider, Select } from \"antd\";\r\nimport {\r\n  activeSubscriptions,\r\n  updateInstallationStatus,\r\n} from \"@/api/ordersManage\";\r\nimport { SidebarContext } from \"@/Context/CustomUsertable\";\r\nimport { getUserDetails } from \"@/api/Users\";\r\nimport SuccessModal from \"@/Shared/Success/SuccessModal\";\r\nfunction StatusDropdown({ row }) {\r\n  const sharedMethod = useContext(SidebarContext);\r\n  const [status, setStatus] = useState(row?.installation_status);\r\n  const [handleLoading, sethandleLoading] = useState(false);\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n\r\n  // let status = row?.status\r\n  const handleChange = (value) => {\r\n    setStatus(value);\r\n    if (value === \"completed\") {\r\n      setModalOpen(true);\r\n    } else {\r\n      sethandleLoading(true);\r\n      updateInstallationStatus(row?._id, {\r\n        installation_status: value,\r\n      })\r\n        .then((res) => {\r\n          console.log(res);\r\n          sharedMethod.getInstallationList.getCompletedandToBeInstalled();\r\n          sharedMethod.getInstallationList.getDeviceSalesCounts();\r\n          if (res) {\r\n            setStatus(value);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          setStatus(row?.installation_status);\r\n        })\r\n        .finally(() => {\r\n          sethandleLoading(false);\r\n        });\r\n    }\r\n  };\r\n  const completeChnage = async () => {\r\n    sethandleLoading(true);\r\n    const isAIMonitoring = row?.products.filter(\r\n      (item) => item?.type === \"AI Monitoring\"\r\n    );\r\n    if (isAIMonitoring.length > 0) {\r\n      await getUserDetails({\r\n        id: row?.user_id,\r\n      })\r\n        .then((user) => {\r\n          if (user) {\r\n            activeSubscriptions({\r\n              subscription_id: user?.data?.subscription_id,\r\n              extend_day: \"30\",\r\n            })\r\n              .then(() => {})\r\n              .catch((err) => {\r\n                console.log(err);\r\n              });\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n\r\n    await updateInstallationStatus(row?._id, {\r\n      installation_status: \"completed\",\r\n    })\r\n      .then((res) => {\r\n        sharedMethod.getList();\r\n        if (res) {\r\n          setStatus(\"completed\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setStatus(\"completed\");\r\n      })\r\n      .finally(() => {\r\n        sethandleLoading(false);\r\n      });\r\n  };\r\n  // Update local state if row status changes\r\n  useEffect(() => {\r\n    setStatus(row?.installation_status);\r\n  }, [row?.installation_status]);\r\n  return (\r\n    <div className=\"flex items-center space-x-2 mr-0 \">\r\n      <span\r\n        className={`w-3 h-3 rounded-full relative -right-2 ${\r\n          status === \"completed\"\r\n            ? \"bg-[#1EB564]\"\r\n            : status === \"pending\"\r\n            ? \"bg-yellow-500\"\r\n            : \"bg-red-500\"\r\n        }`}\r\n      ></span>\r\n      {/* Status select dropdown */}\r\n      <ConfigProvider\r\n        theme={{\r\n          token: {\r\n            colorText: \"#707EAE\",\r\n            colorPrimary: \"#8086AC\",\r\n            colorLinkActive: \"#8086AC\",\r\n            colorLinkHover: \"#8086AC\",\r\n            colorLink: \"#8086AC\",\r\n          },\r\n        }}\r\n      >\r\n        <Select\r\n          value={status}\r\n          variant=\"borderless\"\r\n          onChange={handleChange}\r\n          loading={handleLoading}\r\n          optionSelectedColor=\"#8086AC\"\r\n          className=\"w-fit !text-red-100\"\r\n          options={[\r\n            { value: \"completed\", label: <span>Complete</span> },\r\n            { value: \"pending\", label: <span>Pending</span> },\r\n            { value: \"not_started\", label: <span>Not Started</span> },\r\n          ]}\r\n        />\r\n        <SuccessModal\r\n          modalOPen={modalOpen}\r\n          setModalOpen={setModalOpen}\r\n          title={\"\"}\r\n          title2={\r\n            \"Are you sure you want to change the status to 'Completed'? Once confirmed, this action cannot be undone, and user subscription will start immediately from now.\"\r\n          }\r\n          okText=\"Confirm\"\r\n          onOk={() => completeChnage()}\r\n        />\r\n      </ConfigProvider>\r\n    </div>\r\n  );\r\n}\r\nconst dealDetailCol = [\r\n  {\r\n    title: \"Office Identifier\",\r\n    render: (row) => (\r\n      <button>\r\n        <span className=\"text-[14px] xl:text-base font-normal text-text-secondary text-nowrap\">\r\n          {row.office_name}\r\n        </span>\r\n      </button>\r\n    ),\r\n  },\r\n  {\r\n    title: \"Agent Name (ID Number)\",\r\n    render: (row) => (\r\n      <button>\r\n        <span className=\"text-[14px] xl:text-base font-normal text-text-secondary text-nowrap\">\r\n          {row.agent_name} ({row.agent_unique_id})\r\n        </span>\r\n      </button>\r\n    ),\r\n  },\r\n  {\r\n    title: \"Date of Sales\",\r\n    render: (row) => {\r\n      const formattedDate = new Date(row.created_at).toLocaleDateString(\r\n        \"en-CA\"\r\n      );\r\n      return (\r\n        <button>\r\n          <span className=\"text-[14px] xl:text-base font-normal text-text-secondary text-nowrap\">\r\n            {formattedDate}\r\n          </span>\r\n        </button>\r\n      );\r\n    },\r\n  },\r\n  // {\r\n  //   title: \"Approval Date\",\r\n  //   render: (row) => (\r\n  //     <button>\r\n  //       <span className=\"text-[14px] xl:text-base font-normal text-text-secondary text-nowrap\">\r\n  //         {row.approvalDate}\r\n  //       </span>\r\n  //     </button>\r\n  //   ),\r\n  // },\r\n  {\r\n    title: \"Product Name\",\r\n    render: (row) => (\r\n      <button>\r\n        <span className=\"text-[14px] xl:text-base font-normal text-text-secondary flex  gap-2\">\r\n          {/* {row.products.map(\r\n            (item, indx) =>\r\n              [\"Seenyor Kit\", \"Installation\"].includes(item.type) &&\r\n              indx < 2 && <span key={indx}>{item.type}</span>\r\n          )} */}\r\n          {row.products\r\n            .filter((item, indx, self) => {\r\n              const isUniqueSeenyorKit =\r\n                item.type === \"Seenyor Kit\" &&\r\n                self.findIndex((i) => i.type === \"Seenyor Kit\") === indx;\r\n              return (\r\n                !/^AI Sensor/.test(item.type) &&\r\n                (item.type !== \"Seenyor Kit\" || isUniqueSeenyorKit)\r\n              );\r\n            })\r\n            .map((item, indx) => {\r\n              const color =\r\n                item.type === \"Seenyor Kit\"\r\n                  ? \"blue\"\r\n                  : item.type === \"Installation\"\r\n                  ? \"orange\"\r\n                  : \"default\";\r\n              return (\r\n                <Tag key={indx} color={color}>\r\n                  {item.type === \"Seenyor Kit\" ? \"Package\" : item.type}\r\n                </Tag>\r\n              );\r\n            })}\r\n        </span>\r\n      </button>\r\n    ),\r\n  },\r\n  {\r\n    title: \"Product Price\",\r\n    render: (row) => (\r\n      <button>\r\n        <span className=\"text-[14px] xl:text-base font-normal text-text-secondary\">\r\n          $\r\n          {row.products\r\n            .filter((item) =>\r\n              [\"Seenyor Kit\", \"Installation\", \"AI Monitoring\"].includes(\r\n                item.type\r\n              )\r\n            )\r\n            .reduce((total, item) => total + item.price, 0)\r\n            .toFixed(2)}\r\n        </span>\r\n      </button>\r\n    ),\r\n  },\r\n  {\r\n    title: \"Addon Name\",\r\n    render: (row) => (\r\n      <button>\r\n        <span className=\"text-[14px] xl:text-base font-normal text-text-secondary flex gap-2\">\r\n          {/* {row.products.map(\r\n            (item, indx) =>\r\n              ![\"Seenyor Kit\", \"Installation\", \"AI Monitoring\"].includes(\r\n                item.type\r\n              ) && <span key={indx}>{item.type}</span>\r\n          )} */}\r\n          {row.products\r\n            .filter(\r\n              (item) =>\r\n                ![\"Seenyor Kit\", \"Installation\", \"AI Monitoring\"].includes(\r\n                  item.type\r\n                )\r\n            )\r\n            .map((item, indx) => <Tag key={indx}>{item.type}</Tag>).length ===\r\n          0 ? (\r\n            <span>--</span>\r\n          ) : (\r\n            row.products\r\n              .filter(\r\n                (item) =>\r\n                  ![\"Seenyor Kit\", \"Installation\", \"AI Monitoring\"].includes(\r\n                    item.type\r\n                  )\r\n              )\r\n              .map((item, indx) => <Tag key={indx}>{item.type}</Tag>)\r\n          )}\r\n        </span>\r\n      </button>\r\n    ),\r\n  },\r\n  {\r\n    title: \"Addon Price\",\r\n    render: (row) => (\r\n      <button>\r\n        <span className=\"text-[14px] xl:text-base font-normal text-text-secondary text-nowrap\">\r\n          {row.products\r\n            .map((item, indx) =>\r\n              ![\"Seenyor Kit\", \"Installation\", \"AI Monitoring\"].includes(\r\n                item.type\r\n              ) ? (\r\n                <span key={indx}>${item.price.toFixed(2)}</span>\r\n              ) : null\r\n            )\r\n            .filter(Boolean).length === 0 ? (\r\n            <span>--</span>\r\n          ) : (\r\n            row.products.map((item, indx) =>\r\n              ![\"Seenyor Kit\", \"Installation\", \"AI Monitoring\"].includes(\r\n                item.type\r\n              ) ? (\r\n                <span key={indx}>${item.price.toFixed(2)}</span>\r\n              ) : null\r\n            )\r\n          )}\r\n        </span>\r\n      </button>\r\n    ),\r\n  },\r\n  {\r\n    title: \"Total Price\",\r\n    render: (row) => (\r\n      <button>\r\n        <span className=\"text-[14px] xl:text-base font-normal text-text-secondary text-nowrap\">\r\n          ${row.total.toFixed(2)}\r\n        </span>\r\n      </button>\r\n    ),\r\n  },\r\n  {\r\n    title: \"Location\",\r\n    render: (row) => (\r\n      <button>\r\n        <span className=\"text-[14px] xl:text-base font-normal text-text-secondary text-nowrap\">\r\n          {row.address?.line1},{\" \"}\r\n          {row.address?.line2 ? row.address?.line2 + \", \" : \"\"},{\" \"}\r\n          {row.address?.city}, {row.address?.state},{\" \"}\r\n          {row.address ? row.address.postal_code : \" \"}, {row.address?.country}\r\n        </span>\r\n      </button>\r\n    ),\r\n  },\r\n  {\r\n    title: \"Status\",\r\n    dataIndex: \"payment_status\",\r\n    key: \"payment_status\",\r\n    filters: [\r\n      { text: \"Pending\", value: \"pending\" },\r\n      { text: \"Cancelled\", value: \"cancelled\" },\r\n      { text: \"Completed\", value: \"completed\" },\r\n    ],\r\n    filterMultiple: true,\r\n    onFilter: (value, record) => record.payment_status.includes(value),\r\n    render: (status, record) => {\r\n      let color = \"\";\r\n\r\n      switch (status) {\r\n        case \"pending\":\r\n          color = \"orange\";\r\n          break;\r\n        case \"cancelled\":\r\n          color = \"red\";\r\n          break;\r\n        case \"completed\":\r\n          color = \"green\";\r\n          break;\r\n        default:\r\n          color = \"black\";\r\n      }\r\n\r\n      return (\r\n        <span\r\n          style={{\r\n            backgroundColor: color,\r\n            color: \"white\",\r\n            padding: \"4px 8px\",\r\n            borderRadius: \"4px\",\r\n            fontWeight: 500,\r\n            textTransform: \"capitalize\",\r\n          }}\r\n        >\r\n          {status}\r\n        </span>\r\n      );\r\n    },\r\n  },\r\n];\r\n\r\nconst installation = [\r\n  {\r\n    title: \"Installation Status\",\r\n    render: (row) => <StatusDropdown row={row} />,\r\n  },\r\n  {\r\n    title: \"Report\",\r\n    render: (row) => (\r\n      <div className=\"flex justify-center\">\r\n        <ReportActionModal report={row} />\r\n      </div>\r\n    ),\r\n  },\r\n  {\r\n    title: \"Customer Name\",\r\n    render: (row) => {\r\n      return (\r\n        <button>\r\n          <span className=\"text-[14px] xl:text-base font-normal text-text-secondary text-nowrap\">\r\n            {row?.user_name}\r\n          </span>\r\n        </button>\r\n      );\r\n    },\r\n  },\r\n  {\r\n    title: \"Customer Phone Number\",\r\n    render: (row) => {\r\n      return (\r\n        <button>\r\n          <span className=\"text-[14px] xl:text-base font-normal text-text-secondary text-nowrap\">\r\n            {row?.user_phone}\r\n          </span>\r\n        </button>\r\n      );\r\n    },\r\n  },\r\n  {\r\n    title: \"Customer Email\",\r\n    render: (row) => {\r\n      return (\r\n        <button>\r\n          <span className=\"text-[14px] xl:text-base font-normal text-text-secondary text-nowrap\">\r\n            {row?.user_email}\r\n          </span>\r\n        </button>\r\n      );\r\n    },\r\n  },\r\n  {\r\n    title: \"Location\",\r\n    render: (row) => (\r\n      <button>\r\n        <span className=\"text-[14px] xl:text-base font-normal text-text-secondary text-nowrap\">\r\n          {row.address?.line1},{\" \"}\r\n          {row.address?.line2 ? row.address?.line2 + \", \" : \"\"},{\" \"}\r\n          {row.address?.city}, {row.address?.state},{\" \"}\r\n          {row.address ? row.address.postal_code : \" \"}, {row.address?.country}\r\n        </span>\r\n      </button>\r\n    ),\r\n  },\r\n  {\r\n    title: \"Product Name\",\r\n    render: (row) => (\r\n      <button>\r\n        <span className=\"text-[14px] xl:text-base font-normal text-text-secondary flex  gap-2\">\r\n          {/* {row.products.map(\r\n            (item, indx) =>\r\n              [\"Seenyor Kit\", \"Installation\"].includes(item.type) &&\r\n              indx < 2 && <span key={indx}>{item.type}</span>\r\n          )} */}\r\n          {row.products\r\n            .filter((item, indx, self) => {\r\n              const isUniqueSeenyorKit =\r\n                item.type === \"Seenyor Kit\" &&\r\n                self.findIndex((i) => i.type === \"Seenyor Kit\") === indx;\r\n              return (\r\n                !/^AI Sensor/.test(item.type) &&\r\n                (item.type !== \"Seenyor Kit\" || isUniqueSeenyorKit)\r\n              );\r\n            })\r\n            .map((item, indx) => {\r\n              const color =\r\n                item.type === \"Seenyor Kit\"\r\n                  ? \"blue\"\r\n                  : item.type === \"Installation\"\r\n                  ? \"orange\"\r\n                  : \"default\";\r\n              return (\r\n                <Tag key={indx} color={color}>\r\n                  {item.type === \"Seenyor Kit\" ? \"Package\" : item.type}\r\n                </Tag>\r\n              );\r\n            })}\r\n        </span>\r\n      </button>\r\n    ),\r\n  },\r\n  {\r\n    title: \"Product Price\",\r\n    render: (row) => (\r\n      <button>\r\n        <span className=\"text-[14px] xl:text-base font-normal text-text-secondary\">\r\n          $\r\n          {row.products\r\n            .filter((item) =>\r\n              [\"Seenyor Kit\", \"Installation\", \"AI Monitoring\"].includes(\r\n                item.type\r\n              )\r\n            )\r\n            .reduce((total, item) => total + item.price, 0)\r\n            .toFixed(2)}\r\n        </span>\r\n      </button>\r\n    ),\r\n  },\r\n  {\r\n    title: \"Addon Name\",\r\n    render: (row) => (\r\n      <button>\r\n        <span className=\"text-[14px] xl:text-base font-normal text-text-secondary flex gap-2\">\r\n          {/* {row.products.map(\r\n            (item, indx) =>\r\n              ![\"Seenyor Kit\", \"Installation\", \"AI Monitoring\"].includes(\r\n                item.type\r\n              ) && <span key={indx}>{item.type}</span>\r\n          )} */}\r\n          {row.products\r\n            .filter(\r\n              (item) =>\r\n                ![\"Seenyor Kit\", \"Installation\", \"AI Monitoring\"].includes(\r\n                  item.type\r\n                )\r\n            )\r\n            .map((item, indx) => <Tag key={indx}>{item.type}</Tag>).length ===\r\n          0 ? (\r\n            <span>--</span>\r\n          ) : (\r\n            row.products\r\n              .filter(\r\n                (item) =>\r\n                  ![\"Seenyor Kit\", \"Installation\", \"AI Monitoring\"].includes(\r\n                    item.type\r\n                  )\r\n              )\r\n              .map((item, indx) => <Tag key={indx}>{item.type}</Tag>)\r\n          )}\r\n        </span>\r\n      </button>\r\n    ),\r\n  },\r\n  {\r\n    title: \"Addon Price\",\r\n    render: (row) => (\r\n      <button>\r\n        <span className=\"text-[14px] xl:text-base font-normal text-text-secondary text-nowrap\">\r\n          {row.products\r\n            .map((item, indx) =>\r\n              ![\"Seenyor Kit\", \"Installation\", \"AI Monitoring\"].includes(\r\n                item.type\r\n              ) ? (\r\n                <span key={indx}>${item.price.toFixed(2)}</span>\r\n              ) : null\r\n            )\r\n            .filter(Boolean).length === 0 ? (\r\n            <span>--</span>\r\n          ) : (\r\n            row.products.map((item, indx) =>\r\n              ![\"Seenyor Kit\", \"Installation\", \"AI Monitoring\"].includes(\r\n                item.type\r\n              ) ? (\r\n                <span key={indx}>${item.price.toFixed(2)}</span>\r\n              ) : null\r\n            )\r\n          )}\r\n        </span>\r\n      </button>\r\n    ),\r\n  },\r\n  {\r\n    title: \"Total Price\",\r\n    render: (row) => (\r\n      <button>\r\n        <span className=\"text-[14px] xl:text-base font-normal text-text-secondary text-nowrap\">\r\n          ${row.total}\r\n        </span>\r\n      </button>\r\n    ),\r\n  },\r\n  {\r\n    title: \"Date of Sales\",\r\n    render: (row) => {\r\n      const formattedDate = new Date(row.created_at).toLocaleDateString(\r\n        \"en-CA\"\r\n      );\r\n      return (\r\n        <button>\r\n          <span className=\"text-[14px] xl:text-base font-normal text-text-secondary text-nowrap\">\r\n            {formattedDate}\r\n          </span>\r\n        </button>\r\n      );\r\n    },\r\n  },\r\n\r\n  {\r\n    title: \"Payment Status\",\r\n    dataIndex: \"payment_status\",\r\n    key: \"payment_status\",\r\n    filters: [\r\n      { text: \"Completed\", value: \"completed\" },\r\n      { text: \"Pending\", value: \"pending\" },\r\n      { text: \"Cancelled\", value: \"cancelled\" },\r\n    ],\r\n    filterMultiple: true,\r\n    onFilter: (value, record) => record.payment_status.includes(value),\r\n    render: (status) => {\r\n      let color = \"\";\r\n\r\n      switch (status) {\r\n        case \"completed\":\r\n          color = \"green\";\r\n          break;\r\n        case \"pending\":\r\n          color = \"orange\";\r\n          break;\r\n        case \"cancelled\":\r\n          color = \"red\";\r\n          break;\r\n        default:\r\n          color = \"black\";\r\n      }\r\n\r\n      return (\r\n        <span\r\n          style={{\r\n            backgroundColor: color,\r\n            color: \"white\",\r\n            padding: \"4px 8px\",\r\n            borderRadius: \"4px\",\r\n            fontWeight: 500,\r\n            textTransform: \"capitalize\",\r\n          }}\r\n        >\r\n          {status}\r\n        </span>\r\n      );\r\n    },\r\n  },\r\n];\r\n\r\n// Export both arrays\r\nexport { dealDetailCol, installation };\r\n","import React, { useState, useEffect, useCallback, useRef } from \"react\";\r\nimport PieChart from \"../components/pieChart\";\r\nimport MapLocat from \"../components/map\";\r\nimport { ConfigProvider, Table } from \"antd\";\r\nimport { installation } from \"../utiles\";\r\nimport { getInstallationList } from \"../../../api/ordersManage\";\r\nimport { getDeviceSalesCount } from \"@/api/Dashboard\";\r\nimport CustomTable from \"@/Shared/Table/CustomTable\";\r\nimport { SidebarContext } from \"@/Context/CustomUsertable\";\r\nimport { useRefContext } from \"@/Context/RefContext\";\r\n\r\nexport default function InstallerDashboard() {\r\n  const [loading, setLoading] = useState(false);\r\n  const [page, SetPage] = useState(1);\r\n  const [total, setTotal] = useState(0);\r\n  const [installationList, setInstallationList] = useState([]);\r\n  const [completedInstallationList, setCompletedInstallationList] = useState(\r\n    []\r\n  );\r\n  const [deviceSalesCount, setDeviceSalesCount] = useState([]);\r\n  function getList(query) {\r\n    // setLoading(true);\r\n    setLoading(true);\r\n    getInstallationList(query)\r\n      .then((res) => {\r\n        setInstallationList(res.data);\r\n        setTotal(res.total);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n      .finally(() => {\r\n        setLoading(false);\r\n      });\r\n  }\r\n\r\n  const getDeviceSalesCounts = useCallback(() => {\r\n    getDeviceSalesCount()\r\n      .then((res) => {\r\n        setDeviceSalesCount(res.data);\r\n        console.log(res.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, [page]);\r\n  const getCompletedandToBeInstalled = useCallback(() => {\r\n    getList({ installation_status: \"completed\", ne: true, page: page });\r\n  }, [page]);\r\n  useEffect(() => {\r\n    getCompletedandToBeInstalled();\r\n  }, [getCompletedandToBeInstalled]);\r\n  useEffect(() => {\r\n    getDeviceSalesCounts();\r\n  }, [getDeviceSalesCounts]);\r\n  const { registerRef } = useRefContext();\r\n\r\n  const stepsRef = {\r\n    step1: useRef(null),\r\n  };\r\n\r\n  useEffect(() => {\r\n    Object.keys(stepsRef).forEach((key) => {\r\n      if (stepsRef[key].current) {\r\n        registerRef(\"tour_step_\" + key, stepsRef[key]);\r\n      }\r\n    });\r\n  }, [registerRef]);\r\n  return (\r\n    <div className=\"flex flex-col gap-6 pt-6\">\r\n      <div className=\"w-full flex  gap-6 lg:flex-row flex-col\">\r\n        {/* <div className=\" p-[25px] rounded-2xl  bg-white lg:w-[65%] w-full  h-[500px]\">\r\n          <MapLocat />\r\n        </div> */}\r\n        <div\r\n          id=\"NewInstallation\"\r\n          className=\"p-[25px] rounded-2xl  bg-white lg:w-[65%] w-full  h-full\"\r\n        >\r\n          <div\r\n            id=\"ChartHeader\"\r\n            className=\"w-full flex justify-between mb-8\"\r\n            ref={stepsRef.step1}\r\n          >\r\n            <h1 className=\"text-[24px] font-bold\">To Be Installed</h1>\r\n            <div id=\"chartController\" className=\"flex gap-4\"></div>\r\n          </div>\r\n          <ConfigProvider\r\n            theme={{\r\n              token: {\r\n                fontFamily: \"Baloo2\",\r\n                colorPrimary: \"#8086AC\",\r\n                colorLinkActive: \"#8086AC\",\r\n                colorLinkHover: \"#8086AC\",\r\n                colorLink: \"#8086AC\",\r\n              },\r\n            }}\r\n          >\r\n            <SidebarContext.Provider\r\n              value={{\r\n                getInstallationList: {\r\n                  getCompletedandToBeInstalled,\r\n                  getDeviceSalesCounts,\r\n                },\r\n                total: total,\r\n                page,\r\n                SetPage,\r\n              }}\r\n            >\r\n              <CustomTable\r\n                loading={loading}\r\n                scroll={{ x: 750 }}\r\n                columns={installation}\r\n                tableData={installationList}\r\n              />\r\n            </SidebarContext.Provider>\r\n          </ConfigProvider>\r\n        </div>\r\n        <div className=\" p-[25px] rounded-2xl  bg-white lg:w-[35%] w-full\">\r\n          <div>\r\n            <div id=\"ChartHeader\" className=\"w-full flex justify-between\">\r\n              <h1 className=\"text-[24px] font-bold\">Device Installed</h1>\r\n            </div>\r\n            <div className=\"h-[260px] my-0 mx-auto flex items-center justify-center\">\r\n              <PieChart data={deviceSalesCount} chartFor=\"device\" />\r\n            </div>\r\n          </div>\r\n\r\n          <div id=\"ChartInfo\" className=\"w-full flex flex-col gap-2\">\r\n            {[\"completed\", \"pending\", \"not_started\"].map((status, index) => {\r\n              const item = deviceSalesCount.find(\r\n                (item) => item._id === status\r\n              ) || { _id: status, count: 0 };\r\n              return (\r\n                <div\r\n                  key={index}\r\n                  id=\"InfoItem\"\r\n                  className=\"w-full flex justify-between\"\r\n                >\r\n                  <div className=\"flex gap-2 items-center\">\r\n                    <div\r\n                      className={`w-[12px] h-[12px] ${\r\n                        item._id === \"completed\"\r\n                          ? \"bg-[#08A1F7]\"\r\n                          : item._id === \"pending\"\r\n                          ? \"bg-[#922BF2]\"\r\n                          : \"bg-[#FF3B11]\"\r\n                      } rounded-full`}\r\n                    ></div>\r\n                    <span className=\"text-lg font-medium capitalize\">\r\n                      {item._id === \"completed\"\r\n                        ? \"Completed\"\r\n                        : item._id === \"pending\"\r\n                        ? \"Pending\"\r\n                        : \"Not Started\"}\r\n                    </span>\r\n                  </div>\r\n                  <span className=\"text-lg font-semibold\">{item.count}</span>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* <div\r\n        id=\"TotalInstallation\"\r\n        className=\" p-[25px] rounded-2xl  bg-white w-full h-full \"\r\n      >\r\n        <div id=\"ChartHeader\" className=\"w-full flex justify-between mb-8\">\r\n          <h1 className=\"text-[24px] font-bold\">Total Installation</h1>\r\n          <div id=\"chartController\" className=\"flex gap-4\"></div>\r\n        </div>\r\n        <ConfigProvider\r\n          theme={{\r\n            token: {\r\n              fontFamily: \"Baloo2\",\r\n              colorPrimary: \"#8086AC\",\r\n              colorLinkActive: \"#8086AC\",\r\n              colorLinkHover: \"#8086AC\",\r\n              colorLink: \"#8086AC\",\r\n            },\r\n          }}\r\n        >\r\n          <SidebarContext.Provider\r\n            value={{\r\n              getInstallationList: {\r\n                getCompletedandToBeInstalled,\r\n                getDeviceSalesCounts,\r\n              },\r\n              total: total,\r\n              page,\r\n              SetPage,\r\n            }}\r\n          >\r\n            <CustomTable\r\n              loading={loading}\r\n              scroll={{ x: 750 }}\r\n              columns={installation}\r\n              tableData={completedInstallationList}\r\n            />\r\n          </SidebarContext.Provider>\r\n        </ConfigProvider>\r\n      </div> */}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useCallback, useEffect, useRef, useState } from \"react\";\r\nimport { ConfigProvider, Select, Table, Button } from \"antd\";\r\nimport { HomeOutlined, AimOutlined } from \"@ant-design/icons\";\r\nimport MapView from \"./Components/Mapview/index\";\r\nimport { DatePicker, Input } from \"antd\";\r\nconst { RangePicker } = DatePicker;\r\nimport { SidebarContext } from \"@/Context/CustomUsertable\";\r\nimport CustomTable from \"@/Shared/Table/CustomTable\";\r\nimport { useAlertTableColumns } from \"../Utiles/utiles\";\r\nimport { getAlertList, getEventList } from \"@/api/elderlySupport\";\r\nimport dayjs, { Dayjs } from \"dayjs\";\r\n// import { getEventFilter } from \"@/utils/helper\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport ActiveAlertsCards from \"@/Components/ActiveAlerts/ActiveAlertsCards\";\r\nimport { getElderlies } from \"@/api/elderly\";\r\nimport { getAlarmCount, getElderlyAndDeviceCount } from \"@/api/Dashboard\";\r\nimport { RiHome5Line } from \"react-icons/ri\";\r\nimport { IoMdWarning } from \"react-icons/io\";\r\nimport { MdWarningAmber } from \"react-icons/md\";\r\nimport { FaCheck } from \"react-icons/fa6\";\r\nimport AlertCloseModal from \"@/Components/ActiveAlerts/AlertCloseModal\";\r\nimport { useNotification } from \"@/Context/useNotification\";\r\n\r\nexport default function MonitoringAgencyDashboard() {\r\n  const [viewType, setViewType] = useState(\"Map View\");\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  const [expandedRowKeys, setExpandedRowKeys] = useState([]);\r\n  const activeAlertTableColumns = useAlertTableColumns(\"activeAlert\");\r\n  const recentlyClosedAlertTableColumns = useAlertTableColumns(\"recentAlarms\");\r\n  const [alertHistory, setAlertHistory] = useState([]);\r\n  const [alertHistoryLoading, setAlertHistoryLoading] = useState(true);\r\n  const [limit, setLimit] = useState(50);\r\n  const [eventList, setEventList] = useState([]);\r\n  const [eventPage, setEventPage] = useState([]);\r\n  const [eventTotal, setEventTotal] = useState(0);\r\n  const eventsTableColumns = useAlertTableColumns(\"events\");\r\n  const [selectedAlarmType, setSelectedAlarmType] = useState(\"fl_dv\"); // Default to \"All Alarms\"\r\n  const [alertHistiryQuery, setAlertHistiryQuery] = useState(\r\n    getEventFilter(\"fl_dv\")\r\n  );\r\n  const [devieCount, setDevieCount] = useState({});\r\n  const [alarmsCount, setAlarmsCount] = useState({});\r\n  const [searchResult, setSearchResult] = useState();\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [isFocused, setIsFocused] = useState(false);\r\n  const [selectedRowKeys, setSelectedRowKeys] = useState([]);\r\n  const [openAlertCloseModal, setOpenAlertCloseModal] = useState(false);\r\n  const navigate = useNavigate();\r\n  const { notificationEvent } = useNotification();\r\n  const mapViewRef = useRef(null);\r\n  const alarmOptions = [\r\n    { value: \"fl_dv\", label: \"All Alarms\" },\r\n    { value: \"fall_detected\", label: \"Fall Detected\" },\r\n    { value: \"device_disconnected\", label: \"Device Disconnected\" },\r\n  ];\r\n\r\n  function handleDatePicker(dateString) {\r\n    console.log(dateString);\r\n  }\r\n\r\n  const onExpand = (expanded, record) => {\r\n    if (expanded) {\r\n      setExpandedRowKeys([record._id]);\r\n    } else {\r\n      setExpandedRowKeys([]);\r\n    }\r\n  };\r\n\r\n  const getAlartsHistory = useCallback(() => {\r\n    setAlertHistoryLoading(true);\r\n    getAlertList({\r\n      to_date: \"2024-01-01\",\r\n      from_date: dayjs().format(\"YYYY-MM-DD\"),\r\n      is_resolved: false,\r\n      limit: limit,\r\n      ...alertHistiryQuery,\r\n    })\r\n      .then((res) => {\r\n        setAlertHistoryLoading(false);\r\n        setAlertHistory(res.data);\r\n      })\r\n      .catch((err) => {\r\n        setAlertHistoryLoading(false);\r\n        console.log(err);\r\n      });\r\n  }, [limit, alertHistiryQuery]);\r\n\r\n  useEffect(() => {\r\n    getAlartsHistory();\r\n  }, [getAlartsHistory]);\r\n\r\n  const getElderlyBySearch = useCallback(() => {\r\n    if (searchQuery.trim() === \"\") {\r\n      setSearchResult([]);\r\n      return;\r\n    }\r\n    getElderlies({ search: searchQuery })\r\n      .then((res) => {\r\n        setSearchResult(res?.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, [searchQuery]);\r\n\r\n  useEffect(() => {\r\n    getElderlyBySearch();\r\n  }, [getElderlyBySearch]);\r\n\r\n  const highlightText = (text, query) => {\r\n    if (!query) return text;\r\n    const regex = new RegExp(`(${query})`, \"gi\");\r\n    return text.replace(\r\n      regex,\r\n      `<mark style=\"background-color: #80CAA7; color: white;\">$1</mark>`\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    getElderlyAndDeviceCount()\r\n      .then((res) => setDevieCount(res?.data))\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n  const getAlarmsCounts = useCallback(() => {\r\n    const endDate = dayjs();\r\n    const startDate = dayjs().subtract(7, \"days\");\r\n    getAlarmCount({\r\n      end_date: startDate.format(\"YYYY-MM-DD\"),\r\n      from_date: endDate.format(\"YYYY-MM-DD\"),\r\n    })\r\n      .then((res) => setAlarmsCount(res?.data))\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    getAlarmsCounts();\r\n  }, [getAlarmsCounts]);\r\n\r\n  const rowSelection = {\r\n    selectedRowKeys,\r\n    onChange: (selectedKeys) => setSelectedRowKeys(selectedKeys),\r\n  };\r\n\r\n  const handleResolveSelected = () => {\r\n    setOpenAlertCloseModal(true);\r\n  };\r\n  useEffect(() => {\r\n    if (notificationEvent) {\r\n      getAlartsHistory();\r\n    }\r\n  }, [notificationEvent]);\r\n  function refreshSomeAPIs() {\r\n    if (mapViewRef.current && mapViewRef.current.getAlertListData) {\r\n      mapViewRef.current.getAlertListData();\r\n    }\r\n  }\r\n  return (\r\n    <>\r\n      <div className=\"flex gap-4 flex-col pb-8\">\r\n        <div className=\"flex item-center justify-between w-full\"></div>\r\n        <div className=\"flex items-start gap-4 w-full\">\r\n          <div\r\n            id=\"Recently_Closed_Alerts\"\r\n            className=\"w-[50%] flex flex-col gap-4 justify-center items-center bg-white rounded-2xl p-6\"\r\n          >\r\n            <div\r\n              id=\"Recently_Closed_Alerts_Header\"\r\n              className=\"w-full flex justify-between items-center\"\r\n            >\r\n              <h1 className=\"text-[24px] font-bold\">Recent Notifications</h1>\r\n              <div className=\"flex items-center gap-4\">\r\n                {selectedRowKeys.length == 0 && (\r\n                  <div className=\"flex items-center gap-4\">\r\n                    <Select\r\n                      value={selectedAlarmType}\r\n                      onChange={(value) => {\r\n                        setSelectedAlarmType(value);\r\n                        setAlertHistiryQuery(getEventFilter(value));\r\n                      }}\r\n                      options={alarmOptions}\r\n                      style={{ width: 200 }}\r\n                    />\r\n                    <Select\r\n                      value={limit}\r\n                      onChange={(value) => setLimit(value)}\r\n                      options={[\r\n                        { value: 10, label: \"10\" },\r\n                        { value: 50, label: \"50\" },\r\n                        { value: 100, label: \"100\" },\r\n                        { value: 1000, label: \"1000\" },\r\n                      ]}\r\n                      style={{ width: 80 }}\r\n                    />\r\n                  </div>\r\n                )}\r\n                {selectedRowKeys.length !== 0 && (\r\n                  <Button\r\n                    variant=\"solid\"\r\n                    style={{ backgroundColor: \"black\" }}\r\n                    icon={<FaCheck />}\r\n                    onClick={() => handleResolveSelected()}\r\n                  >\r\n                    Resolve\r\n                  </Button>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div id=\"Recently_Closed_Alerts_Table\" className=\"w-full\">\r\n              <SidebarContext.Provider\r\n                value={{\r\n                  getLatestAlarmList: {\r\n                    getAlartsHistory,\r\n                    getAlarmsCounts,\r\n                    refreshSomeAPIs,\r\n                  },\r\n                }}\r\n              >\r\n                <Table\r\n                  rowSelection={rowSelection}\r\n                  columns={recentlyClosedAlertTableColumns}\r\n                  dataSource={alertHistory}\r\n                  rowKey=\"_id\"\r\n                  loading={alertHistoryLoading}\r\n                  pagination={false}\r\n                  locale={{ emptyText: \"No recent alerts\" }}\r\n                  className=\"rounded-lg\"\r\n                  scroll={{ x: scroll?.x || scroll || 700, y: scroll?.y }}\r\n                />\r\n              </SidebarContext.Provider>\r\n            </div>\r\n          </div>\r\n          <div className=\"w-[50%] flex flex-col gap-4\">\r\n            <div className=\"flex gap-4 w-full\">\r\n              <div className=\"bg-white w-full p-4 rounded-xl flex flex-col\">\r\n                <div>\r\n                  <div className=\"font-medium opacity-90 flex items-center gap-1\">\r\n                    <RiHome5Line /> <span>Total User</span>\r\n                  </div>\r\n                  <h2 className=\"text-4xl font-medium\">\r\n                    {devieCount?.house_count}\r\n                  </h2>\r\n                </div>\r\n                <div className=\"flex w-full items-end justify-end gap-6\">\r\n                  <div className=\"flex flex-col justify-center items-center\">\r\n                    <h2 className=\"font-semibold text-2xl\">\r\n                      {devieCount?.active_device_count}\r\n                    </h2>\r\n                    <p className=\"capitalize font-medium opacity-90 text-[14px] flex items-center gap-1\">\r\n                      <div className=\"size-2 bg-lime-600 rounded-sm\"></div>\r\n                      <span>Online Devices</span>\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"flex flex-col justify-center items-center\">\r\n                    <h2 className=\"font-semibold text-2xl\">\r\n                      {devieCount?.inactive_device_count}\r\n                    </h2>\r\n                    <p className=\"capitalize font-medium opacity-90 text-[14px] flex items-center gap-1\">\r\n                      <div className=\"size-2 bg-red-600 rounded-sm\"></div>\r\n                      <span>Offline Devices</span>\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"bg-white w-full p-4 rounded-xl flex flex-col\">\r\n                <div>\r\n                  <div className=\"font-medium opacity-90 flex items-center gap-1\">\r\n                    <MdWarningAmber />\r\n                    <span>Past Week Alarms</span>\r\n                  </div>\r\n                  <h2 className=\"text-4xl font-medium\">\r\n                    {alarmsCount?.alarm_count}\r\n                  </h2>\r\n                </div>\r\n                <div className=\"flex w-full items-end justify-end gap-6\">\r\n                  <div className=\"flex flex-col justify-center items-center\">\r\n                    <h2 className=\"font-semibold text-2xl\">\r\n                      {alarmsCount?.closed_alarm}\r\n                    </h2>\r\n                    <p className=\"capitalize font-medium opacity-90 text-[14px] flex items-center gap-1\">\r\n                      <div className=\"size-2 bg-lime-600 rounded-sm\"></div>\r\n                      <span>Closed Alarms</span>\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"flex flex-col justify-center items-center\">\r\n                    <h2 className=\"font-semibold text-2xl\">\r\n                      {alarmsCount?.false_alarm}\r\n                    </h2>\r\n                    <p className=\"capitalize font-medium opacity-90 text-[14px] flex items-center gap-1\">\r\n                      <div className=\"size-2 bg-red-600 rounded-sm\"></div>\r\n                      <span>False Alarms</span>\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"w-full p-0\">\r\n              <div className=\"bg-transparent rounded-2xl h-[750px] z-1\">\r\n                {viewType === \"Map View\" && (\r\n                  <MapView height={650} ref={mapViewRef} />\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <AlertCloseModal\r\n        openAlertCloseModal={openAlertCloseModal}\r\n        setOpenAlertCloseModal={setOpenAlertCloseModal}\r\n        selectedAlert={selectedRowKeys}\r\n        getAlertListDatas={() => {\r\n          refreshSomeAPIs();\r\n          getAlartsHistory();\r\n          getAlarmsCounts();\r\n        }}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport const alertViewSegmentOptions = [\r\n  { label: `Map View`, value: \"Map View\", icon: <AimOutlined /> },\r\n  { label: \"Room View\", value: \"Room View\", icon: <HomeOutlined /> },\r\n];\r\n\r\n// Filter logic helper (assumed to be in @/utils/helper)\r\nexport const getEventFilter = (eventKey) => {\r\n  const filters = {\r\n    fall_detected: { event: \"2\" },\r\n    device_disconnected: { event: \"5\", is_online: \"1\" },\r\n    fl_dv: { event: \"2,5\", is_online: \"1\" }, // Show both Fall Detected and Device Disconnected\r\n  };\r\n  return filters[eventKey] || {};\r\n};\r\n","import React, {\r\n  useEffect,\r\n  useRef,\r\n  useState,\r\n  useContext,\r\n  useCallback,\r\n} from \"react\";\r\nimport { DatePicker, Select, ConfigProvider, Tour } from \"antd\";\r\nimport ls from \"store2\";\r\nimport \"./style.css\";\r\nimport SalesOverviewChart from \"./components/salesOverviewChart\";\r\nimport TotalSalesChart from \"./components/totalSalesChart\";\r\nimport BarChart from \"./components/barChart\";\r\nimport BarChartByGender from \"./components/barChartByGender\";\r\nimport PieChart from \"./components/pieChart\";\r\nimport {\r\n  getUsersCount,\r\n  getSalesData,\r\n  getSalesOverview,\r\n  getDealDetails,\r\n  getChartByAge,\r\n} from \"@/api/Dashboard\";\r\nimport { getAllCity } from \"@/api/ordersManage\";\r\nimport { getUser } from \"@/api/Users\";\r\nconst { RangePicker } = DatePicker;\r\nimport * as XLSX from \"xlsx\";\r\nimport { saveAs } from \"file-saver\";\r\nimport { CountMapping } from \"./count-utiles\";\r\nimport MonitoringStation from \"./Dashboards/MonitoringStation\";\r\nimport InstallerDashboard from \"./Dashboards/Installer\";\r\nimport WeeklyMonthlyPicker from \"@/Components/WeeklyMonthlyPicker/WeeklyMonthlyPicker\";\r\nimport {\r\n  getChartByGender,\r\n  getDiseasesCountByGender,\r\n  getAlertsCountByElderly,\r\n  getAlertsCountByName,\r\n} from \"@/api/Dashboard\";\r\nimport { getAlertInfoViaEvent } from \"@/utils/helper\";\r\nimport BubbleChart from \"./components/bubbleChart\";\r\nimport { RefProvider } from \"@/Context/RefContext\";\r\nimport { useRefContext } from \"@/Context/RefContext\";\r\nimport { updateUserDetails } from \"@/api/Users\";\r\nimport { requestPermission } from \"@/firebase\";\r\nimport MonitoringAgencyDashboard from \"./Dashboards/MonitoringAgency\";\r\nimport { getAlertInfoViaEventDetails } from \"../../utils/helper\";\r\nconst onOk = (value) => {\r\n  console.log(\"onOk: \", value);\r\n};\r\nconst onChange = (value) => {\r\n  console.log(`selected ${value}`);\r\n};\r\nconst onSearch = (value) => {\r\n  console.log(\"search:\", value);\r\n};\r\nconst AdminDashboardComponent = () => {\r\n  // const { role } = useContext(SidebarContext);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [activeTab, setActiveTab] = useState(\"Overview\");\r\n  const [search, setSearch] = useState(\"\");\r\n  const [selected, setSelected] = useState(\"\");\r\n  const [modalOPen, setModalOpen] = useState(false);\r\n  const [list, setList] = useState([]);\r\n  const [query, setQuery] = useState({\r\n    current: \"1\",\r\n    size: \"10\",\r\n  });\r\n  const { registerRef } = useRefContext();\r\n\r\n  const [page, setPage] = useState({ page: 1, limit: 10 });\r\n  const [dealLoading, setDealLoading] = useState(false);\r\n  const [user, SetUser] = useState(ls.get(\"user\"));\r\n  const [role, setRole] = useState(ls.get(\"role\"));\r\n  const [mainRole, setMainRole] = useState(ls.get(\"mainRole\"));\r\n  //Date Controll\r\n  const [fromDate, setFromDate] = useState(null);\r\n  const [toDate, setToDate] = useState(null);\r\n\r\n  //Sales Overview\r\n  const [SOOrderStatus, setSOOrderStatus] = useState(null);\r\n  const [SOAgentId, setSOAgentId] = useState(\"all\");\r\n  //Sales By Agent\r\n  const [SBAOrderStatus, setSBAOrderStatus] = useState(null);\r\n  const [SBAOrderLocation, setSBAOrderLocation] = useState(null);\r\n  //Sales By Location\r\n  const [SBLOrderStatus, setSBLOrderStatus] = useState(null);\r\n  const [SBLAgentId, setSBLAgentId] = useState(null);\r\n  //Sales By PaymentStatus\r\n  const [SBPAgentId, setSBPAgentId] = useState(null);\r\n  //Sales by installation status\r\n  const [SBIAgentId, setSBIAgentId] = useState(null);\r\n  //Deal Details\r\n  const [DDOrderStatus, setDDOrderStatus] = useState(null);\r\n  const [DDAgentId, setDDAgentId] = useState(null);\r\n  // Dashboard Data\r\n  const [office, setOffice] = useState([]);\r\n  const [salesAgent, setSalesAgent] = useState([]);\r\n  const [officeId, setOfficeId] = useState(null);\r\n  const [count, setCount] = useState([]);\r\n  const [salesOverview, setSalesOverview] = useState([]);\r\n  const [salesByAgent, setSalesByAgent] = useState([]);\r\n  const [salesByLocation, setSalesByLocation] = useState([]);\r\n  const [salesByPaymentStatus, setSalesByPaymentStatus] = useState([]);\r\n  const [salesByInstallationStatus, setSalesByInstallationStatus] = useState(\r\n    []\r\n  );\r\n  const [dealDetails, setDealDetails] = useState([]);\r\n  const [officeQuery, setOfficeQuery] = useState({});\r\n  const [agentQuery, setAgentQuery] = useState({});\r\n  const [chartByGender, setChartByGender] = useState([]);\r\n  const [chartByAge, setChartByAge] = useState([]);\r\n  const [diseasesCountByGender, setDiseasesCountByGender] = useState([]);\r\n  const [alertsCountByElderly, setAlertsCountByElderly] = useState([]);\r\n  const [alertsCountByName, setAlertsCountByName] = useState([]);\r\n  const [city, setCity] = useState([]);\r\n  //Report Download\r\n  const downloadReport = async () => {\r\n    try {\r\n      if (!dealDetails.data || dealDetails.data.length === 0) {\r\n        throw new Error(\"No data available to download\");\r\n      }\r\n\r\n      const formattedData = dealDetails.data.map((item, index) => {\r\n        console.log(\"DealDetails ===============>\", dealDetails.data);\r\n\r\n        const saleDate = new Date(item.created_at);\r\n        return {\r\n          \"No.\": index + 1,\r\n          \"Office Name\": item.office_name,\r\n          \"Agent ID\": item.agent_unique_id,\r\n          \"Agent Name\": item.agent_name,\r\n          // \"Order Number\": item.order_no,\r\n          \"Sale Date\": saleDate.toLocaleDateString(\"en-CA\"),\r\n          \"Sale Time\": saleDate.toLocaleTimeString(\"en-GB\", {\r\n            hour: \"2-digit\",\r\n            minute: \"2-digit\",\r\n          }),\r\n\r\n          Products: item.products\r\n            .map((product, idx) => `${idx + 1}. ${product.name}`)\r\n            .join(\"\"),\r\n          \"Extra Product\": item.products\r\n            .map((item, indx) => {\r\n              if (\r\n                item.type !== \"Seenyor Kit\" &&\r\n                item.type !== \"Installation\" &&\r\n                item.type !== \"AI Monitoring\"\r\n              ) {\r\n                return item.type;\r\n              }\r\n            })\r\n            .join(\"\"),\r\n          \"Current Sale Status\": item.saleStatus,\r\n          \"City Location\": item.address?.city || \"N/A\",\r\n        };\r\n      });\r\n\r\n      const worksheet = XLSX.utils.json_to_sheet(formattedData);\r\n      const workbook = XLSX.utils.book_new();\r\n      XLSX.utils.book_append_sheet(workbook, worksheet, \"Sales Report\");\r\n\r\n      const excelBuffer = XLSX.write(workbook, {\r\n        bookType: \"xlsx\",\r\n        type: \"array\",\r\n      });\r\n      const blob = new Blob([excelBuffer], {\r\n        type: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\r\n      });\r\n\r\n      const fileName = `Sales_Report_${\r\n        new Date().toISOString().split(\"T\")[0]\r\n      }.xlsx`;\r\n      saveAs(blob, fileName);\r\n    } catch (error) {\r\n      console.error(\"Error downloading the sales report:\", error);\r\n      // Here you might want to show an error message to the user\r\n      // For example: message.error(\"Failed to download report. Please try again.\");\r\n    }\r\n  };\r\n  //Chart by gender (male and female)\r\n  const ChartByGender = useCallback(() => {\r\n    getChartByGender()\r\n      .then((res) => {\r\n        setChartByGender(res.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  //chart by age with range\r\n  const ChartByAge = useCallback(() => {\r\n    getChartByAge()\r\n      .then((res) => {\r\n        setChartByAge(res?.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  //Diseses count by gender\r\n  const DiseasesCountByGender = useCallback(() => {\r\n    getDiseasesCountByGender()\r\n      .then((res) => {\r\n        setDiseasesCountByGender(res.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n  const AlertCountByElderly = useCallback(() => {\r\n    getAlertsCountByElderly()\r\n      .then((res) => {\r\n        setAlertsCountByElderly(res.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  const AlertCountByName = useCallback(() => {\r\n    getAlertsCountByName()\r\n      .then((res) => {\r\n        const filteredData = res.data.map((item) => {\r\n          return {\r\n            property_name: getAlertInfoViaEventDetails(item)?.title,\r\n            count: item.count,\r\n            type: getAlertInfoViaEventDetails(item)?.status,\r\n          };\r\n        });\r\n        console.log(filteredData);\r\n\r\n        setAlertsCountByName(filteredData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n  //Distributor Reports\r\n  function AllCounts() {\r\n    getUsersCount()\r\n      .then((res) => {\r\n        // Map over CountMapping to ensure every role is represented\r\n        const mergedData = CountMapping.map((config) => {\r\n          // Find if there's data from the API matching the current role\r\n          const apiItem = res.data?.find((item) => item.role === config.role);\r\n\r\n          // If found, use the API count; otherwise, set count to 0\r\n          return {\r\n            ...config,\r\n            count: apiItem ? apiItem.count : 0, // Default to 0 if not found in the API response\r\n          };\r\n        });\r\n\r\n        // Optional: filter based on rolesAllowed for the current user\r\n        const filteredData = mergedData.filter((item) =>\r\n          item.rolesAllowed.includes(user.role)\r\n        );\r\n\r\n        // Set the final filtered data to state\r\n        setCount(filteredData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  const SalesOverview = useCallback(\r\n    (agentId, orderStatus) => {\r\n      getSalesOverview({\r\n        office_id: officeQuery.office_id,\r\n        agent_id: agentId,\r\n        payment_status: orderStatus,\r\n        from_date: fromDate,\r\n        to_date: toDate,\r\n      })\r\n        .then((res) => {\r\n          console.log(\"sales Overview\", res);\r\n\r\n          setSalesOverview(res.data);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    [SOAgentId, SOOrderStatus, officeQuery.office_id, toDate]\r\n  );\r\n\r\n  const SalesByAgent = useCallback(\r\n    (city, orderStatus) => {\r\n      getSalesData({\r\n        ...officeQuery,\r\n        total_sales_by: \"agent_name\",\r\n        city: city,\r\n        payment_status: orderStatus,\r\n        from_date: fromDate,\r\n        to_date: toDate,\r\n      })\r\n        .then((res) => {\r\n          setSalesByAgent(res.data);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    [SBAOrderLocation, SBAOrderStatus, officeQuery.office_id, toDate]\r\n  );\r\n  const SalesByLocation = useCallback(\r\n    (agentId, orderStatus) => {\r\n      getSalesData({\r\n        ...officeQuery,\r\n        total_sales_by: \"location\",\r\n        payment_status: orderStatus,\r\n        agent_id: agentId,\r\n        from_date: fromDate,\r\n        to_date: toDate,\r\n      })\r\n        .then((res) => {\r\n          setSalesByLocation(res.data);\r\n          console.log(res);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    [SBLAgentId, SBLOrderStatus, officeQuery.office_id, toDate]\r\n  );\r\n\r\n  const SalesByPaymentStatus = useCallback(\r\n    (agentId) => {\r\n      getSalesData({\r\n        ...officeQuery,\r\n        total_sales_by: \"payment_status\",\r\n        agent_id: agentId,\r\n        from_date: fromDate,\r\n        to_date: toDate,\r\n      })\r\n        .then((res) => {\r\n          setSalesByPaymentStatus(res.data);\r\n          console.log(res);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    [SBPAgentId, officeQuery.office_id, toDate]\r\n  );\r\n  const SalesByInstallationStatus = useCallback(\r\n    (agentId) => {\r\n      getSalesData({\r\n        ...officeQuery,\r\n        total_sales_by: \"installation_status\",\r\n        agent_id: agentId,\r\n        from_date: fromDate,\r\n        to_date: toDate,\r\n      })\r\n        .then((res) => {\r\n          setSalesByInstallationStatus(res.data);\r\n          console.log(res);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    [SBIAgentId, officeQuery.office_id, toDate]\r\n  );\r\n  const DealDetails = useCallback(\r\n    (agentId, orderStatus) => {\r\n      setDealLoading(true);\r\n      getDealDetails({\r\n        ...page,\r\n        ...officeQuery,\r\n        agent_id: agentId,\r\n        payment_status: orderStatus,\r\n        from_date: fromDate,\r\n        to_date: toDate,\r\n      })\r\n        .then((res) => {\r\n          console.log(res);\r\n\r\n          setDealDetails(res);\r\n          setDealLoading(false);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    [DDOrderStatus, DDAgentId, officeQuery.office_id, toDate, page]\r\n  );\r\n\r\n  //All Graph Controller Handle Functions\r\n  useEffect(() => {\r\n    SalesOverview(\r\n      SOAgentId === \"all\" ? null : SOAgentId,\r\n      SOOrderStatus === \"all\" ? null : SOOrderStatus\r\n    );\r\n  }, [SalesOverview]);\r\n  useEffect(() => {\r\n    SalesByAgent(\r\n      SBAOrderLocation === \"all\" ? null : SBAOrderLocation,\r\n      SBAOrderStatus === \"all\" ? null : SBAOrderStatus\r\n    );\r\n  }, [SalesByAgent]);\r\n  useEffect(() => {\r\n    SalesByLocation(\r\n      SBLAgentId === \"all\" ? null : SBLAgentId,\r\n      SBLOrderStatus === \"all\" ? null : SBLOrderStatus\r\n    );\r\n  }, [SalesByLocation]);\r\n  useEffect(() => {\r\n    SalesByPaymentStatus(SBPAgentId === \"all\" ? null : SBPAgentId);\r\n  }, [SalesByPaymentStatus]);\r\n  useEffect(() => {\r\n    SalesByInstallationStatus(SBIAgentId === \"all\" ? null : SBIAgentId);\r\n  }, [SalesByInstallationStatus]);\r\n  useEffect(() => {\r\n    DealDetails(\r\n      DDAgentId === \"all\" ? null : DDAgentId,\r\n      DDOrderStatus === \"all\" ? null : DDOrderStatus\r\n    );\r\n  }, [DealDetails]);\r\n\r\n  useEffect(() => {\r\n    if (!officeId) return;\r\n    if (officeId === \"all\") {\r\n      if (officeQuery.office_id) {\r\n        const newQuery = { ...officeQuery };\r\n        delete newQuery.office_id;\r\n        setOfficeQuery(newQuery);\r\n      }\r\n    } else {\r\n      setOfficeQuery((prevQuery) => ({\r\n        ...prevQuery,\r\n        office_id: officeId,\r\n      }));\r\n      // Reset other states if needed\r\n      setSBPAgentId(\"all\");\r\n      setSBIAgentId(\"all\");\r\n      setSBLAgentId(\"all\");\r\n      setSOAgentId(\"all\");\r\n    }\r\n  }, [officeId]);\r\n\r\n  //Weekly, Monthly and  Date Picker Handler\r\n  function handleWeeklyMonthly(e) {\r\n    console.log(e);\r\n    setFromDate(e.start);\r\n    setToDate(e.end);\r\n  }\r\n  function handleDatePicker(e) {\r\n    setFromDate(e[0]);\r\n    setToDate(e[1]);\r\n  }\r\n\r\n  function getAllOffice() {\r\n    getUser({ role: \"office\" })\r\n      .then((res) => {\r\n        setOffice(res.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n  function getAllAgent() {\r\n    console.log(\"called agent get list!\", agentQuery);\r\n\r\n    getUser({ ...officeQuery, role: \"sales_agent\" })\r\n      .then((res) => {\r\n        setSalesAgent(res.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n  function getAllCities() {\r\n    getAllCity({ ...officeQuery })\r\n      .then((res) => {\r\n        setCity(res.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  const stepsRef = {\r\n    officeDropdown: useRef(null),\r\n    datePicker: useRef(null),\r\n    usersCount: useRef(null),\r\n    totalSales: useRef(null),\r\n    totalInstallations: useRef(null),\r\n    salesOverview: useRef(null),\r\n    salesByAgent: useRef(null),\r\n    salesByLocation: useRef(null),\r\n    mostAlert: useRef(null),\r\n    activityCount: useRef(null),\r\n    ages: useRef(null),\r\n    gender: useRef(null),\r\n    diseases: useRef(null),\r\n  };\r\n\r\n  useEffect(() => {\r\n    Object.keys(stepsRef).forEach((key) => {\r\n      if (stepsRef[key].current) {\r\n        registerRef(\"tour_step_\" + key, stepsRef[key]);\r\n      }\r\n    });\r\n  }, [registerRef]);\r\n\r\n  useEffect(() => {\r\n    AllCounts();\r\n    getAllOffice();\r\n\r\n    if (user.role === \"nursing_home\" || user.role === \"monitoring_station\") {\r\n      ChartByGender();\r\n      ChartByAge();\r\n      DiseasesCountByGender();\r\n      AlertCountByElderly();\r\n      AlertCountByName();\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    getAllAgent();\r\n    getAllCities();\r\n  }, [officeQuery]);\r\n  // const updateUserDetailsWithFCMToken = (id, token) => {\r\n  //   if (!token) return;\r\n  //   console.log(token);\r\n  //   updateUserDetails(id, { fcm_token_web: token })\r\n  //     .then((res) => {\r\n  //       console.log(\"Token Updated\");\r\n  //     })\r\n  //     .catch((err) => console.log(err));\r\n  // };\r\n  // useEffect(() => {\r\n  //   console.log(user);\r\n  //   requestPermission().then((token) => {\r\n  //     if (\r\n  //       (user.role === \"nurse\" ||\r\n  //         user.role === \"support_agent\" ||\r\n  //         user.role === \"end_user\") &&\r\n  //       token\r\n  //     ) {\r\n  //       console.log(token);\r\n\r\n  //       updateUserDetailsWithFCMToken(user?._id, token);\r\n  //     }\r\n  //   });\r\n  // }, [user]);\r\n  return (\r\n    <div className=\"\">\r\n      {/* Tamplete for w-1/3 w-2/3 */}\r\n      {/* <div className=\"w-full flex  gap-6 lg:flex-row flex-col\">\r\n            <div className=\" p-[25px] rounded-2xl  bg-white lg:w-[65%] w-full  h-[445px]\"></div>\r\n            <div className=\" p-[25px] rounded-2xl  bg-white lg:w-[35%] w-full  h-[445px]\"></div>\r\n          </div> */}\r\n      {/* Tamplete for w-1/2 w-1/2 */}\r\n      {/* <div className=\"w-full flex gap-6 xl:flex-row flex-col\">\r\n            <div className=\" p-[25px] rounded-2xl  bg-white w-full h-[445px]\"></div>\r\n            <div className=\" p-[25px] rounded-2xl  bg-white w-full h-[445px]\"></div>\r\n          </div> */}\r\n\r\n      {/* This code for Distributor , Sales Agent , Office Dashboard */}\r\n      {(user.role == \"distributor\" ||\r\n        user.role == \"office\" ||\r\n        user.role == \"sales_agent\") && (\r\n        <div className=\"pt-[29px] flex flex-col w-full gap-6 pb-10\">\r\n          <div\r\n            id=\"Distributor_Dash_Top\"\r\n            className=\"flex justify-between w-full mb-5 flex-wrap gap-5\"\r\n          >\r\n            <ConfigProvider\r\n              theme={{\r\n                token: {\r\n                  fontFamily: \"Baloo2\",\r\n                  colorPrimary: \"#8086AC\",\r\n                  colorLinkActive: \"#8086AC\",\r\n                  colorLinkHover: \"#8086AC\",\r\n                  colorLink: \"#8086AC\",\r\n                },\r\n              }}\r\n            >\r\n              {user.role == \"office\" ? (\r\n                <div className=\"p-2 px-4 rounded-lg text-[36px] font-bold  text-primary\">\r\n                  {user.office}\r\n                </div>\r\n              ) : user.role == \"sales_agent\" ? null : (\r\n                <div ref={stepsRef.officeDropdown}>\r\n                  <Select\r\n                    showSearch\r\n                    optionFilterProp=\"label\"\r\n                    onChange={(e) => setOfficeId(e.value)}\r\n                    onSearch={onSearch}\r\n                    defaultValue={\"all\"}\r\n                    size=\"large\"\r\n                    className=\"custom-select\"\r\n                    labelInValue={true}\r\n                    options={[\r\n                      {\r\n                        value: \"all\",\r\n                        label: (\r\n                          <>\r\n                            All Offices{\" \"}\r\n                            <span className=\"highlighted-number\">\r\n                              {office.length}\r\n                            </span>\r\n                          </>\r\n                        ), // Number of options included here\r\n                      },\r\n                      ...office.map((office) => ({\r\n                        value: office._id,\r\n                        label: office.name,\r\n                      })),\r\n                    ]}\r\n                  />\r\n                </div>\r\n              )}\r\n              <div\r\n                id=\"DatePickers\"\r\n                className=\"flex gap-4 items-center\"\r\n                ref={stepsRef.datePicker}\r\n              >\r\n                <WeeklyMonthlyPicker\r\n                  placeholder={\"Weekly/Monthly\"}\r\n                  style={{ width: \"140px\", borderRadius: \"10px\" }}\r\n                  handleChnage={handleWeeklyMonthly}\r\n                />\r\n                <RangePicker\r\n                  showTime={false}\r\n                  style={{ width: \"200px\", borderRadius: \"10px\" }}\r\n                  size=\"large\"\r\n                  placeholder={[\"Pick Data Range (Start)\", \"End\"]}\r\n                  format=\"YYYY-MM-DD\"\r\n                  onChange={(value, dateString) => {\r\n                    handleDatePicker(dateString);\r\n                  }}\r\n                  onOk={onOk}\r\n                />\r\n                {/* <CustomButton\r\n                  disabled={dealDetails?.data?.length <= 0}\r\n                  onClick={downloadReport}\r\n                  type=\"text\"\r\n                >\r\n                  Download\r\n                </CustomButton> */}\r\n              </div>\r\n            </ConfigProvider>\r\n          </div>\r\n\r\n          <div\r\n            id=\"Reports\"\r\n            className=\"w-full rounded-2xl bg-transparent flex flex-col gap-6\"\r\n            ref={stepsRef.usersCount}\r\n          >\r\n            <div\r\n              id=\"Cards\"\r\n              className=\"grid gap-5 grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5\"\r\n            >\r\n              {count?.map((item, key) => {\r\n                let IconName = item.icon;\r\n                return (\r\n                  <div\r\n                    key={key}\r\n                    id=\"Card\"\r\n                    className=\"cursor-pointer group flex w-full items-center p-4 py-6 bg-[#fff] text-white gap-3 rounded-[12px] relative overflow-hidden\"\r\n                  >\r\n                    <div\r\n                      id=\"circle\"\r\n                      style={{ backgroundColor: item.color, opacity: \"0.9\" }}\r\n                      className={`w-[100px] h-[100px] absolute -right-11 -top-14 rounded-full group-hover:-right-5 group-hover:-top-[75px] transition-all duration-200 ease-in-out`}\r\n                    ></div>\r\n                    <div\r\n                      id=\"circle\"\r\n                      style={{ backgroundColor: item.color, opacity: \"0.2\" }}\r\n                      className={`w-[100px] h-[100px] absolute -right-3 -top-[70px] rounded-full group-hover:-right-[50px] group-hover:-top-[45px] transition-all duration-200 ease-in-out`}\r\n                    ></div>\r\n                    <div\r\n                      style={{ backgroundColor: `${item.color}15` }}\r\n                      className=\"h-fit rounded-[8px] p-2\"\r\n                    >\r\n                      {IconName && (\r\n                        <IconName style={{ color: item?.color }} size={20} />\r\n                      )}\r\n                    </div>\r\n                    <div className=\"flex flex-col items-start\">\r\n                      <h1 className=\"text-[26px] font-semibold leading-none text-text-primary\">\r\n                        {item.count}\r\n                      </h1>\r\n                      <span className=\"text-[14px] font-medium text-text-primary/70 leading-none\">\r\n                        {item.label}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n\r\n          <div id=\"SalesOverview&Total\" className=\"w-full flex  gap-6 flex-col\">\r\n            <div className=\"w-full flex gap-6\">\r\n              <div\r\n                className=\" p-[25px] rounded-2xl  bg-white lg:w-[50%] w-full  h-[445px]\"\r\n                ref={stepsRef.totalSales}\r\n              >\r\n                <div id=\"ChartHeader\" className=\"w-full flex justify-between\">\r\n                  <h1 className=\"text-[24px] font-bold\">Total Sales</h1>\r\n                  <div id=\"chartController\" className=\"flex gap-4\">\r\n                    {mainRole !== \"sales_agent\" ? (\r\n                      <ConfigProvider\r\n                        theme={{\r\n                          token: {\r\n                            fontFamily: \"Baloo2\",\r\n                            colorPrimary: \"#8086AC\",\r\n                            colorLinkActive: \"#8086AC\",\r\n                            colorLinkHover: \"#8086AC\",\r\n                            colorLink: \"#8086AC\",\r\n                          },\r\n                        }}\r\n                      >\r\n                        <Select\r\n                          showSearch\r\n                          optionFilterProp=\"label\"\r\n                          onChange={(e) => setSBPAgentId(e.value)}\r\n                          onSearch={onSearch}\r\n                          defaultValue={\"all\"}\r\n                          size=\"large\"\r\n                          style={{ maxWidth: 150, zIndex: \"400\" }}\r\n                          labelInValue={true}\r\n                          options={[\r\n                            {\r\n                              value: \"all\",\r\n                              label: \"All Agents\",\r\n                            },\r\n                            ...salesAgent.map((agent) => ({\r\n                              value: agent._id,\r\n                              label: agent.name + \" \" + agent.last_name,\r\n                            })),\r\n                          ]}\r\n                        />\r\n                      </ConfigProvider>\r\n                    ) : null}\r\n                  </div>\r\n                </div>\r\n                <div className=\"h-[260px] my-0 mx-auto flex items-center justify-center\">\r\n                  <TotalSalesChart\r\n                    data={salesByPaymentStatus}\r\n                    chartFor=\"totalSales\"\r\n                  />\r\n                </div>\r\n                <div id=\"ChartInfo\" className=\"w-full flex flex-col gap-2\">\r\n                  {[\"completed\", \"pending\", \"cancelled\"].map((statusName) => {\r\n                    const status = salesByPaymentStatus.find(\r\n                      (item) => item.property_name === statusName\r\n                    ) || { property_name: statusName, total_orders: 0 };\r\n\r\n                    let bgColor;\r\n                    let label;\r\n\r\n                    switch (status.property_name) {\r\n                      case \"completed\":\r\n                        bgColor = \"#4379EE\";\r\n                        label = \"Completed\";\r\n                        break;\r\n                      case \"pending\":\r\n                        bgColor = \"#F1963A\";\r\n                        label = \"Pending\";\r\n                        break;\r\n                      case \"cancelled\":\r\n                        bgColor = \"#D90000\";\r\n                        label = \"Cancelled\";\r\n                        break;\r\n                      default:\r\n                        bgColor = \"#000000\"; // Default color if needed\r\n                        label = \"Unknown\";\r\n                    }\r\n\r\n                    return (\r\n                      <div\r\n                        key={status.property_name}\r\n                        id=\"InfoItem\"\r\n                        className=\"w-full flex justify-between\"\r\n                      >\r\n                        <div className=\"flex gap-2 items-center\">\r\n                          <div\r\n                            className={`w-[12px] h-[12px] rounded-full`}\r\n                            style={{ backgroundColor: bgColor }}\r\n                          ></div>\r\n                          <span className=\"text-lg font-medium\">{label}</span>\r\n                        </div>\r\n                        <span className=\"text-lg font-semibold\">\r\n                          {status.total_orders}\r\n                        </span>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n              <div\r\n                className=\" p-[25px] rounded-2xl  bg-white lg:w-[50%] w-full  h-[445px]\"\r\n                ref={stepsRef.totalInstallations}\r\n              >\r\n                <div id=\"ChartHeader\" className=\"w-full flex justify-between\">\r\n                  <h1 className=\"text-[24px] font-bold\">Total Installations</h1>\r\n                  <div id=\"chartController\" className=\"flex gap-4\">\r\n                    {mainRole !== \"sales_agent\" ? (\r\n                      <ConfigProvider\r\n                        theme={{\r\n                          token: {\r\n                            fontFamily: \"Baloo2\",\r\n                            colorPrimary: \"#8086AC\",\r\n                            colorLinkActive: \"#8086AC\",\r\n                            colorLinkHover: \"#8086AC\",\r\n                            colorLink: \"#8086AC\",\r\n                          },\r\n                        }}\r\n                      >\r\n                        <Select\r\n                          showSearch\r\n                          optionFilterProp=\"label\"\r\n                          onChange={(e) => setSBIAgentId(e.value)}\r\n                          onSearch={onSearch}\r\n                          defaultValue={\"all\"}\r\n                          size=\"large\"\r\n                          style={{ maxWidth: 150, zIndex: \"400\" }}\r\n                          labelInValue={true}\r\n                          options={[\r\n                            {\r\n                              value: \"all\",\r\n                              label: \"All Agents\",\r\n                            },\r\n                            ...salesAgent.map((agent) => ({\r\n                              value: agent._id,\r\n                              label: agent.name + \" \" + agent.last_name,\r\n                            })),\r\n                          ]}\r\n                        />\r\n                      </ConfigProvider>\r\n                    ) : null}\r\n                  </div>\r\n                </div>\r\n                <div className=\"h-[260px] my-0 mx-auto flex items-center justify-center\">\r\n                  <TotalSalesChart\r\n                    data={salesByInstallationStatus}\r\n                    chartFor=\"totalInstallations\"\r\n                  />\r\n                </div>\r\n                <div id=\"ChartInfo\" className=\"w-full flex flex-col gap-2\">\r\n                  {[\"completed\", \"pending\", \"not_started\"].map((statusName) => {\r\n                    const status = salesByInstallationStatus.find(\r\n                      (item) => item.property_name === statusName\r\n                    ) || { property_name: statusName, total_orders: 0 };\r\n\r\n                    let bgColor;\r\n                    let label;\r\n\r\n                    switch (status.property_name) {\r\n                      case \"completed\":\r\n                        bgColor = \"#36b610\";\r\n                        label = \"Completed\";\r\n                        break;\r\n                      case \"pending\":\r\n                        bgColor = \"#833af1\";\r\n                        label = \"In Progress\";\r\n                        break;\r\n                      case \"not_started\":\r\n                        bgColor = \"#5d5d5d\";\r\n                        label = \"Not Started\";\r\n                        break;\r\n                      default:\r\n                        bgColor = \"#000000\"; // Default color if needed\r\n                        label = \"Unknown\";\r\n                    }\r\n\r\n                    return (\r\n                      <div\r\n                        key={status.property_name}\r\n                        id=\"InfoItem\"\r\n                        className=\"w-full flex justify-between\"\r\n                      >\r\n                        <div className=\"flex gap-2 items-center\">\r\n                          <div\r\n                            className={`w-[12px] h-[12px] rounded-full`}\r\n                            style={{ backgroundColor: bgColor }}\r\n                          ></div>\r\n                          <span className=\"text-lg font-medium\">{label}</span>\r\n                        </div>\r\n                        <span className=\"text-lg font-semibold\">\r\n                          {status.total_orders}\r\n                        </span>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div\r\n              className=\" p-[25px] rounded-2xl  bg-white lg:w-[100%] w-full  h-[445px]\"\r\n              ref={stepsRef.salesOverview}\r\n            >\r\n              <div id=\"ChartHeader\" className=\"w-full flex justify-between\">\r\n                <h1 className=\"text-[24px] font-bold\">Sales Overview</h1>\r\n\r\n                <div id=\"chartController\" className=\"flex gap-4\">\r\n                  <ConfigProvider\r\n                    theme={{\r\n                      token: {\r\n                        fontFamily: \"Baloo2\",\r\n                        colorPrimary: \"#8086AC\",\r\n                        colorLinkActive: \"#8086AC\",\r\n                        colorLinkHover: \"#8086AC\",\r\n                        colorLink: \"#8086AC\",\r\n                      },\r\n                    }}\r\n                  >\r\n                    <Select\r\n                      optionFilterProp=\"label\"\r\n                      onChange={(e) => setSOOrderStatus(e.value)}\r\n                      defaultValue={\"all\"}\r\n                      size=\"large\"\r\n                      labelInValue={true}\r\n                      options={[\r\n                        {\r\n                          value: \"all\",\r\n                          label: \"All Sales\",\r\n                        },\r\n                        {\r\n                          value: \"completed\",\r\n                          label: \"Completed\",\r\n                        },\r\n                        {\r\n                          value: \"pending\",\r\n                          label: \"Pending\",\r\n                        },\r\n                        {\r\n                          value: \"cancelled\",\r\n                          label: \"Cancelled\",\r\n                        },\r\n                      ]}\r\n                    />\r\n                    {mainRole !== \"sales_agent\" ? (\r\n                      <Select\r\n                        showSearch\r\n                        optionFilterProp=\"label\"\r\n                        onChange={(e) => setSOAgentId(e.value)}\r\n                        onSearch={onSearch}\r\n                        value={SOAgentId}\r\n                        defaultValue={\"all\"}\r\n                        size=\"large\"\r\n                        style={{ maxWidth: 150, zIndex: \"400\" }}\r\n                        labelInValue={true}\r\n                        options={[\r\n                          {\r\n                            value: \"all\",\r\n                            label: \"All Agents\",\r\n                          },\r\n                          ...salesAgent.map((agent) => ({\r\n                            value: agent._id,\r\n                            label: agent.name + \" \" + agent.last_name,\r\n                          })),\r\n                        ]}\r\n                      />\r\n                    ) : null}\r\n                  </ConfigProvider>\r\n                </div>\r\n              </div>\r\n              <SalesOverviewChart data={salesOverview} />\r\n            </div>\r\n          </div>\r\n\r\n          <div\r\n            id=\"SalesByLucation&Agents\"\r\n            className=\"w-full flex gap-6 xl:flex-row flex-col\"\r\n          >\r\n            {user.role == \"sales_agent\" ? null : (\r\n              <div\r\n                className=\" p-[25px] rounded-2xl  bg-white w-full h-[445px]\"\r\n                ref={stepsRef.salesByAgent}\r\n              >\r\n                <div id=\"ChartHeader\" className=\"w-full flex justify-between\">\r\n                  <h1 className=\"text-[24px] font-bold\"> Sales by Agent</h1>\r\n\r\n                  <div id=\"chartController\" className=\"flex gap-4\">\r\n                    <ConfigProvider\r\n                      theme={{\r\n                        token: {\r\n                          fontFamily: \"Baloo2\",\r\n                          colorPrimary: \"#8086AC\",\r\n                          colorLinkActive: \"#8086AC\",\r\n                          colorLinkHover: \"#8086AC\",\r\n                          colorLink: \"#8086AC\",\r\n                        },\r\n                      }}\r\n                    >\r\n                      <Select\r\n                        optionFilterProp=\"label\"\r\n                        onChange={(e) => setSBAOrderStatus(e.value)}\r\n                        defaultValue=\"all\"\r\n                        size=\"large\"\r\n                        labelInValue={true}\r\n                        options={[\r\n                          {\r\n                            value: \"all\",\r\n                            label: \"All Sales\",\r\n                          },\r\n                          {\r\n                            value: \"completed\",\r\n                            label: \"Completed\",\r\n                          },\r\n                          {\r\n                            value: \"pending\",\r\n                            label: \"Pending\",\r\n                          },\r\n                          {\r\n                            value: \"cancelled\",\r\n                            label: \"Cancelled\",\r\n                          },\r\n                        ]}\r\n                      />\r\n\r\n                      <Select\r\n                        showSearch\r\n                        optionFilterProp=\"label\"\r\n                        onChange={(e) => setSBAOrderLocation(e.value)}\r\n                        onSearch={onSearch}\r\n                        defaultValue={\"all\"}\r\n                        size=\"large\"\r\n                        //   className=\"custom-select\"\r\n                        labelInValue={true}\r\n                        options={[\r\n                          { value: \"all\", label: \"All Locations\" },\r\n                          ...city.map((item) => ({\r\n                            value: item.city_name,\r\n                            label: item.city_name,\r\n                          })),\r\n                        ]}\r\n                      />\r\n                    </ConfigProvider>\r\n                  </div>\r\n                </div>\r\n                <BarChart data={salesByAgent} graphTitle=\"Sales by Agent\" />\r\n              </div>\r\n            )}\r\n\r\n            <div\r\n              className=\"p-[25px] rounded-2xl  bg-white w-full h-[445px]\"\r\n              ref={stepsRef.salesByLocation}\r\n            >\r\n              <div id=\"ChartHeader\" className=\"w-full flex justify-between\">\r\n                <h1 className=\"text-[24px] font-bold\">Sales by Location</h1>\r\n                <div id=\"chartController\" className=\"flex gap-4\">\r\n                  <ConfigProvider\r\n                    theme={{\r\n                      token: {\r\n                        fontFamily: \"Baloo2\",\r\n                        colorPrimary: \"#8086AC\",\r\n                        colorLinkActive: \"#8086AC\",\r\n                        colorLinkHover: \"#8086AC\",\r\n                        colorLink: \"#8086AC\",\r\n                      },\r\n                    }}\r\n                  >\r\n                    <Select\r\n                      optionFilterProp=\"label\"\r\n                      onChange={(e) => setSBLOrderStatus(e.value)}\r\n                      defaultValue={\"all\"}\r\n                      size=\"large\"\r\n                      //   className=\"custom-select\"\r\n                      labelInValue={true}\r\n                      options={[\r\n                        {\r\n                          value: \"all\",\r\n                          label: \"All Sales\",\r\n                        },\r\n                        {\r\n                          value: \"completed\",\r\n                          label: \"Completed\",\r\n                        },\r\n                        {\r\n                          value: \"pending\",\r\n                          label: \"Pending\",\r\n                        },\r\n                        {\r\n                          value: \"cancelled\",\r\n                          label: \"Cancelled\",\r\n                        },\r\n                      ]}\r\n                    />\r\n                    {mainRole !== \"sales_agent\" ? (\r\n                      <Select\r\n                        showSearch\r\n                        optionFilterProp=\"label\"\r\n                        onChange={(e) => setSBLAgentId(e.value)}\r\n                        onSearch={onSearch}\r\n                        defaultValue={\"all\"}\r\n                        size=\"large\"\r\n                        labelInValue={true}\r\n                        options={[\r\n                          {\r\n                            value: \"all\",\r\n                            label: \"All Agents\",\r\n                          },\r\n                          ...salesAgent.map((agent) => ({\r\n                            value: agent._id,\r\n                            label: agent.name + \" \" + agent.last_name,\r\n                          })),\r\n                        ]}\r\n                      />\r\n                    ) : null}\r\n                  </ConfigProvider>\r\n                </div>\r\n              </div>\r\n              <BarChart data={salesByLocation} graphTitle=\"Sales by Location\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* This code For Monitoring Station dashboard  */}\r\n      {user.role == \"monitoring_station\" ? (\r\n        <MonitoringStation\r\n          count={count}\r\n          chartByAge={chartByAge}\r\n          chartByGender={chartByGender}\r\n          diseasesCountByGender={diseasesCountByGender}\r\n          alertsCountByName={alertsCountByName}\r\n          alertsCountByElderly={alertsCountByElderly}\r\n        />\r\n      ) : null}\r\n\r\n      {/* This Code for Installer Dashboard */}\r\n      {role == \"installer\" ? <InstallerDashboard /> : null}\r\n      {role == \"monitoring_agency\" ? <MonitoringAgencyDashboard /> : null}\r\n\r\n      {/* This Code for Installer Dashboard */}\r\n      {user.role == \"nursing_home\" ? (\r\n        <div className=\"w-full flex flex-col gap-6 pt-6\">\r\n          <div className=\"w-full flex gap-6 xl:flex-row flex-col h-fit justify-between\">\r\n            <div\r\n              className=\"p-[25px] rounded-2xl bg-white w-full h-[445px]\"\r\n              ref={stepsRef.mostAlert}\r\n            >\r\n              <div id=\"ChartHeader\" className=\"w-full flex justify-between\">\r\n                <h1 className=\"text-[24px] font-bold\">Most Alerts</h1>\r\n              </div>\r\n              <BarChart data={alertsCountByElderly} />\r\n            </div>\r\n            <div\r\n              className=\"p-[25px] rounded-2xl bg-white w-full h-[445px]\"\r\n              ref={stepsRef.activityCount}\r\n            >\r\n              <div id=\"ChartHeader\" className=\"w-full flex justify-between\">\r\n                <h1 className=\"text-[24px] font-bold\">Activity Count</h1>\r\n              </div>\r\n              {/* <BarChart data={alertsCountByName} /> */}\r\n              <BubbleChart data={alertsCountByName} />\r\n            </div>\r\n          </div>\r\n          <div className=\"flex gap-6 lg:flex-row flex-col h-fit\">\r\n            <div className=\"rounded-2xl lg:w-[75%] w-full flex flex-col gap-6 h-full\">\r\n              <div\r\n                className=\"p-[25px] rounded-2xl bg-white w-full h-[445px] flex-grow\"\r\n                ref={stepsRef.ages}\r\n              >\r\n                <div id=\"ChartHeader\" className=\"w-full flex justify-between\">\r\n                  <h1 className=\"text-[24px] font-bold\">Ages</h1>\r\n                </div>\r\n                <BarChartByGender chartFor=\"age\" data={chartByGender} />\r\n              </div>\r\n              <div\r\n                className=\"p-[25px] rounded-2xl bg-white w-full h-[445px] flex-grow\"\r\n                ref={stepsRef.diseases}\r\n              >\r\n                <div id=\"ChartHeader\" className=\"w-full flex justify-between\">\r\n                  <h1 className=\"text-[24px] font-bold\">Diseases</h1>\r\n                </div>\r\n                <BarChartByGender\r\n                  chartFor=\"diseases\"\r\n                  data={diseasesCountByGender}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"rounded-2xl lg:w-[35%] w-full flex flex-col gap-6 h-full\">\r\n              <div\r\n                className=\"p-[25px] rounded-2xl bg-white w-full flex flex-col h-[496px] justify-between\"\r\n                ref={stepsRef.gender}\r\n              >\r\n                <div>\r\n                  <div id=\"ChartHeader\" className=\"w-full flex justify-between\">\r\n                    <h1 className=\"text-[24px] font-bold\">Gender</h1>\r\n                  </div>\r\n                  <div className=\"h-[260px] my-0 mx-auto flex items-center justify-center\">\r\n                    <PieChart data={chartByAge} chartFor=\"gender\" />\r\n                  </div>\r\n                </div>\r\n\r\n                <div id=\"ChartInfo\" className=\"w-full flex flex-col gap-2\">\r\n                  <div id=\"InfoItem\" className=\"w-full flex justify-between\">\r\n                    <div className=\"flex gap-2 items-center\">\r\n                      <div className=\"w-[12px] h-[12px] bg-text-primary rounded-full\"></div>\r\n                      <span className=\"text-lg font-medium\">Total</span>\r\n                    </div>\r\n                    <span className=\"text-lg font-semibold\">\r\n                      {chartByAge.reduce(\r\n                        (acc, item) =>\r\n                          acc + item.male_count + item.female_count,\r\n                        0\r\n                      )}\r\n                    </span>\r\n                  </div>\r\n                  <div id=\"InfoItem\" className=\"w-full flex justify-between\">\r\n                    <div className=\"flex gap-2 items-center\">\r\n                      <div className=\"w-[12px] h-[12px] bg-[#4379EE] rounded-full\"></div>\r\n                      <span className=\"text-lg font-medium\">Male</span>\r\n                    </div>\r\n                    <span className=\"text-lg font-semibold\">\r\n                      {chartByAge.map((item) =>\r\n                        item._id === \"male\" ? item.male_count || 0 : 0\r\n                      )}\r\n                      {chartByAge.length === 0 && <>0</>}\r\n                    </span>\r\n                  </div>\r\n                  <div id=\"InfoItem\" className=\"w-full flex justify-between\">\r\n                    <div className=\"flex gap-2 items-center\">\r\n                      <div className=\"w-[12px] h-[12px] bg-[#5CC8BE] rounded-full\"></div>\r\n                      <span className=\"text-lg font-medium\">Female</span>\r\n                    </div>\r\n                    <span className=\"text-lg font-semibold\">\r\n                      {\" \"}\r\n                      {chartByAge.map((item) =>\r\n                        item._id === \"female\" ? item.male_count || 0 : 0\r\n                      )}\r\n                      {chartByAge.length === 0 && <>0</>}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst AdminDashboard = () => {\r\n  const [refsReady, setRefsReady] = useState({});\r\n  const [tourOpen, setTourOpen] = useState(false);\r\n  const [tourSteps, setTourSteps] = useState({});\r\n  const [allRefs, setAllRefs] = useState({});\r\n  const [seenTours, setSeenTours] = useState(() => {\r\n    const saved = ls.get(\"seenToursDash\");\r\n    return saved ? saved : {};\r\n  });\r\n  const userRole = ls.get(\"user\")?.role;\r\n  const user = ls.get(\"user\");\r\n  const handleRefsUpdate = useCallback((refs) => {\r\n    setAllRefs((prevRefs) => {\r\n      if (prevRefs !== refs) {\r\n        // Compare references\r\n        return refs;\r\n      }\r\n      return prevRefs; // No update if refs is the same\r\n    });\r\n    // console.log(refs);\r\n\r\n    // const readyTabs = {};\r\n    // Object.keys(refs).forEach((key) => {\r\n    //   if (key.startsWith(\"tour_\") && refs[key].current) {\r\n    //     const tab = key.split(\"_\")[1];\r\n    //     readyTabs[tab] = true;\r\n    //   }\r\n    // });\r\n\r\n    // setRefsReady((prev) => {\r\n    //   const newReadyTabs = { ...prev, ...readyTabs };\r\n    //   if (JSON.stringify(newReadyTabs) !== JSON.stringify(prev)) {\r\n    //     return newReadyTabs; // Only update if content changes\r\n    //   }\r\n    //   return prev;\r\n    // });\r\n  }, []);\r\n  const buttonStyles = {\r\n    fontSize: \"14px\",\r\n    padding: \"14px 18px\",\r\n    borderRadius: \"8px\",\r\n    // color: \"white\",\r\n  };\r\n  const buttonStyles2 = {\r\n    fontSize: \"14px\",\r\n    padding: \"14px 18px\",\r\n    borderRadius: \"8px\",\r\n  };\r\n  // const stepsRef = {\r\n  //   officeDropdown: useRef(null),\r\n  //   datePicker: useRef(null),\r\n  //   usersCount: useRef(null),\r\n  //   totalSales: useRef(null),\r\n  //   totalInstallations: useRef(null),\r\n  //   salesOverview: useRef(null),\r\n  //   salesByAgent: useRef(null),\r\n  //   salesByLocation: useRef(null),\r\n  // };\r\n\r\n  useEffect(() => {\r\n    const tourStepsByTab = {\r\n      distributor: [\r\n        {\r\n          title: (\r\n            <h1 className=\"text-xl text-primary\"> Welcome, {user?.name}!</h1>\r\n          ),\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              As a distributor, you have a central role in managing offices,\r\n              agents, and location-specific analytics. Explore the tools and\r\n              features available to you and take control of your domain!\r\n            </p>\r\n          ),\r\n          // target: () => allRefs.tour_step_officeDropdown?.current,\r\n          nextButtonProps: {\r\n            children: \"Let's Start\",\r\n            style: buttonStyles,\r\n            variant: \"solid\",\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            className: \"tour_step_btn\",\r\n          },\r\n        },\r\n        {\r\n          title: (\r\n            <h1 className=\"text-xl text-primary\"> Your Responsibilities</h1>\r\n          ),\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              As a Distributor, you manage offices, agents, and location\r\n              analytics.\r\n              <ul className=\"list-disc pl-5\">\r\n                <li>Create and manage Offices, Managers, and Agents</li>\r\n                <li>Assign agents to offices</li>\r\n                <li>View and filter location-based analytics</li>\r\n                <li>Oversee daily operations</li>\r\n              </ul>\r\n            </p>\r\n          ),\r\n          // target: () => allRefs.tour_step_officeDropdown?.current,\r\n          nextButtonProps: {\r\n            children: \"Start Tour\",\r\n            style: buttonStyles,\r\n            variant: \"solid\",\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            className: \"tour_step_btn\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\"> Office Dropdown</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Use the office dropdown to select a specific office or view data\r\n              for all offices at once.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tour_step_officeDropdown?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            variant: \"solid\",\r\n            size: \"middle\",\r\n            className: \"tour_step_btn\",\r\n\r\n            color: \"default\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\"> Date Range Filter</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Apply a custom date range filter to narrow down the data to a\r\n              specific period for more focused analysis.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tour_step_datePicker?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n            className: \"tour_step_btn\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\"> User Overview</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Quickly check the number of key users: Nursing Stations, Sales\r\n              Agents, Monitoring Stations and End Users.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tour_step_usersCount?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n            className: \"tour_step_btn\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\"> Total Sales</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              View the total number of sales made, with a breakdown of their\r\n              statuses (Completed, Pending, and Cancelled).\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tour_step_totalSales?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n            className: \"tour_step_btn\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\"> Total Installations</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Monitor installation statuses, including Completed, In Progress,\r\n              and Not Started, to track installation progress.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tour_step_totalInstallations?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n            className: \"tour_step_btn\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\"> Sales Overview</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Visualize sales trends over time with the Sales Overview graph,\r\n              helping you identify patterns and performance.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tour_step_salesOverview?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n            className: \"tour_step_btn\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\"> Sales by Agent</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              See the total sales made by each agent, allowing you to track\r\n              individual performance and contributions.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tour_step_salesByAgent?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n            className: \"tour_step_btn\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\"> Sales by Location</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Review sales performance across different locations, helping you\r\n              identify high-performing or underperforming areas.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tour_step_salesByLocation?.current,\r\n          nextButtonProps: {\r\n            children: \"Finish\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n            className: \"tour_step_btn\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n      ],\r\n      office: [\r\n        {\r\n          title: (\r\n            <h1 className=\"text-xl text-primary\"> Welcome, {user?.name}!</h1>\r\n          ),\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              As an Office Manager, you'll be overseeing the performance of your\r\n              support agents and managing operations within your office. Lets\r\n              get started!\r\n            </p>\r\n          ),\r\n          // target: () => allRefs.tour_step_officeDropdown?.current,\r\n          nextButtonProps: {\r\n            children: \"Let's Start\",\r\n            style: buttonStyles,\r\n            variant: \"solid\",\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            className: \"tour_step_btn\",\r\n          },\r\n        },\r\n        {\r\n          title: (\r\n            <h1 className=\"text-xl text-primary\">Your Responsibilities</h1>\r\n          ),\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              As an Office Manager, your key tasks include:\r\n              <ul className=\"list-disc pl-5\">\r\n                <li>\r\n                  Tracking the performance of support agents assigned to your\r\n                  office\r\n                </li>\r\n                <li>Managing deals with end users</li>\r\n                <li>\r\n                  Coordinating the scheduling of installers for setup and\r\n                  service\r\n                </li>\r\n              </ul>\r\n            </p>\r\n          ),\r\n          // target: () => allRefs.tour_step_officeDropdown?.current,\r\n          nextButtonProps: {\r\n            children: \"Start Tour\",\r\n            style: buttonStyles,\r\n            variant: \"solid\",\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            className: \"tour_step_btn\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\"> Date Range Filter</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Apply a custom date range filter to narrow down the data to a\r\n              specific period for more focused analysis.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tour_step_datePicker?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n            className: \"tour_step_btn\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\"> User Overview</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Quickly check the number of key users: Nursing Stations, Sales\r\n              Agents, Monitoring Stations and End Users.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tour_step_usersCount?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n            className: \"tour_step_btn\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\"> Total Sales</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              View the total number of sales made, with a breakdown of their\r\n              statuses (Completed, Pending, and Cancelled).\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tour_step_totalSales?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n            className: \"tour_step_btn\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\"> Total Installations</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Monitor installation statuses, including Completed, In Progress,\r\n              and Not Started, to track installation progress.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tour_step_totalInstallations?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n            className: \"tour_step_btn\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\"> Sales Overview</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Visualize sales trends over time with the Sales Overview graph,\r\n              helping you identify patterns and performance.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tour_step_salesOverview?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n            className: \"tour_step_btn\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\"> Sales by Agent</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              See the total sales made by each agent, allowing you to track\r\n              individual performance and contributions.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tour_step_salesByAgent?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n            className: \"tour_step_btn\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\"> Sales by Location</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Review sales performance across different locations, helping you\r\n              identify high-performing or underperforming areas.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tour_step_salesByLocation?.current,\r\n          nextButtonProps: {\r\n            children: \"Finish\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n            className: \"tour_step_btn\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n      ],\r\n      sales_agent: [\r\n        {\r\n          title: (\r\n            <h1 className=\"text-xl text-primary\">\r\n              {\" \"}\r\n              Welcome, {user?.name} {user?.last_name}!\r\n            </h1>\r\n          ),\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Welcome to your Sales Agent Dashboard! As a Sales Agent, you are\r\n              responsible for registering Nursing Homes, Monitoring Stations,\r\n              Support Agents, and Installers. Lets dive in and see what you can\r\n              do!\r\n            </p>\r\n          ),\r\n          // target: () => allRefs.tour_step_officeDropdown?.current,\r\n          nextButtonProps: {\r\n            children: \"Let's Start\",\r\n            style: buttonStyles,\r\n            variant: \"solid\",\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            className: \"tour_step_btn\",\r\n          },\r\n        },\r\n        {\r\n          title: (\r\n            <h1 className=\"text-xl text-primary\">Your Responsibilities</h1>\r\n          ),\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              As a Sales Agent, your key tasks include:\r\n              <ul className=\"list-disc pl-5\">\r\n                <li>\r\n                  Registering Nursing Homes, Monitoring Stations, Support\r\n                  Agents, and Installers\r\n                </li>\r\n                <li>Registering end users through a sales-specific website</li>\r\n                <li>Viewing the end users you have signed up</li>\r\n              </ul>\r\n            </p>\r\n          ),\r\n          // target: () => allRefs.tour_step_officeDropdown?.current,\r\n          nextButtonProps: {\r\n            children: \"Start Tour\",\r\n            style: buttonStyles,\r\n            variant: \"solid\",\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            className: \"tour_step_btn\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\"> Date Range Filter</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Apply a custom date range filter to narrow down the data to a\r\n              specific period for more focused analysis.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tour_step_datePicker?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n            className: \"tour_step_btn\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\"> User Overview</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Quickly check the number of key users: Nursing Stations, Sales\r\n              Agents, Monitoring Stations and End Users.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tour_step_usersCount?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n            className: \"tour_step_btn\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\"> Total Sales</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              View the total number of sales made, with a breakdown of their\r\n              statuses (Completed, Pending, and Cancelled).\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tour_step_totalSales?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n            className: \"tour_step_btn\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\"> Total Installations</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Monitor installation statuses, including Completed, In Progress,\r\n              and Not Started, to track installation progress.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tour_step_totalInstallations?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n            className: \"tour_step_btn\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\"> Sales Overview</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Visualize sales trends over time with the Sales Overview graph,\r\n              helping you identify patterns and performance.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tour_step_salesOverview?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n            className: \"tour_step_btn\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\"> Sales by Location</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Review sales performance across different locations, helping you\r\n              identify high-performing or underperforming areas.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tour_step_salesByLocation?.current,\r\n          nextButtonProps: {\r\n            children: \"Finish\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n            className: \"tour_step_btn\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n      ],\r\n      monitoring_station: [\r\n        {\r\n          title: (\r\n            <h1 className=\"text-xl text-primary\"> Welcome, {user?.name}!</h1>\r\n          ),\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Welcome to your Monitoring Company Dashboard! As a Monitoring\r\n              Company, you manage Installer and Support Agent accounts, ensuring\r\n              smooth operations for your customers. Lets take a look at your\r\n              responsibilities:\r\n              <ul className=\"list-disc pl-5\">\r\n                <li>\r\n                  Manage Installer accounts and oversee their setup of devices\r\n                  and profiles\r\n                </li>\r\n                <li>Monitor and resolve alerts via the platform and app</li>\r\n                <li>Support elderly profiles assigned to your company</li>\r\n                <li>\r\n                  Ensure all installations are completed successfully at\r\n                  customer's homes\r\n                </li>\r\n              </ul>\r\n            </p>\r\n          ),\r\n          // target: () => allRefs.tour_step_officeDropdown?.current,\r\n          nextButtonProps: {\r\n            children: \"Let's Start\",\r\n            style: buttonStyles,\r\n            variant: \"solid\",\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            className: \"tour_step_btn\",\r\n          },\r\n        },\r\n        // {\r\n        //   title: (\r\n        //     <h1 className=\"text-xl text-primary\"> Daily Activity Summary</h1>\r\n        //   ),\r\n        //   description: (\r\n        //     <p className=\"text-base tracking-tight text-primary/80\">\r\n        //       Displays key metrics such as Indoor Duration, Walking Steps, Skill\r\n        //       Time, Walking Speed, and Room Entry/Exit Count.\r\n        //     </p>\r\n        //   ),\r\n        //   // target: () => allRefs.tour_step_officeDropdown?.current,\r\n        //   nextButtonProps: {\r\n        //     children: \"Start Tour\",\r\n        //     style: buttonStyles,\r\n        //     variant: \"solid\",\r\n        //     size: \"middle\",\r\n        //     color: \"default\",\r\n        //     className: \"tour_step_btn\",\r\n        //   },\r\n        //   prevButtonProps: {\r\n        //     style: buttonStyles2,\r\n        //   },\r\n        // },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\"> User Overview</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Quickly check the number of key users: Nursing Stations, Sales\r\n              Agents, Monitoring Stations and End Users.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tour_step_usersCountM?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n            className: \"tour_step_btn\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\">Ages</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              This section shows the age distribution of individuals in the\r\n              Nursing Home. It helps in understanding the demographics of your\r\n              residents, displayed by age group and gender.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tour_step_agesM?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n            className: \"tour_step_btn\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\">Gender</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              The Gender section provides a visual breakdown of male and female\r\n              residents, giving you a clear understanding of the gender\r\n              distribution in your Nursing Home.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tour_step_genderM?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n            className: \"tour_step_btn\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\">Diseases</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              This section tracks the prevalence of various diseases such as\r\n              Thyroid Disorders, Hearing Loss, Depression, and more. It helps\r\n              you monitor the health trends of your residents.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tour_step_diseasesM?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n            className: \"tour_step_btn\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\">Activity</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              The Activity section shows a summary of all system activities,\r\n              including info, warning, and critical notifications. Here, you can\r\n              monitor the status of any alerts or updates, ensuring your system\r\n              is running smoothly.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tour_step_activityM?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n            className: \"tour_step_btn\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\">Most Alerts</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              This section displays the most frequent alerts in the system,\r\n              allowing you to track any ongoing issues or patterns. You can see\r\n              the total alert count and the distribution of alerts across\r\n              various categories.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tour_step_mostAlertM?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n            className: \"tour_step_btn\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\">Activity Count</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              The Activity Count visualizes the actions performed over time.\r\n              Each circle represents a different level of activity, allowing you\r\n              to monitor trends and track performance across periods.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tour_step_activityCountM?.current,\r\n          nextButtonProps: {\r\n            children: \"Finish\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n            className: \"tour_step_btn\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n      ],\r\n      nursing_home: [\r\n        {\r\n          title: (\r\n            <h1 className=\"text-xl text-primary\"> Welcome, {user?.name}!</h1>\r\n          ),\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Welcome to your Nursing Home Owner Dashboard! As a Nursing Home\r\n              Owner, you have full control over managing nurse accounts,\r\n              overseeing billing and services, and interacting with end users.\r\n              Lets take a look at your responsibilities:\r\n              <ul className=\"list-disc pl-5\">\r\n                <li>Manage nurse accounts and edit their information</li>\r\n                <li>\r\n                  View and manage a list of Elderlies in your Nursing Home\r\n                </li>\r\n                <li>Create and manage end-user accounts</li>\r\n                <li>\r\n                  End users interact solely with you for subscriptions and\r\n                  device-related services\r\n                </li>\r\n              </ul>\r\n            </p>\r\n          ),\r\n          // target: () => allRefs.tour_step_officeDropdown?.current,\r\n          nextButtonProps: {\r\n            children: \"Let's Start\",\r\n            style: buttonStyles,\r\n            variant: \"solid\",\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            className: \"tour_step_btn\",\r\n          },\r\n        },\r\n        // {\r\n        //   title: (\r\n        //     <h1 className=\"text-xl text-primary\"> Daily Activity Summary</h1>\r\n        //   ),\r\n        //   description: (\r\n        //     <p className=\"text-base tracking-tight text-primary/80\">\r\n        //       Displays key metrics such as Indoor Duration, Walking Steps, Skill\r\n        //       Time, Walking Speed, and Room Entry/Exit Count.\r\n        //     </p>\r\n        //   ),\r\n        //   // target: () => allRefs.tour_step_officeDropdown?.current,\r\n        //   nextButtonProps: {\r\n        //     children: \"Start Tour\",\r\n        //     style: buttonStyles,\r\n        //     variant: \"solid\",\r\n        //     size: \"middle\",\r\n        //     color: \"default\",\r\n        //     className: \"tour_step_btn\",\r\n        //   },\r\n        //   prevButtonProps: {\r\n        //     style: buttonStyles2,\r\n        //   },\r\n        // },\r\n\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\"> Most Alerts</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              This section displays the most frequent alerts in the system,\r\n              allowing you to track any ongoing issues or patterns. You can see\r\n              the total alert count and the distribution of alerts across\r\n              various categories.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tour_step_mostAlert?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n            className: \"tour_step_btn\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\">Activity Count</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              The Activity Count visualizes the actions performed over time.\r\n              Each circle represents a different level of activity, allowing you\r\n              to monitor trends and track performance across periods.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tour_step_activityCount?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n            className: \"tour_step_btn\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\">Ages</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              This section shows the age distribution of individuals in the\r\n              Nursing Home. It helps in understanding the demographics of your\r\n              residents, displayed by age group and gender.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tour_step_ages?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n            className: \"tour_step_btn\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\">Gender</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              The Gender section provides a visual breakdown of male and female\r\n              residents, giving you a clear understanding of the gender\r\n              distribution in your Nursing Home.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tour_step_gender?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n            className: \"tour_step_btn\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\">Diseases</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              This section tracks the prevalence of various diseases such as\r\n              Thyroid Disorders, Hearing Loss, Depression, and more. It helps\r\n              you monitor the health trends of your residents.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tour_step_diseases?.current,\r\n          nextButtonProps: {\r\n            children: \"Finish\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n            className: \"tour_step_btn\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n      ],\r\n    };\r\n    setTourSteps(tourStepsByTab[userRole] || []);\r\n    setTimeout(() => {\r\n      if (tourSteps.length > 0 && !seenTours[userRole]) setTourOpen(true);\r\n    }, 2000);\r\n  }, [allRefs]);\r\n  const getActiveTabSteps = () => {\r\n    if (tourSteps.length > 0) {\r\n      return tourSteps;\r\n    } else {\r\n      return [];\r\n    }\r\n  };\r\n  function handleTourFinish() {\r\n    setTourOpen(false);\r\n    const updatedSeenTours = { ...seenTours, [userRole]: true };\r\n    setSeenTours(updatedSeenTours);\r\n    ls.set(\"seenToursDash\", updatedSeenTours);\r\n  }\r\n  return (\r\n    <>\r\n      <RefProvider onRefsUpdate={handleRefsUpdate}>\r\n        <AdminDashboardComponent />\r\n        <ConfigProvider\r\n          theme={{\r\n            token: {\r\n              fontFamily: \"Baloo2\",\r\n              colorPrimary: \"#252F67\",\r\n              colorLinkActive: \"#252F67\",\r\n              colorLinkHover: \"#252F67\",\r\n              colorLink: \"#252F67\",\r\n              primaryColor: \"#252F67\",\r\n            },\r\n          }}\r\n        >\r\n          <Tour\r\n            open={tourOpen}\r\n            onFinish={handleTourFinish}\r\n            steps={getActiveTabSteps()}\r\n            onClose={handleTourFinish}\r\n          />\r\n        </ConfigProvider>\r\n      </RefProvider>\r\n    </>\r\n  );\r\n};\r\nexport default AdminDashboard;\r\n"],"names":["BarChartByGender","data","chartFor","options","setOptions","useState","useEffect","xAxisData","item","yAxisData","range","found","maxValue","newOptions","value","jsx","ReactEcharts","PieChart","chartData","setChartData","datForChart","colorMap","colors","nameMap","TotalAlertChart","problemCount","acc","curr","warningCount","criticalCount","pieData","totalValue","sum","option","BarChart","graphTitle","seriesData","BubbleChart","hasData","params","jsxs","ReactECharts","MonitoringStation","count","chartByAge","chartByGender","diseasesCountByGender","alertsCountByName","alertsCountByElderly","registerRef","useRefContext","stepsRef","useRef","key","IconName","Fragment","SalesOverviewChart","datesArray","totalOrdersArray","TotalSalesChart","colorMapping","setColorMapping","propertyNamesMapping","CountMapping","RiPhoneFindLine","MdOutlineSupportAgent","MdOutlineAddHome","IoLogoAppleAr","MdOutlineRealEstateAgent","FiUser","MdOutlineElderly","PiBuildingOffice","BiDevices","StatusDropdown","row","sharedMethod","useContext","SidebarContext","status","setStatus","handleLoading","sethandleLoading","modalOpen","setModalOpen","handleChange","updateInstallationStatus","res","err","completeChnage","getUserDetails","user","activeSubscriptions","_a","ConfigProvider","Select","SuccessModal","installation","ReportActionModal","_b","_c","_d","_e","_f","indx","self","isUniqueSeenyorKit","i","color","Tag","total","formattedDate","record","InstallerDashboard","loading","setLoading","page","SetPage","setTotal","installationList","setInstallationList","deviceSalesCount","setDeviceSalesCount","getList","query","getInstallationList","getDeviceSalesCounts","useCallback","getDeviceSalesCount","getCompletedandToBeInstalled","CustomTable","index","MonitoringAgencyDashboard","viewType","setViewType","useAlertTableColumns","recentlyClosedAlertTableColumns","alertHistory","setAlertHistory","alertHistoryLoading","setAlertHistoryLoading","limit","setLimit","selectedAlarmType","setSelectedAlarmType","alertHistiryQuery","setAlertHistiryQuery","getEventFilter","devieCount","setDevieCount","alarmsCount","setAlarmsCount","searchResult","setSearchResult","searchQuery","setSearchQuery","selectedRowKeys","setSelectedRowKeys","openAlertCloseModal","setOpenAlertCloseModal","useNavigate","notificationEvent","useNotification","mapViewRef","alarmOptions","getAlartsHistory","getAlertList","dayjs","getElderlyBySearch","getElderlies","getElderlyAndDeviceCount","getAlarmsCounts","endDate","startDate","getAlarmCount","rowSelection","selectedKeys","handleResolveSelected","refreshSomeAPIs","Button","FaCheck","Table","RiHome5Line","MdWarningAmber","MapView","AlertCloseModal","eventKey","RangePicker","DatePicker","onOk","onSearch","AdminDashboardComponent","setPage","dealLoading","setDealLoading","SetUser","ls","role","setRole","mainRole","setMainRole","fromDate","setFromDate","toDate","setToDate","SOOrderStatus","setSOOrderStatus","SOAgentId","setSOAgentId","SBAOrderStatus","setSBAOrderStatus","SBAOrderLocation","setSBAOrderLocation","SBLOrderStatus","setSBLOrderStatus","SBLAgentId","setSBLAgentId","SBPAgentId","setSBPAgentId","SBIAgentId","setSBIAgentId","DDOrderStatus","setDDOrderStatus","DDAgentId","setDDAgentId","office","setOffice","salesAgent","setSalesAgent","officeId","setOfficeId","setCount","salesOverview","setSalesOverview","salesByAgent","setSalesByAgent","salesByLocation","setSalesByLocation","salesByPaymentStatus","setSalesByPaymentStatus","salesByInstallationStatus","setSalesByInstallationStatus","dealDetails","setDealDetails","officeQuery","setOfficeQuery","agentQuery","setAgentQuery","setChartByGender","setChartByAge","setDiseasesCountByGender","setAlertsCountByElderly","setAlertsCountByName","city","setCity","ChartByGender","getChartByGender","ChartByAge","getChartByAge","DiseasesCountByGender","getDiseasesCountByGender","AlertCountByElderly","getAlertsCountByElderly","AlertCountByName","getAlertsCountByName","filteredData","getAlertInfoViaEventDetails","AllCounts","getUsersCount","config","apiItem","SalesOverview","agentId","orderStatus","getSalesOverview","SalesByAgent","getSalesData","SalesByLocation","SalesByPaymentStatus","SalesByInstallationStatus","DealDetails","getDealDetails","newQuery","prevQuery","handleWeeklyMonthly","e","handleDatePicker","getAllOffice","getUser","getAllAgent","getAllCities","getAllCity","WeeklyMonthlyPicker","dateString","agent","statusName","bgColor","label","AdminDashboard","tourOpen","setTourOpen","tourSteps","setTourSteps","allRefs","setAllRefs","seenTours","setSeenTours","saved","userRole","handleRefsUpdate","refs","prevRefs","buttonStyles","buttonStyles2","tourStepsByTab","getActiveTabSteps","handleTourFinish","updatedSeenTours","RefProvider","Tour"],"mappings":"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"}