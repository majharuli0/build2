import{a5 as Z,X as z,r as t,S as $,j as e,Q as q,N as y,_ as F,$ as X,a0 as G,a1 as J,a2 as K,a3 as V,aQ as W}from"./index-DT7KcFIv.js";import{D as Y}from"./index-DiDwAOhp.js";import"./index-BDRfi66H.js";import{A as ee}from"./index-Y6BGInVD.js";import{A as te}from"./AdminSupportAgentTableAction-pnsGabeA.js";try{let s=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},r=new s.Error().stack;r&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[r]="98f054b2-bc25-41f9-985c-ecf6328822a4",s._sentryDebugIdIdentifier="sentry-dbid-98f054b2-bc25-41f9-985c-ecf6328822a4")}catch{}let c;function se(s,r=500,p=!0){p?c||(c=!0,typeof s=="function"&&s(),setTimeout(()=>{c=!1},r)):c||(c=!0,setTimeout(()=>{c=!1,typeof s=="function"&&s()},r))}const be=()=>{const s=Z();let r=z();const[p,w]=t.useState("Dashboard"),{role:v}=t.useContext($),[ae,ne]=t.useState(!1),[f,A]=t.useState("Support Agents"),[L,re]=t.useState("[Nursing Home]â€™s Support Agents"),[T,ie]=t.useState("Add New Support Agent"),[b,C]=t.useState(""),[l,I]=t.useState(""),[E,S]=t.useState(!1),[o,u]=t.useState({current:1,size:10}),[D,le]=t.useState([{text:"Support Agents",bo:!0,warring:!1}]),[M,j]=t.useState({}),[H,P]=t.useState(0);let[k,oe]=t.useState([{title:"Nursing Home",key:"id",render:n=>e.jsx("button",{children:e.jsx(q,{data:n})})},{title:"Contact",render:n=>e.jsx("button",{children:e.jsx("span",{className:" text-[14px] xl:text-base  font-normal text-text-secondary",children:n.contactNumber})})},{title:"",key:"id",width:100,render:n=>e.jsx(te,{getlist:()=>x(a),data:n})}]);const O=["Time","Name"],[de,ce]=t.useState({nursingHomes:0,elderlies:0,devicesConnected:0,monthlyRevenue:0}),[a,m]=t.useState({order:"1",orderType:"time",name:""}),[U,_]=t.useState([]),B=()=>{S(!0)},[ue,me]=t.useState(y.get("user")),Q=()=>{let n=y.get("user"),i=new URLSearchParams(r.search),d={...a},g=i.get("name"),h=i.get("id");w("User"),d[g]=h,d.role="Support Agent",g=="salesAgentId"&&j({nursingHomeId:h,salesAgentId:s.id}),g=="distributorId"&&j({nursingHomeId:h,distributorId:s.id});let N=v;N||(N=n.role),m(d),u({current:1,size:10})},x=n=>{n.role&&se(()=>{W({...n,...o}).then(i=>{var d;P(i.data.total),_((d=i==null?void 0:i.data)==null?void 0:d.records)})})};t.useEffect(()=>{Q()},[]),t.useEffect(()=>{x(a)},[o]),t.useEffect(()=>{l&&a.orderType!=l&&(m({...a,orderType:l.toLowerCase(),order:l==="Time"?"1":"0"}),u({...o,current:1}))},[l]),t.useEffect(()=>{u({...o,current:1})},[a.order]);const R=()=>{m({...a,name:b.trim()}),u({...o,current:1})};return e.jsxs("div",{className:"pl-[20px] pr-[50px]",children:[e.jsxs("div",{className:"h-[100px] flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("div",{className:" text-[28px] font-semibold font-cblock ",children:p})}),e.jsxs("div",{className:"h-[40px] pl-[20px] pr-[20px]  rounded-[20px] bg-cblock   flex items-center ",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",children:e.jsx("path",{d:"M8.65073 2.31039L11.4807 5.14035L4.31724 12.3038L1.48886 9.47387L8.65073 2.31039ZM13.6281 1.62787L12.3661 0.365808C11.8783 -0.121936 11.0863 -0.121936 10.5969 0.365808L9.38799 1.57474L12.218 4.40473L13.6281 2.99457C14.0064 2.61625 14.0064 2.00617 13.6281 1.62787ZM0.00787518 13.4516C-0.0436269 13.6834 0.165643 13.8911 0.397455 13.8347L3.551 13.0701L0.722618 10.2401L0.00787518 13.4516Z",fill:"white"})}),e.jsx("div",{className:"pl-[20px]  text-white text-[14px] font-semibold  ",children:"Edit Nursing Home"})]})]}),e.jsx("div",{className:"pt-[20px] pb-[10px] flex",children:e.jsx(Y,{menus:D,activeTab:f,setActiveTab:A})}),e.jsx("div",{className:"",children:(f=="Support Agents"||f=="Nursing Homes")&&e.jsxs("div",{children:[e.jsxs("div",{className:" bg-white rounded-2xl",children:[e.jsxs("div",{className:" px-[22px] py-6 flex items-start flex-col lg:flex-row justify-between gap-2",children:[e.jsx("div",{className:" flex items-center justify-between w-full",children:e.jsx("h2",{className:" text-2xl font-bold text-text-primary",children:L})}),e.jsxs("div",{className:" flex items-center justify-end gap-5 w-full",children:[e.jsx(F,{search:b,setSearch:C,handBlurchange:R,placeholder:"Search Nursing Home"}),e.jsx(X,{query:a,setQuey:m,selected:l,setSelected:I,data:O}),e.jsxs(G,{onClick:()=>B(),className:" hidden lg:flex min-w-[80px]",children:[e.jsx(ee,{})," ",T]})]})]}),e.jsx("div",{className:" grid grid-cols-1",children:e.jsx(J.Provider,{value:{getlist:x,query:a,totle:H,page:o,SetPage:u},children:e.jsx(K,{tableData:U,columns:k})})})]}),e.jsx(V,{item:{},changeParams:M,getlist:()=>x(a),role:a.role,modalOPen:E,setModalOpen:S})]})})]})};export{be as default};
//# sourceMappingURL=index-Cl-A5QV8.js.map
