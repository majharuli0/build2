import{u as h,r as l,j as t,aO as y,Z as b,Y as j,_ as v,a1 as N,ah as w}from"./index-DT7KcFIv.js";import{E}from"./Elderly-Br4PyBpI.js";try{let r=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},d=new r.Error().stack;d&&(r._sentryDebugIds=r._sentryDebugIds||{},r._sentryDebugIds[d]="cb1d1603-abed-4006-8ca9-7a8357976531",r._sentryDebugIdIdentifier="sentry-dbid-cb1d1603-abed-4006-8ca9-7a8357976531")}catch{}function C(r){const d=h(),n=e=>{window.scrollTo(0,0),d(`/supporter/elderlies/elderly-profile/${e==null?void 0:e._id}`)},o={support_agent:["elderlyName","activeAlert","allergies","diseases","viewProfile"],nurse:["elderlyName","activeAlert","allergies","diseases","medications","viewProfile"],end_user:["elderlyName","activeAlert","allergies","diseases","medications","viewProfile"]},u={elderlyName:{title:"User Name",render:e=>t.jsx(E,{onClick:()=>n(e),data:e})},roomName:{title:"Room Name",dataIndex:"roomName",render:e=>t.jsx("span",{children:e})},activeAlert:{title:"Activity Fall Alerts",dataIndex:"unresolved_alarm_count",render:e=>t.jsx("span",{children:e})},address:{title:"Address",width:"230px",render:e=>t.jsx("span",{className:"!w-[230px] text-nowrap",children:e.address})},allergies:{title:"Comments",render:e=>{var s;return t.jsx("span",{children:((s=e.comments)==null?void 0:s.filter(a=>a.category==="Allergy").map(a=>a.comment).join(", "))||"N/A"})}},diseases:{title:"Conditions",render:e=>{var s;return t.jsx("span",{children:((s=e.diseases)==null?void 0:s.map(a=>a).join(", "))||"N/A"})}},medications:{title:"Daily Routine",render:e=>{var s;return t.jsx("span",{children:(s=e.medications)==null?void 0:s.map(a=>a.name).join(", ")})}},viewOnMap:{title:"View On Map",render:e=>t.jsx("span",{className:"flex items-center transition-all duration-300 justify-start gap-2 text-sm font-medium text-text-primary hover:text-primary cursor-pointer p-2 rounded-md w-fit text-center hover:bg-slate-100",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("a",{href:`https://www.google.com/maps?q=${e.latitude},${e.longitude}`,target:"_blank",rel:"noopener noreferrer",className:"text-base font-medium !text-blue-500",children:"View on Map"}),t.jsx(y,{size:18,className:"text-blue-500"})]})})},viewProfile:{title:"View Profile",render:e=>t.jsx("span",{className:"flex items-center transition-all duration-300 justify-start gap-2 text-sm font-medium text-text-primary hover:text-primary cursor-pointer p-2 rounded-md w-fit text-center hover:bg-slate-100",children:t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("a",{onClick:()=>n(e),className:"text-base font-medium !text-blue-500",children:"View"})})})}},[c,m]=l.useState([]);return l.useEffect(()=>{console.log("Current role:"),console.log("Available roles:",Object.keys(o));{const e=o.support_agent.map(s=>u[s]);m(e)}},[]),c}function A(){var f;const[r,d]=l.useState(""),[n,o]=l.useState([]),[u,c]=l.useState(!1),[m,e]=l.useState({}),s=C(),a=l.useMemo(()=>b(i=>{e(p=>({...p,name:i.trim()}))},500),[]);l.useEffect(()=>()=>a.cancel(),[a]);const g=i=>{d(i),i===""?(a.cancel(),e(p=>({...p,name:""}))):a(i)},x=l.useCallback(()=>{c(!0),j(m).then(i=>o(i)).catch(i=>console.log(i)).finally(()=>c(!1))},[m]);return l.useEffect(()=>{x()},[x]),t.jsxs("div",{id:"Elderlies",className:"w-full flex flex-col gap-4 justify-center items-center bg-white rounded-2xl p-6 mt-8",children:[t.jsxs("div",{id:"Elderlies_Header",className:"w-full flex justify-between",children:[t.jsx("h1",{className:"text-[24px] font-bold",children:"Users"}),t.jsx("div",{className:"flex gap-4",children:t.jsx(v,{search:r,setSearch:g,placeholder:"Search Users"})})]}),t.jsx(N.Provider,{value:{total:(f=n==null?void 0:n.data)==null?void 0:f.length,page:1,SetPage:()=>{}},children:t.jsx(w,{loading:u,columns:s,tableData:n==null?void 0:n.data})})]})}export{A as default};
//# sourceMappingURL=ElderlyList-DPoWl3ON.js.map
