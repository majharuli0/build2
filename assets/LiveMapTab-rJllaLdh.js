import{r as a,b2 as b,bn as f,j as s,T as m,ha as o,a$ as j,b0 as g}from"./index-DYNZp1oE.js";try{let i=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new i.Error().stack;t&&(i._sentryDebugIds=i._sentryDebugIds||{},i._sentryDebugIds[t]="a2b420d7-0698-4c62-949d-77bbacc3316a",i._sentryDebugIdIdentifier="sentry-dbid-a2b420d7-0698-4c62-949d-77bbacc3316a")}catch{}function v({data:i={}}){var x;const{deviceData:t}=a.useContext(b),l=a.useContext(f),{elderlyDetails:n}=l||{},r=(i==null?void 0:i.device_no)||(n==null?void 0:n.deviceId),[c,u]=a.useState([]);return a.useEffect(()=>{var d;const e=((d=t[r])==null?void 0:d.position)||[];u(e)},[t,r]),a.useMemo(()=>{const e=t[r],d=e==null?void 0:e.hbstaticsTimestamp,h=Date.now();return!(e!=null&&e.hbstatics)||!d||(h-d)/1e3>90?null:e.hbstatics},[(x=t[r])==null?void 0:x.hbstaticsTimestamp]),s.jsx("div",{className:"flex gap-2 h-fit",children:s.jsxs("div",{className:"top-2 left-2 border-2 p-0 rounded-full flex items-center gap-1 pr-2 h-fit w-fit z-50",children:[(c==null?void 0:c.length)>0?s.jsx(m,{color:"white",overlayInnerStyle:{color:"black",padding:"10px"},title:c==null?void 0:c.map((e,d)=>s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{style:{backgroundColor:e==null?void 0:e.color},className:"p-2 rounded-full",children:s.jsx(o,{size:14,color:"white"})}),s.jsx("div",{children:s.jsx("p",{className:"text-sm m-0",children:e==null?void 0:e.posture})})]},d)),children:s.jsx("div",{className:"flex -space-x-4 cursor-pointer",children:c==null?void 0:c.map((e,d)=>s.jsx("div",{style:{backgroundColor:e==null?void 0:e.color},className:"p-1 rounded-full border-2 border-white",children:s.jsx(o,{size:16,color:"white"})},d))})}):s.jsx("div",{className:"bg-primary p-1 rounded-full border-2 border-white",children:s.jsx(o,{size:16,color:"white"})}),s.jsx("span",{className:"font-bold text-lg",children:c?c==null?void 0:c.length:0})]})})}function N(){var l;const i=a.useContext(f),{elderlyDetails:t}=i||{};return s.jsx("div",{className:"flex flex-col gap-4 mt-6 overflow-hidden",children:(t==null?void 0:t.rooms)&&((l=t==null?void 0:t.rooms)==null?void 0:l.filter(n=>n.device_no).map((n,r)=>s.jsxs("div",{className:"flex flex-col gap-4 bg-white rounded-2xl p-4 h-[700px]",children:[s.jsx("h1",{className:"text-2xl font-bold",children:n==null?void 0:n.name}),s.jsxs("div",{className:"flex h-full",children:[s.jsx(v,{data:n}),s.jsxs("div",{id:"roomMap",className:"w-fit h-full mt-14 mx-auto",children:[(n==null?void 0:n.mount_type)===2&&s.jsx(j,{roomInfo:n}),(n==null?void 0:n.mount_type)===1&&s.jsx(g,{roomInfo:n})]})]})]},r)))})}export{N as default};
//# sourceMappingURL=LiveMapTab-rJllaLdh.js.map
