{"version":3,"mappings":"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","names":["SkeletonView","jsx","Skeleton","OverviewTab","lazy","__vitePreload","ReportsTab","SleepTab","HealthTab","EmergencyContactsTab","DevicesTab","ActivityTab","LiveMapTab","CommunicationTab","HealthDataTab","AlertHistoryTab","tabItems","HomeOutlined","MoonOutlined","HeartOutlined","PullRequestOutlined","EnvironmentOutlined","MessageOutlined","DatabaseOutlined","ContactsOutlined","AlertOutlined","MobileOutlined","FileTextOutlined","ElderlyProfile","dailyRepDate","setModalDataList","useContext","SidebarContext","elderlyDetails","setElderlyDetails","useState","sleepData","setSleepData","size","setSize","location","useLocation","navigate","useNavigate","params","useParams","tourOpen","setTourOpen","memoizedTabItems","useMemo","allRefs","setAllRefs","seenTours","setSeenTours","saved","ls","initialTab","activeTab","setActiveTab","tourSteps","setTourSteps","sleepDataLoading","setSleepDataLoading","refsReady","setRefsReady","tourTimeoutRef","useRef","handleRefsUpdate","useCallback","refs","prevRefs","readyTabs","key","tab","prev","newReadyTabs","useEffect","useLayoutEffect","resizeCharts","chart","handleResize","getElderlyDetails","getDetails","res","updatedElderlyDetails","_b","_a","item","_d","_c","fatchSleepData","_f","_e","dayjs","error","uids","to_date","getSleepData","tabListRef","isDragging","setIsDragging","startX","setStartX","scrollLeft","setScrollLeft","isScrollableLeft","setIsScrollableLeft","isScrollableRight","setIsScrollableRight","handleMouseDown","e","handleMouseMove","walk","updateScrollIndicators","handleMouseUp","handleMouseLeave","scrollWidth","clientWidth","buttonStyles","buttonStyles2","jsxs","getActiveTabSteps","handleTourFinish","updatedSeenTours","RefProvider","WebSocketProvider","CustomContext","ConfigProvider","Tabs","props","DefaultTabBar","Suspense","Tour"],"ignoreList":[],"sources":["../../src/Pages/Elderlies/Utiles/Skeleton.jsx","../../src/Pages/Elderlies/tabs.jsx","../../src/Pages/Elderlies/ElderlyProfile.jsx"],"sourcesContent":["import { Skeleton } from \"antd\";\r\n\r\nexport default function SkeletonView() {\r\n  return (\r\n    <div className=\"h-full w-full mt-6\">\r\n      <Skeleton />\r\n    </div>\r\n  );\r\n}\r\n","import {\r\n  HomeOutlined,\r\n  MoonOutlined,\r\n  HeartOutlined,\r\n  PullRequestOutlined,\r\n  BarChartOutlined,\r\n  EnvironmentOutlined,\r\n  LineChartOutlined,\r\n  MessageOutlined,\r\n  DatabaseOutlined,\r\n  AlertOutlined,\r\n  ContactsOutlined,\r\n  MobileOutlined,\r\n  FileTextOutlined,\r\n} from \"@ant-design/icons\";\r\nimport React, {\r\n  useState,\r\n  lazy,\r\n  Suspense,\r\n  useLayoutEffect,\r\n  useMemo,\r\n  useCallback,\r\n  useEffect,\r\n  useContext,\r\n  useRef,\r\n} from \"react\";\r\n// Lazy load components\r\nconst OverviewTab = lazy(() =>\r\n  import(\"./Components/TabContents/Overview/OverviewTab\")\r\n);\r\nconst ReportsTab = lazy(() =>\r\n  import(\"./Components/TabContents/Reports/ReportsTab\")\r\n);\r\nconst SleepTab = lazy(() => import(\"./Components/TabContents/Sleep/SleepTab\"));\r\nconst HealthTab = lazy(() =>\r\n  import(\"./Components/TabContents/Health/HealthTab\")\r\n);\r\nconst EmergencyContactsTab = lazy(() =>\r\n  import(\"./Components/TabContents/EmergencyContacts/EmergencyContactsTab\")\r\n);\r\nconst DevicesTab = lazy(() =>\r\n  import(\"./Components/TabContents/Devices/DevicesTab\")\r\n);\r\nconst DataAnalyzeTab = lazy(() =>\r\n  import(\"./Components/TabContents/DataAnalyze/DataAnalyzeTab\")\r\n);\r\nconst TrendTab = lazy(() => import(\"./Components/TabContents/Trends/TrendTab\"));\r\nconst ActivityTab = lazy(() =>\r\n  import(\"./Components/TabContents/Activity/ActivityTab\")\r\n);\r\nconst LiveMapTab = lazy(() =>\r\n  import(\"./Components/TabContents/LiveMap/LiveMapTab\")\r\n);\r\nconst CommunicationTab = lazy(() =>\r\n  import(\"./Components/TabContents/Communication/CommunicationTab\")\r\n);\r\nconst HealthDataTab = lazy(() =>\r\n  import(\"./Components/TabContents/HealthData/HealthDataTab\")\r\n);\r\nconst AlertHistoryTab = lazy(() =>\r\n  import(\"./Components/TabContents/Alerts/AlertsHistoryTab\")\r\n);\r\nexport const tabItems = [\r\n  {\r\n    label: \"Overview\",\r\n    key: \"overview\",\r\n    icon: <HomeOutlined />,\r\n    component: <OverviewTab />,\r\n  },\r\n  {\r\n    label: \"Sleep\",\r\n    key: \"sleep\",\r\n    icon: <MoonOutlined />,\r\n    component: <SleepTab />,\r\n  },\r\n  {\r\n    label: \"Wellness Insights\",\r\n    key: \"health\",\r\n    icon: <HeartOutlined />,\r\n    component: <HealthTab />,\r\n  },\r\n  {\r\n    label: \"Activity\",\r\n    key: \"activity\",\r\n    icon: <PullRequestOutlined />,\r\n    component: <ActivityTab />,\r\n  },\r\n  // {\r\n  //   label: \"Data Analyze\",\r\n  //   key: \"dataAnalyze\",\r\n  //   icon: <BarChartOutlined />,\r\n  //   component: <DataAnalyzeTab />,\r\n  // },\r\n  {\r\n    label: \"Live Map\",\r\n    key: \"liveMap\",\r\n    icon: <EnvironmentOutlined />,\r\n    component: <LiveMapTab />,\r\n  },\r\n  // {\r\n  //   label: \"Trends\",\r\n  //   key: \"trends\",\r\n  //   icon: <LineChartOutlined />,\r\n  //   component: <TrendTab />,\r\n  // },\r\n  {\r\n    label: \"Communication\",\r\n    key: \"communication\",\r\n    icon: <MessageOutlined />,\r\n    component: <CommunicationTab />,\r\n  },\r\n  {\r\n    label: \"Personal Records\",\r\n    key: \"healthData\",\r\n    icon: <DatabaseOutlined />,\r\n    component: <HealthDataTab />,\r\n  },\r\n  {\r\n    label: \"Trusted Contacts\",\r\n    key: \"emergencyContacts\",\r\n    icon: <ContactsOutlined />,\r\n    component: <EmergencyContactsTab />,\r\n  },\r\n  {\r\n    label: \"Activity History\",\r\n    key: \"alertHistory\",\r\n    icon: <AlertOutlined />,\r\n    component: <AlertHistoryTab />,\r\n  },\r\n  {\r\n    label: \"Devices\",\r\n    key: \"devices\",\r\n    icon: <MobileOutlined />,\r\n    component: <DevicesTab />,\r\n  },\r\n  {\r\n    label: \"Reports\",\r\n    key: \"reports\",\r\n    icon: <FileTextOutlined />,\r\n    component: <ReportsTab />,\r\n  },\r\n];\r\n","import React, {\r\n  useState,\r\n  lazy,\r\n  Suspense,\r\n  useLayoutEffect,\r\n  useMemo,\r\n  useCallback,\r\n  useEffect,\r\n  useContext,\r\n  useRef,\r\n} from \"react\";\r\nimport { Tabs, ConfigProvider, Tour, Button } from \"antd\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport {\r\n  HomeOutlined,\r\n  MoonOutlined,\r\n  HeartOutlined,\r\n  PullRequestOutlined,\r\n  BarChartOutlined,\r\n  EnvironmentOutlined,\r\n  LineChartOutlined,\r\n  MessageOutlined,\r\n  DatabaseOutlined,\r\n  AlertOutlined,\r\n  ContactsOutlined,\r\n  MobileOutlined,\r\n  FileTextOutlined,\r\n} from \"@ant-design/icons\";\r\n\r\nimport \"./style.css\";\r\nimport SkeletonView from \"./Utiles/Skeleton\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\n\r\n// Lazy load components\r\nconst OverviewTab = lazy(() =>\r\n  import(\"./Components/TabContents/Overview/OverviewTab\")\r\n);\r\nconst ReportsTab = lazy(() =>\r\n  import(\"./Components/TabContents/Reports/ReportsTab\")\r\n);\r\nconst SleepTab = lazy(() => import(\"./Components/TabContents/Sleep/SleepTab\"));\r\nconst HealthTab = lazy(() =>\r\n  import(\"./Components/TabContents/Health/HealthTab\")\r\n);\r\nconst EmergencyContactsTab = lazy(() =>\r\n  import(\"./Components/TabContents/EmergencyContacts/EmergencyContactsTab\")\r\n);\r\nconst DevicesTab = lazy(() =>\r\n  import(\"./Components/TabContents/Devices/DevicesTab\")\r\n);\r\nconst DataAnalyzeTab = lazy(() =>\r\n  import(\"./Components/TabContents/DataAnalyze/DataAnalyzeTab\")\r\n);\r\nconst TrendTab = lazy(() => import(\"./Components/TabContents/Trends/TrendTab\"));\r\nconst ActivityTab = lazy(() =>\r\n  import(\"./Components/TabContents/Activity/ActivityTab\")\r\n);\r\nconst LiveMapTab = lazy(() =>\r\n  import(\"./Components/TabContents/LiveMap/LiveMapTab\")\r\n);\r\nconst CommunicationTab = lazy(() =>\r\n  import(\"./Components/TabContents/Communication/CommunicationTab\")\r\n);\r\nconst HealthDataTab = lazy(() =>\r\n  import(\"./Components/TabContents/HealthData/HealthDataTab\")\r\n);\r\nconst AlertHistoryTab = lazy(() =>\r\n  import(\"./Components/TabContents/Alerts/AlertsHistoryTab\")\r\n);\r\nimport ls from \"store2\";\r\nimport { getSleepData, subscribeToMqtt } from \"@/api/deviceReports\";\r\nimport { getDetails } from \"@/api/elderly\";\r\nimport { CustomContext } from \"@/Context/UseCustomContext\";\r\nimport { SidebarContext } from \"@/Context/CustomContext\";\r\nimport dayjs from \"dayjs\";\r\nimport { RefProvider, useRefContext } from \"@/Context/RefContext\";\r\nimport { getAlertInfoViaEvent } from \"@/utils/helper\";\r\nimport { speak } from \"@/utils/helper\";\r\nimport { useNotification } from \"@/Context/useNotification\";\r\nimport { tabItems } from \"./tabs\";\r\nimport { WebSocketProvider } from \"@/Context/WebSoketHook\";\r\nexport default function ElderlyProfile() {\r\n  const { dailyRepDate, setModalDataList } = useContext(SidebarContext);\r\n  const [elderlyDetails, setElderlyDetails] = useState({});\r\n  const [sleepData, setSleepData] = useState([]);\r\n  const [size, setSize] = useState(\"small\");\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const params = useParams();\r\n  const [tourOpen, setTourOpen] = useState(false);\r\n  const memoizedTabItems = useMemo(() => tabItems, []);\r\n  const [allRefs, setAllRefs] = useState({});\r\n  const [seenTours, setSeenTours] = useState(() => {\r\n    const saved = ls.get(\"seenTours\");\r\n    return saved ? saved : {};\r\n  });\r\n  const queryParams = useMemo(\r\n    () => new URLSearchParams(location.search),\r\n    [location.search]\r\n  );\r\n  const initialTab = queryParams.get(\"tab\") || \"overview\";\r\n  const [activeTab, setActiveTab] = useState(initialTab);\r\n  const [tourSteps, setTourSteps] = useState({});\r\n  const [sleepDataLoading, setSleepDataLoading] = useState(true);\r\n  const [refsReady, setRefsReady] = useState({});\r\n  const tourTimeoutRef = useRef(null);\r\n  // Update refs when provided by RefProvider\r\n  const handleRefsUpdate = useCallback((refs) => {\r\n    setAllRefs((prevRefs) => {\r\n      if (prevRefs !== refs) {\r\n        // Compare references\r\n        return refs;\r\n      }\r\n      return prevRefs;\r\n    });\r\n\r\n    const readyTabs = {};\r\n    Object.keys(refs).forEach((key) => {\r\n      if (key.startsWith(\"tab_\") && refs[key].current) {\r\n        const tab = key.split(\"_\")[1];\r\n        readyTabs[tab] = true;\r\n      }\r\n    });\r\n\r\n    setRefsReady((prev) => {\r\n      const newReadyTabs = { ...prev, ...readyTabs };\r\n      if (JSON.stringify(newReadyTabs) !== JSON.stringify(prev)) {\r\n        return newReadyTabs; // Only update if content changes\r\n      }\r\n      return prev;\r\n    });\r\n  }, []);\r\n  // Close tour and clear timeout when switching tabs\r\n  useEffect(() => {\r\n    setTourOpen(false);\r\n    document.body.classList.remove(\"no-scroll\"); // Remove scroll lock\r\n    if (tourTimeoutRef.current) {\r\n      clearTimeout(tourTimeoutRef.current); // Prevent tour from opening for previous tab\r\n    }\r\n  }, [activeTab]);\r\n\r\n  // Open tour after a 2-second delay if refs are ready and tour hasnâ€™t been seen\r\n  useEffect(() => {\r\n    if (refsReady[activeTab] && !seenTours[activeTab]) {\r\n      console.log(\"Calling Inside\");\r\n      console.log(allRefs);\r\n\r\n      tourTimeoutRef.current = setTimeout(() => {\r\n        setTourOpen(true);\r\n        document.body.classList.add(\"no-scroll\");\r\n      }, 2000);\r\n    }\r\n  }, [activeTab, refsReady[activeTab], seenTours[activeTab]]);\r\n  const previousPathnameRef = useRef(location.pathname);\r\n  // const [sleepData, setSleepData] = useState([]);\r\n  // const elderlyDetails = ls.get(\"elderly_details\");\r\n  // Define tab items with their associated components and icons\r\n\r\n  // Sync URL with activeTab state\r\n  useLayoutEffect(() => {\r\n    ls.set(\"activeElderlyTab\", activeTab);\r\n    navigate(`${location.pathname}?tab=${activeTab}`, { replace: true });\r\n  }, [activeTab]);\r\n\r\n  useEffect(() => {\r\n    const queryParams = new URLSearchParams(location.search);\r\n    const tab = queryParams.get(\"tab\");\r\n    if (tab && tab !== activeTab) {\r\n      setActiveTab(tab);\r\n    }\r\n  }, [location.search]);\r\n\r\n  const resizeCharts = useCallback(() => {\r\n    const charts = document.querySelectorAll(\".echarts\");\r\n    charts.forEach((chart) => {\r\n      if (chart && chart.echartsInstance) {\r\n        chart.echartsInstance.resize();\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  useLayoutEffect(() => {\r\n    const handleResize = () => resizeCharts();\r\n    window.addEventListener(\"resize\", handleResize);\r\n    return () => window.removeEventListener(\"resize\", handleResize);\r\n  }, [resizeCharts]);\r\n\r\n  //get elderly details\r\n  const getElderlyDetails = useCallback(() => {\r\n    getDetails({ id: params.id })\r\n      .then((res) => {\r\n        const updatedElderlyDetails = {\r\n          ...res?.data,\r\n          // deviceId: \"E598A2CB69C3,\",\r\n          deviceId:\r\n            res?.data?.rooms?.length > 0\r\n              ? res.data.rooms\r\n                  .filter((item) => item.device_no)\r\n                  .map((item) => item.device_no)\r\n                  .join(\",\")\r\n              : \"\",\r\n          bedRoomIds:\r\n            res?.data?.rooms?.length > 0\r\n              ? res.data.rooms\r\n                  .filter((item) => item.device_no && item.room_type == 2)\r\n                  .map((item) => item.device_no)\r\n                  .join(\",\")\r\n              : \"\",\r\n        };\r\n\r\n        setElderlyDetails(updatedElderlyDetails);\r\n        ls.set(\"elderly_details\", updatedElderlyDetails);\r\n        // subscribesToMqtt({\r\n        //   uids:\r\n        //     res?.data?.rooms?.length > 0\r\n        //       ? res.data.rooms\r\n        //           .filter((item) => item.device_no)\r\n        //           .map((item) => item.device_no)\r\n        //           .join(\",\")\r\n        //       : \"\",\r\n        // });\r\n        fatchSleepData({\r\n          uids:\r\n            res?.data?.rooms?.length > 0\r\n              ? res.data.rooms\r\n                  .filter((item) => item.device_no && item.room_type == 2)\r\n                  .map((item) => item.device_no)\r\n                  .join(\",\")\r\n              : \"\",\r\n          to_date: dayjs().subtract(1, \"day\").format(\"YYYY-MM-DD\"),\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"error ==================>\", error);\r\n        setSleepDataLoading(false);\r\n      });\r\n  }, [dailyRepDate]);\r\n  useEffect(() => {\r\n    ls.set(\"elderly_details\", []);\r\n    ls.set(\"sleepData\", []);\r\n    setSleepDataLoading(true);\r\n    getElderlyDetails();\r\n  }, [getElderlyDetails]);\r\n  function fatchSleepData({ uids, to_date }) {\r\n    setSleepDataLoading(true);\r\n    getSleepData({\r\n      uids: uids,\r\n      elderly_id: params.id,\r\n      to_date: dailyRepDate || to_date,\r\n    })\r\n      .then((res) => {\r\n        setSleepData(res?.data);\r\n        ls.set(\"sleepData\", res?.data);\r\n        setSleepDataLoading(false);\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"error ==================>\", error);\r\n        setSleepDataLoading(false);\r\n      });\r\n  }\r\n  // const subscribesToMqtt = useCallback(\r\n  //   (data) => {\r\n  //     const currentPathname = location.pathname;\r\n  //     const isElderlyProfile = currentPathname.includes(\r\n  //       \"/supporter/elderlies/elderly-profile\"\r\n  //     );\r\n\r\n  //     if (isElderlyProfile) {\r\n  //       const uids = data?.uids.split(\",\");\r\n\r\n  //       uids.forEach((uid) => {\r\n  //         subscribeToMqtt({\r\n  //           uid: uid,\r\n  //           messageType: [\"1\", \"2\", \"3\", \"4\"],\r\n  //           topics: {\r\n  //             pub: [uid],\r\n  //           },\r\n  //         })\r\n  //           .then((res) => {\r\n  //             console.log(`Subscription for UID ${uid}:`, res);\r\n  //           })\r\n  //           .catch((err) => {\r\n  //             console.log(`Error for UID ${uid}:`, err);\r\n  //           });\r\n  //       });\r\n  //     }\r\n  //   },\r\n  //   [params.id]\r\n  // );\r\n\r\n  const tabListRef = useRef(null);\r\n  const [isDragging, setIsDragging] = useState(false);\r\n  const [startX, setStartX] = useState(0);\r\n  const [scrollLeft, setScrollLeft] = useState(0);\r\n\r\n  const [isScrollableLeft, setIsScrollableLeft] = useState(false);\r\n  const [isScrollableRight, setIsScrollableRight] = useState(true);\r\n\r\n  const handleMouseDown = (e) => {\r\n    if (e.button !== 0) return; // Only respond to the left mouse button\r\n    setIsDragging(true);\r\n    setStartX(e.pageX - tabListRef.current.offsetLeft);\r\n    setScrollLeft(tabListRef.current.scrollLeft);\r\n  };\r\n\r\n  const handleMouseMove = (e) => {\r\n    if (!isDragging) return;\r\n    e.preventDefault();\r\n    const x = e.pageX - tabListRef.current.offsetLeft;\r\n    const walk = (x - startX) * 0.8; // Adjust multiplier for smoothness\r\n    tabListRef.current.scrollLeft = scrollLeft - walk;\r\n\r\n    // Update indicators with requestAnimationFrame for better performance\r\n    requestAnimationFrame(updateScrollIndicators);\r\n  };\r\n\r\n  const handleMouseUp = () => setIsDragging(false);\r\n  const handleMouseLeave = () => setIsDragging(false);\r\n\r\n  const updateScrollIndicators = () => {\r\n    if (!tabListRef.current) return;\r\n    const { scrollLeft, scrollWidth, clientWidth } = tabListRef.current;\r\n    setIsScrollableLeft(scrollLeft > 0);\r\n    setIsScrollableRight(scrollLeft + clientWidth < scrollWidth);\r\n  };\r\n\r\n  useEffect(() => {\r\n    updateScrollIndicators();\r\n  }, [tabItems]);\r\n\r\n  const buttonStyles = {\r\n    fontSize: \"14px\",\r\n    padding: \"14px 18px\",\r\n    borderRadius: \"8px\",\r\n  };\r\n  const buttonStyles2 = {\r\n    fontSize: \"14px\",\r\n    padding: \"14px 18px\",\r\n    borderRadius: \"8px\",\r\n  };\r\n\r\n  useEffect(() => {\r\n    const tourStepsByTab = {\r\n      overview: [\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\">Sleep Overview</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Shows sleep-related timestamps like when the person went to bed,\r\n              fell asleep, and woke up.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tab_overview_step2?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n          },\r\n        },\r\n        {\r\n          title: (\r\n            <h1 className=\"text-xl text-primary\">Current Health Status</h1>\r\n          ),\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Displays real-time heart rate and breathing patterns.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tab_overview_step3?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\">Wellness Score</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Displays your overall wellness score based on various health\r\n              metrics, including activity levels, heart rate, and recovery\r\n              trends.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tab_overview_step4?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: (\r\n            <h1 className=\"text-xl text-primary\">\r\n              Sensitivity Indicators & Special Needs\r\n            </h1>\r\n          ),\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Provides insights into personal health sensitivities, special\r\n              needs, and custom health concerns, including specific conditions\r\n              or risk factors added by the user.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tab_overview_step5?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\">Sleep Pattern</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Visual representation of sleep phases, breathing disruptions, and\r\n              awakenings.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tab_overview_step6?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\">Live Room Map</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Shows the placement of the bed and other objects within the\r\n              monitored room and live user activity.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tab_overview_step7?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        // {\r\n        //   title: <h1 className=\"text-xl text-primary\">Upcoming Events</h1>,\r\n        //   description: (\r\n        //     <p className=\"text-base tracking-tight text-primary/80\">\r\n        //       Lists scheduled activities and important dates.\r\n        //     </p>\r\n        //   ),\r\n        //   target: () => allRefs.tab_overview_step8?.current,\r\n        //   nextButtonProps: {\r\n        //     children: \"Next\",\r\n        //     style: buttonStyles,\r\n        //     size: \"middle\",\r\n        //     color: \"default\",\r\n        //     variant: \"solid\",\r\n        //   },\r\n        //   prevButtonProps: {\r\n        //     style: buttonStyles2,\r\n        //   },\r\n        // },\r\n        {\r\n          title: (\r\n            <h1 className=\"text-xl text-primary\">Recent Notification Log</h1>\r\n          ),\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Displays recent alerts and observations related to the users's\r\n              activities.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tab_overview_step8?.current,\r\n          nextButtonProps: {\r\n            children: \"Finish\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n      ],\r\n      sleep: [\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\">Sleep Score</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Displays an overall sleep score and efficiency.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tab_sleep_step1?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\">Sleep Events</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Tracks key sleep events such as breathing disruptions, deep\r\n              breathing phases, and other significant occurrences that may\r\n              impact sleep quality.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tab_sleep_step2?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\">Sleep Timeline</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              A detailed visual representation of your sleep stages, showing\r\n              when you were awake, in light sleep, or deep sleep throughout the\r\n              night.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tab_sleep_step3?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\">Sleep Data & Reports</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              This section provides detailed graphs and charts for sleep\r\n              duration, quality, disturbances, bed exits, and trends over 30\r\n              days.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tab_sleep_step4?.current,\r\n          nextButtonProps: {\r\n            children: \"Finish\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n          mask: false,\r\n        },\r\n      ],\r\n      health: [\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\">Wellness Overview</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Displays key health indicators, including Pulse Rhythm, Breathing\r\n              Rhythm, and the total count of Wellness Events.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tab_health_step1?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: (\r\n            <h1 className=\"text-xl text-primary\">\r\n              Current Heart & Breathing Patterns\r\n            </h1>\r\n          ),\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Displays real-time heart rate and breathing patterns, along with\r\n              today's average, minimum, and maximum values.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tab_health_step2?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: (\r\n            <h1 className=\"text-xl text-primary\"> Breathing Rate Trends</h1>\r\n          ),\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Displays your breathing rate trends from the past week,\r\n              highlighting fluctuations and patterns for better insights.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tab_health_step3?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\">Heart Rate Trends</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Provides a summary of your heart rate variations over the last 7\r\n              days, helping you track patterns and overall wellness.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tab_health_step4?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: (\r\n            <h1 className=\"text-xl text-primary\">\r\n              {\" \"}\r\n              Wellness Patterns & Insights\r\n            </h1>\r\n          ),\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Visualizes key metrics such as sleep disturbances, stress levels,\r\n              and other important trends through interactive graphs and reports.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tab_health_step5?.current,\r\n          nextButtonProps: {\r\n            children: \"Finish\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n          mask: false,\r\n        },\r\n      ],\r\n      activity: [\r\n        {\r\n          title: (\r\n            <h1 className=\"text-xl text-primary\"> Daily Activity Summary</h1>\r\n          ),\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Displays key metrics such as Indoor Duration, Walking Steps, Skill\r\n              Time, Walking Speed, and Room Entry/Exit Count.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tab_activity_step1?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: (\r\n            <h1 className=\"text-xl text-primary\"> Daily Routine Trends</h1>\r\n          ),\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Tracks sleep-related trends such as when you went to bed, fell\r\n              asleep, woke up, and got up, helping you understand your daily\r\n              habits.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tab_activity_step2?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: <h1 className=\"text-xl text-primary\"> Routine Overview</h1>,\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Displays key routine patterns, including bedtime, wake-up time,\r\n              and time spent in different activities throughout the day.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tab_activity_step3?.current,\r\n          nextButtonProps: {\r\n            children: \"Next\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n          },\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n        },\r\n        {\r\n          title: (\r\n            <h1 className=\"text-xl text-primary\">\r\n              {\" \"}\r\n              Walking & Mobility Insights\r\n            </h1>\r\n          ),\r\n          description: (\r\n            <p className=\"text-base tracking-tight text-primary/80\">\r\n              Visualizes trends in Walking Steps, Walking Speed, and Room\r\n              Entry/Exit Frequency over 30 days.\r\n            </p>\r\n          ),\r\n          target: () => allRefs.tab_activity_step4?.current,\r\n          nextButtonProps: {\r\n            children: \"Finish\",\r\n            style: buttonStyles,\r\n            size: \"middle\",\r\n            color: \"default\",\r\n            variant: \"solid\",\r\n          },\r\n          placement: \"top\",\r\n          prevButtonProps: {\r\n            style: buttonStyles2,\r\n          },\r\n          mask: false,\r\n        },\r\n      ],\r\n    };\r\n    setTourSteps(tourStepsByTab[activeTab] || []);\r\n  }, [refsReady[activeTab], activeTab]);\r\n\r\n  const getActiveTabSteps = () => {\r\n    if (tourSteps.length > 0) {\r\n      return tourSteps;\r\n    } else {\r\n      return [];\r\n    }\r\n  };\r\n  const handleTourFinish = () => {\r\n    setTourOpen(false);\r\n    document.body.classList.remove(\"no-scroll\");\r\n    const updatedSeenTours = { ...seenTours, [activeTab]: true };\r\n    setSeenTours(updatedSeenTours);\r\n    ls.set(\"seenTours\", updatedSeenTours);\r\n  };\r\n  return (\r\n    <div id=\"elderly-profile-tabs\" className=\"rounded-2xl mt-8 relative\">\r\n      <RefProvider onRefsUpdate={handleRefsUpdate}>\r\n        <WebSocketProvider deviceId={elderlyDetails.deviceId}>\r\n          <CustomContext.Provider\r\n            value={{\r\n              sleepData,\r\n              sleepDataLoading,\r\n              elderlyDetails,\r\n              getElderlyDetails,\r\n            }}\r\n          >\r\n            <ConfigProvider\r\n              theme={{\r\n                token: {\r\n                  fontFamily: \"Baloo2\",\r\n                  colorPrimary: \"#252F67\",\r\n                  colorLinkActive: \"#252F67\",\r\n                  colorLinkHover: \"#252F67\",\r\n                  colorLink: \"#252F67\",\r\n                },\r\n              }}\r\n            >\r\n              {isScrollableLeft && (\r\n                <div\r\n                  style={{\r\n                    position: \"absolute\",\r\n                    left: 0,\r\n                    top: 0,\r\n                    bottom: 0,\r\n                    width: \"30px\",\r\n                    background:\r\n                      \"linear-gradient(to right, white, rgba(255,255,255,0))\",\r\n                    zIndex: 1,\r\n                    pointerEvents: \"none\",\r\n                    borderRadius: \"14px\",\r\n                    height: \"60px\",\r\n                  }}\r\n                />\r\n              )}\r\n              {isScrollableRight && (\r\n                <div\r\n                  style={{\r\n                    position: \"absolute\",\r\n                    right: 0,\r\n                    top: 0,\r\n                    bottom: 0,\r\n                    width: \"30px\",\r\n                    background:\r\n                      \"linear-gradient(to left, white, rgba(255,255,255,0))\",\r\n                    zIndex: 1,\r\n                    pointerEvents: \"none\",\r\n                    borderRadius: \"14px\",\r\n                    height: \"60px\",\r\n                  }}\r\n                />\r\n              )}\r\n              <Tabs\r\n                activeKey={activeTab}\r\n                onChange={setActiveTab}\r\n                size=\"large\" // Adjust size as needed\r\n                className=\"mb-4\"\r\n                tabBarStyle={{ borderBottom: \"none\" }}\r\n                destroyInactiveTabPane // Unmount inactive tabs\r\n                renderTabBar={(props, DefaultTabBar) => (\r\n                  <div\r\n                    className=\"tabs-drag-container\"\r\n                    ref={tabListRef}\r\n                    onMouseDown={handleMouseDown}\r\n                    onMouseMove={handleMouseMove}\r\n                    onMouseUp={handleMouseUp}\r\n                    onMouseLeave={handleMouseLeave}\r\n                    onScroll={updateScrollIndicators}\r\n                    style={{\r\n                      overflowX: \"auto\",\r\n                      borderRadius: \"14px\",\r\n                      whiteSpace: \"nowrap\",\r\n                      cursor: isDragging ? \"grabbing\" : \"grab\",\r\n                      display: \"flex\",\r\n                      scrollbarWidth: \"none\",\r\n                      msOverflowStyle: \"none\",\r\n                      userSelect: \"none\",\r\n                    }}\r\n                  >\r\n                    <style>\r\n                      {`\r\n              .tabs-drag-container::-webkit-scrollbar {\r\n                display: none;\r\n              }\r\n            `}\r\n                    </style>\r\n                    <DefaultTabBar {...props} />\r\n                  </div>\r\n                )}\r\n              >\r\n                {memoizedTabItems.map((item) => (\r\n                  <Tabs.TabPane\r\n                    key={item.key}\r\n                    tab={\r\n                      <span className=\"flex items-center gap-2 !border-none\">\r\n                        {item.icon}\r\n                        {item.label}\r\n                      </span>\r\n                    }\r\n                  >\r\n                    <Suspense fallback={<SkeletonView />}>\r\n                      {activeTab === item.key ? item.component : null}\r\n                    </Suspense>\r\n                  </Tabs.TabPane>\r\n                ))}\r\n              </Tabs>\r\n            </ConfigProvider>\r\n            <ConfigProvider\r\n              theme={{\r\n                token: {\r\n                  fontFamily: \"Baloo2\",\r\n                  colorPrimary: \"#252F67\",\r\n                  colorLinkActive: \"#252F67\",\r\n                  colorLinkHover: \"#252F67\",\r\n                  colorLink: \"#252F67\",\r\n                  primaryColor: \"#252F67\",\r\n                },\r\n              }}\r\n            >\r\n              <Tour\r\n                open={tourOpen}\r\n                onFinish={handleTourFinish}\r\n                steps={getActiveTabSteps()}\r\n                onClose={handleTourFinish}\r\n              />\r\n            </ConfigProvider>\r\n          </CustomContext.Provider>\r\n        </WebSocketProvider>\r\n      </RefProvider>\r\n    </div>\r\n  );\r\n}\r\n"],"file":"assets/ElderlyProfile-DbykSjGY.js"}