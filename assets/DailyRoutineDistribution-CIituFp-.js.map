{"version":3,"mappings":"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","names":["SkeletonScatterChart","height","chartHeight","scatterPoints","gridLines","yAxisLabels","legendItems","showTitle","titleWidth","pointSize","jsx","Skeleton","jsxs","_","i","PropTypes","ScatterChart","lazy","DailyRoutineDistribution","title","color","icon","dataAnalysis","summaryProps","getTemplateData","context","useContext","CustomContext","chartToDate","chartFromDate","elderlyDetails","toDate","setToDate","useState","dayjs","fromDate","setFromDate","dailyRoutineData","setDailyRoutineData","loading","setLoading","getDailyRoutineData","useCallback","getDailyRoutine","res","transformDataDailyRoutine","err","useEffect","Template","Suspense"],"ignoreList":[],"sources":["../../src/Components/Skeleton/SkeletonScatterChart.jsx","../../src/Pages/Elderlies/Components/TabContents/Activity/Components/DailyRoutineDistribution.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { Skeleton } from \"antd\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst SkeletonScatterChart = ({\r\n  height = 350,\r\n  chartHeight = 280,\r\n  scatterPoints = 8,\r\n  gridLines = 5,\r\n  yAxisLabels = 5,\r\n  legendItems = 4,\r\n  showTitle = true,\r\n  titleWidth = \"40%\",\r\n  pointSize = 10,\r\n}) => {\r\n  return (\r\n    <div className=\"w-full flex flex-col gap-2 p-4\" style={{ height }}>\r\n      {/* Title placeholder */}\r\n      {showTitle && (\r\n        <Skeleton\r\n          active\r\n          paragraph={{ rows: 0 }}\r\n          title={{ width: titleWidth }}\r\n        />\r\n      )}\r\n      {/* Chart container */}\r\n      <div\r\n        className=\"relative w-full border border-gray-200 rounded-md\"\r\n        style={{ height: chartHeight }}\r\n      >\r\n        {/* Y-axis placeholder */}\r\n        <div className=\"absolute left-0 top-0 h-full w-8\">\r\n          <Skeleton\r\n            active\r\n            paragraph={{ rows: yAxisLabels, width: \"60%\" }}\r\n            title={false}\r\n          />\r\n        </div>\r\n        {/* X-axis placeholder */}\r\n        <div className=\"absolute bottom-0 left-8 right-0 h-8\">\r\n          <Skeleton\r\n            active\r\n            paragraph={{ rows: 1, width: [\"100%\"] }}\r\n            title={false}\r\n          />\r\n        </div>\r\n        {/* Grid lines and scatter points */}\r\n        <div className=\"absolute left-8 top-0 right-0 bottom-8\">\r\n          {/* Grid lines */}\r\n          <div className=\"w-full h-full flex flex-col justify-between\">\r\n            {[...Array(gridLines)].map((_, i) => (\r\n              <div key={i} className=\"w-full h-px bg-gray-100\" />\r\n            ))}\r\n          </div>\r\n          {/* Scatter points */}\r\n          <div className=\"absolute inset-0 flex flex-wrap gap-4 p-4\">\r\n            {[...Array(scatterPoints)].map((_, i) => (\r\n              <Skeleton.Node\r\n                key={i}\r\n                active\r\n                style={{\r\n                  width: pointSize,\r\n                  height: pointSize,\r\n                  borderRadius: \"50%\",\r\n                  position: \"absolute\",\r\n                  top: `${Math.random() * 80 + 10}%`,\r\n                  left: `${Math.random() * 80 + 10}%`,\r\n                }}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {/* Legend placeholder */}\r\n      {legendItems > 0 && (\r\n        <div className=\"flex gap-4 mt-2\">\r\n          {[...Array(legendItems)].map((_, i) => (\r\n            <Skeleton.Button\r\n              key={i}\r\n              active\r\n              size=\"small\"\r\n              style={{ width: 60 }}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nSkeletonScatterChart.propTypes = {\r\n  height: PropTypes.number, // Total height including title/legend\r\n  chartHeight: PropTypes.number, // Height of the chart area\r\n  scatterPoints: PropTypes.number, // Number of scatter point placeholders\r\n  gridLines: PropTypes.number, // Number of horizontal grid lines\r\n  yAxisLabels: PropTypes.number, // Number of Y-axis label placeholders\r\n  legendItems: PropTypes.number, // Number of legend item placeholders\r\n  showTitle: PropTypes.bool, // Show/hide title placeholder\r\n  titleWidth: PropTypes.string, // Width of title placeholder\r\n  pointSize: PropTypes.number, // Size of scatter points\r\n};\r\n\r\nexport default SkeletonScatterChart;\r\n","import { useState, useEffect, useContext, useCallback } from \"react\";\r\nimport { getDailyRoutine } from \"@/api/deviceReports\";\r\nimport ls from \"store2\";\r\nimport dayjs from \"dayjs\";\r\nimport Template from \"@/Components/GraphAndChartTemp/Template\";\r\nimport { lazy, Suspense } from \"react\";\r\nconst ScatterChart = lazy(() =>\r\n  import(\"@/Components/GraphAndChart/scatterChart\")\r\n);\r\nimport { getTemplateData } from \"@/Pages/Elderlies/Components/Utiles/utiles\";\r\nimport { transformDataDailyRoutine } from \"@/utils/helper\";\r\nimport { CustomContext } from \"@/Context/UseCustomContext\";\r\nimport SkeletonScatterChart from \"@/components/Skeleton/SkeletonScatterChart\"; // Import the new component\r\n\r\nexport default function DailyRoutineDistribution() {\r\n  const { title, color, icon, dataAnalysis, summaryProps } = getTemplateData(\r\n    \"Distribution of Daily Routine\"\r\n  );\r\n  const context = useContext(CustomContext);\r\n  const {\r\n    chartToDate = \"\",\r\n    chartFromDate = \"\",\r\n    elderlyDetails,\r\n  } = context || {};\r\n  const [toDate, setToDate] = useState(\r\n    dayjs().subtract(1, \"day\").format(\"YYYY-MM-DD\")\r\n  );\r\n  const [fromDate, setFromDate] = useState(\r\n    dayjs().subtract(31, \"day\").format(\"YYYY-MM-DD\")\r\n  );\r\n  const [dailyRoutineData, setDailyRoutineData] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const getDailyRoutineData = useCallback(() => {\r\n    if (!elderlyDetails?.deviceId || !elderlyDetails._id) {\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    getDailyRoutine({\r\n      uids: elderlyDetails?.deviceId,\r\n      elderly_id: elderlyDetails._id,\r\n      to_date: fromDate,\r\n      from_date: toDate,\r\n    })\r\n      .then((res) => {\r\n        setDailyRoutineData(transformDataDailyRoutine(res.data));\r\n        setLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setLoading(false);\r\n      });\r\n  }, [toDate, fromDate, elderlyDetails]);\r\n\r\n  useEffect(() => {\r\n    getDailyRoutineData();\r\n  }, [getDailyRoutineData]);\r\n\r\n  useEffect(() => {\r\n    if (chartToDate && chartFromDate) {\r\n      setToDate(chartToDate);\r\n      setFromDate(chartFromDate);\r\n    }\r\n  }, [chartToDate, chartFromDate]);\r\n\r\n  return (\r\n    <Template\r\n      title={title}\r\n      color={color}\r\n      icon={icon}\r\n      isDataAnalysis={false}\r\n      dataAnalysis={dataAnalysis}\r\n      isSummaryBtn={false}\r\n    >\r\n      {loading ? (\r\n        <SkeletonScatterChart\r\n          height={350}\r\n          chartHeight={280}\r\n          scatterPoints={8}\r\n          gridLines={5}\r\n          yAxisLabels={5}\r\n          legendItems={0}\r\n          showTitle={false}\r\n          titleWidth=\"40%\"\r\n          pointSize={10}\r\n        />\r\n      ) : (\r\n        <Suspense\r\n          fallback={\r\n            <SkeletonScatterChart\r\n              height={350}\r\n              chartHeight={280}\r\n              scatterPoints={8}\r\n              gridLines={5}\r\n              yAxisLabels={5}\r\n              legendItems={4}\r\n              showTitle={true}\r\n              titleWidth=\"40%\"\r\n              pointSize={10}\r\n            />\r\n          }\r\n        >\r\n          <ScatterChart\r\n            data={dailyRoutineData}\r\n            colors={{\r\n              gotobed: \"#2EC7C9\",\r\n              wakeup: \"#5AB1EF\",\r\n              getup: \"#FFB980\",\r\n              fallasleep: \"#B6A2DE\",\r\n            }}\r\n          />\r\n        </Suspense>\r\n      )}\r\n    </Template>\r\n  );\r\n}\r\n"],"file":"assets/DailyRoutineDistribution-CIituFp-.js"}