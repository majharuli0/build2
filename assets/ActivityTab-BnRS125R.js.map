{"version":3,"mappings":"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","names":["ActivityOverviewTails","activityData","setActivityData","useState","loading","setLoading","ls","elderlyDetails","useContext","CustomContext","dailyRepDate","SidebarContext","getActivityData","useCallback","getDayTimeActivity","dayjs","res","_a","err","useEffect","renderSkeletonTile","jsx","jsxs","Skeleton","Fragment","MdMeetingRoom","MdOutlineAirlineSeatLegroomNormal","FaPersonWalking","FaPersonWalkingArrowRight","GiExitDoor","wakeUpIcon","size","WakeUpIcon","getUpIcon","GetUpIcon","AverageRoutineTime","sleepData","sleepDataLoading","items","formatTimeWithSuffix","FaBedPulse","GiNightSleep","motion","item","index","DailyRoutineDistribution","lazy","__vitePreload","WalkStepsStatistic","DurationSpentInRoom","NumberOfRoomEntriesAndExit","WalkSpeedStatistic","ChartWrapper","height","children","className","Suspense","ActivityTab","registerRef","useRefContext","stepsRef","useRef","key"],"ignoreList":[],"sources":["../../src/Pages/Elderlies/Components/TabContents/Activity/Components/ActivityOverviewTails.jsx","../../src/Pages/Elderlies/Components/TabContents/Activity/Components/AverageRoutineTime.jsx","../../src/Pages/Elderlies/Components/TabContents/Activity/ActivityTab.jsx"],"sourcesContent":["import React, { useCallback, useState, useEffect, useContext } from \"react\";\r\nimport { CustomContext } from \"@/Context/UseCustomContext\";\r\nimport { SidebarContext } from \"@/Context/CustomContext\";\r\nimport { Skeleton } from \"antd\"; // Import Skeleton from antd\r\nimport { MdMeetingRoom } from \"react-icons/md\";\r\nimport { MdOutlineAirlineSeatLegroomNormal } from \"react-icons/md\";\r\nimport { FaPersonWalking } from \"react-icons/fa6\";\r\nimport { FaPersonWalkingArrowRight } from \"react-icons/fa6\";\r\nimport { GiExitDoor } from \"react-icons/gi\";\r\nimport { getDayTimeActivity } from \"@/api/deviceReports\";\r\nimport ls from \"store2\";\r\nimport dayjs from \"dayjs\";\r\n\r\nexport default function ActivityOverviewTails() {\r\n  const [activityData, setActivityData] = useState([]);\r\n  const [loading, setLoading] = useState(true); // Add loading state\r\n  const elderlyDetais = ls.get(\"elderly_details\");\r\n  const { elderlyDetails } = useContext(CustomContext);\r\n  const { dailyRepDate } = useContext(SidebarContext);\r\n\r\n  const getActivityData = useCallback(() => {\r\n    setLoading(true); // Set loading to true when fetching starts\r\n    getDayTimeActivity({\r\n      uids: elderlyDetails?.deviceId,\r\n      elderly_id: elderlyDetails._id,\r\n      to_date: dailyRepDate || dayjs().subtract(1, \"day\").format(\"YYYY-MM-DD\"),\r\n    })\r\n      .then((res) => {\r\n        setActivityData(res.data?.user_activity);\r\n        setLoading(false); // Set loading to false when data is received\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setLoading(false); // Set loading to false on error\r\n      });\r\n  }, [elderlyDetails, dailyRepDate]);\r\n\r\n  useEffect(() => {\r\n    getActivityData();\r\n  }, [getActivityData]);\r\n\r\n  // Skeleton loader for each tile\r\n  const renderSkeletonTile = () => (\r\n    <div className=\"flex justify-between gap-1 items-center bg-white rounded-2xl p-4 w-full\">\r\n      <div className=\"flex gap-3 items-center\">\r\n        <Skeleton.Avatar active size={48} shape=\"square\" />{\" \"}\r\n        {/* Icon placeholder */}\r\n        <div className=\"flex flex-col gap-2\">\r\n          <Skeleton.Input active style={{ width: 120, height: 16 }} />{\" \"}\r\n          {/* Title */}\r\n          <Skeleton.Input active style={{ width: 80, height: 24 }} />{\" \"}\r\n          {/* Value */}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"flex justify-between gap-4 w-full\">\r\n      {loading ? (\r\n        // Show skeleton loaders while loading\r\n        <>\r\n          {renderSkeletonTile()}\r\n          {renderSkeletonTile()}\r\n          {renderSkeletonTile()}\r\n          {renderSkeletonTile()}\r\n          {renderSkeletonTile()}\r\n        </>\r\n      ) : (\r\n        // Show actual data when loaded\r\n        <>\r\n          <div\r\n            id=\"indoorDuration\"\r\n            className=\"flex justify-between gap-1 items-center bg-white rounded-2xl p-4 w-full\"\r\n          >\r\n            <div className=\"flex gap-3 items-center\">\r\n              <div id=\"icon\" className=\"p-3 bg-[#26C0C0] rounded-md\">\r\n                <MdMeetingRoom className=\"text-[#fff] text-[24px]\" />\r\n              </div>\r\n              <div className=\"flex flex-col gap-0\">\r\n                <div className=\"text-base font-semibold text-primary/80\">\r\n                  Indoor Duration\r\n                </div>\r\n                <div className=\"text-2xl font-bold text-primary\">\r\n                  {activityData?.in_room_duration\r\n                    ? activityData?.in_room_duration\r\n                    : \"--\"}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div\r\n            id=\"stillTime\"\r\n            className=\"flex justify-between gap-1 items-center bg-white rounded-2xl p-4 w-full\"\r\n          >\r\n            <div className=\"flex gap-3 items-center\">\r\n              <div id=\"icon\" className=\"p-3 bg-[#F1B812] rounded-md\">\r\n                <MdOutlineAirlineSeatLegroomNormal className=\"text-[#fff] text-[24px]\" />\r\n              </div>\r\n              <div className=\"flex flex-col gap-0\">\r\n                <div className=\"text-base font-semibold text-primary/80\">\r\n                  Still Time\r\n                </div>\r\n                <div className=\"text-2xl font-bold text-primary\">\r\n                  {activityData?.static_duration\r\n                    ? activityData?.static_duration\r\n                    : \"--\"}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            id=\"walking\"\r\n            className=\"flex justify-between gap-1 items-center bg-white rounded-2xl p-4 w-full\"\r\n          >\r\n            <div className=\"flex gap-3 items-center\">\r\n              <div id=\"icon\" className=\"p-3 bg-[#7F87FC] rounded-md\">\r\n                <FaPersonWalking className=\"text-[#fff] text-[24px]\" />\r\n              </div>\r\n              <div className=\"flex flex-col gap-0\">\r\n                <div className=\"text-base font-semibold text-primary/80\">\r\n                  Walking\r\n                </div>\r\n                <div className=\"text-2xl font-bold text-primary\">\r\n                  {activityData?.step_number ? activityData?.step_number : \"--\"}{\" \"}\r\n                  steps\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            id=\"speed\"\r\n            className=\"flex justify-between gap-1 items-center bg-white rounded-2xl p-4 w-full\"\r\n          >\r\n            <div className=\"flex gap-3 items-center\">\r\n              <div id=\"icon\" className=\"p-3 bg-[#a02adf] rounded-md\">\r\n                <FaPersonWalkingArrowRight className=\"text-[#fff] text-[24px]\" />\r\n              </div>\r\n              <div className=\"flex flex-col gap-0\">\r\n                <div className=\"text-base font-semibold text-primary/80\">\r\n                  Speed\r\n                </div>\r\n                <div className=\"text-2xl font-bold text-primary\">\r\n                  {activityData?.speed ? activityData?.speed : \"--\"} m/min\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            id=\"roomEntryExit\"\r\n            className=\"flex justify-between gap-1 items-center bg-white rounded-2xl p-4 w-full\"\r\n          >\r\n            <div className=\"flex gap-3 items-center\">\r\n              <div id=\"icon\" className=\"p-3 bg-[#82cb24] rounded-md\">\r\n                <GiExitDoor className=\"text-[#fff] text-[24px]\" />\r\n              </div>\r\n              <div className=\"flex flex-col gap-0\">\r\n                <div className=\"text-base font-semibold text-primary/80\">\r\n                  Room Entry/Exit\r\n                </div>\r\n                <div className=\"text-2xl font-bold text-primary\">\r\n                  {activityData?.entry_room_count\r\n                    ? activityData?.entry_room_count\r\n                    : \"--\"}\r\n                  x\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useCallback, useContext, useEffect, useState } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { Skeleton } from \"antd\";\r\nimport { FaBedPulse } from \"react-icons/fa6\";\r\nimport { GiNightSleep } from \"react-icons/gi\";\r\nimport WakeUpIcon from \"@/assets/icon/wake-up.svg\";\r\nimport GetUpIcon from \"@/assets/icon/get-up.svg\";\r\nimport { formatTimeWithSuffix } from \"@/utils/helper\";\r\nimport { getDayTimeActivity } from \"../../../../../../api/deviceReports\";\r\nimport { SidebarContext } from \"../../../../../../Context/CustomContext\";\r\nimport { CustomContext } from \"@/Context/UseCustomContext\";\r\nimport dayjs from \"dayjs\";\r\nimport ls from \"store2\";\r\n\r\nexport const wakeUpIcon = (size) => {\r\n  return <img src={WakeUpIcon} alt=\"wake-up\" width={size} height={size} />;\r\n};\r\nexport const getUpIcon = (size) => {\r\n  return <img src={GetUpIcon} alt=\"get-up\" width={size} height={size} />;\r\n};\r\n\r\nexport default function AverageRoutineTime() {\r\n  const { sleepData, sleepDataLoading } = useContext(CustomContext);\r\n\r\n  const items = [\r\n    {\r\n      label: \"Went To Bed\",\r\n      color: \"#35CECE\",\r\n      value: formatTimeWithSuffix(sleepData?.get_bed_idx),\r\n      icon: <FaBedPulse size={20} color=\"#35CECE\" />,\r\n      initial: { x: -50, y: -50 },\r\n      delay: 0.2,\r\n    },\r\n    {\r\n      label: \"Fell Asleep\",\r\n      color: \"#FF6734\",\r\n      value: formatTimeWithSuffix(sleepData?.sleep_st_idx),\r\n      icon: <GiNightSleep size={20} color=\"#FF6734\" />,\r\n      initial: { x: 50, y: -50 },\r\n      delay: 0.2,\r\n    },\r\n    {\r\n      label: \"Wake Up\",\r\n      color: \"#8088FD\",\r\n      value: formatTimeWithSuffix(sleepData?.sleep_ed_idx),\r\n      icon: wakeUpIcon(20),\r\n      initial: { x: -50, y: 50 },\r\n      delay: 0.2,\r\n    },\r\n    {\r\n      label: \"Get Up\",\r\n      color: \"#ecb81c\",\r\n      value: formatTimeWithSuffix(sleepData?.leave_bed_idx),\r\n      icon: getUpIcon(20),\r\n      initial: { x: 50, y: 50 },\r\n      delay: 0.2,\r\n    },\r\n  ];\r\n  const [activityData, setActivityData] = useState([]);\r\n  const [loading, setLoading] = useState(true); // Add loading state\r\n  const elderlyDetais = ls.get(\"elderly_details\");\r\n  const { elderlyDetails } = useContext(CustomContext);\r\n  const { dailyRepDate } = useContext(SidebarContext);\r\n\r\n  const getActivityData = useCallback(() => {\r\n    setLoading(true); // Set loading to true when fetching starts\r\n    getDayTimeActivity({\r\n      uids: elderlyDetails?.deviceId,\r\n      elderly_id: elderlyDetails._id,\r\n      to_date: dailyRepDate || dayjs().subtract(1, \"day\").format(\"YYYY-MM-DD\"),\r\n    })\r\n      .then((res) => {\r\n        setActivityData(res.data?.user_activity);\r\n        setLoading(false); // Set loading to false when data is received\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setLoading(false); // Set loading to false on error\r\n      });\r\n  }, [elderlyDetails, dailyRepDate]);\r\n\r\n  useEffect(() => {\r\n    getActivityData();\r\n  }, [getActivityData]);\r\n  const renderSkeletonTile = () => (\r\n    <div className=\"flex flex-col items-center justify-center h-full gap-2\">\r\n      <Skeleton.Avatar active size={40} shape=\"square\" />\r\n      <div className=\"flex flex-col items-center justify-center gap-1\">\r\n        <Skeleton.Input active style={{ width: 80, height: 24 }} />\r\n        <Skeleton.Input active style={{ width: 100, height: 14 }} />\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-2xl p-6 h-full flex flex-col gap-4\">\r\n      <h1 className=\"text-[21px] font-bold text-primary\">\r\n        Average Routine Time\r\n      </h1>\r\n      {sleepDataLoading ? (\r\n        <div className=\"relative w-full grid grid-cols-2 grid-rows-2 gap-4 h-full\">\r\n          {renderSkeletonTile()}\r\n          {renderSkeletonTile()}\r\n          {renderSkeletonTile()}\r\n          {renderSkeletonTile()}\r\n        </div>\r\n      ) : (\r\n        <div className=\"relative w-full grid grid-cols-2 grid-rows-2 gap-4 h-full\">\r\n          <motion.div\r\n            className=\"absolute h-0.5 w-full top-1/2 left-0\"\r\n            style={{\r\n              background:\r\n                \"linear-gradient(to right, #ffffff, #D1D1D1, #ffffff)\",\r\n            }}\r\n            initial={{ scaleX: 0 }}\r\n            animate={{ scaleX: 1 }}\r\n            transition={{ duration: 0.9 }}\r\n          />\r\n          <motion.div\r\n            className=\"absolute w-0.5 h-full left-1/2 top-0\"\r\n            style={{\r\n              background:\r\n                \"linear-gradient(to bottom, #ffffff, #D1D1D1, #ffffff)\",\r\n            }}\r\n            initial={{ scaleY: 0 }}\r\n            animate={{ scaleY: 1 }}\r\n            transition={{ duration: 0.9 }}\r\n          />\r\n          {items.map((item, index) => (\r\n            <motion.div\r\n              key={index}\r\n              className=\"flex flex-col items-center justify-center h-full gap-2\"\r\n              initial={{ opacity: 0, ...item.initial }}\r\n              animate={{ opacity: 1, x: 0, y: 0 }}\r\n              transition={{ duration: 0.5, delay: item.delay, ease: \"linear\" }}\r\n            >\r\n              <div\r\n                id=\"icon\"\r\n                className=\"w-10 h-10 flex items-center justify-center rounded-lg\"\r\n                style={{ backgroundColor: `${item.color}27` }}\r\n              >\r\n                {item.icon}\r\n              </div>\r\n              <div className=\"flex flex-col items-center justify-center\">\r\n                <div className=\"text-2xl font-bold text-primary\">\r\n                  {item.value}\r\n                </div>\r\n                <div className=\"text-sm font-medium text-primary\">\r\n                  {item.label}\r\n                </div>\r\n              </div>\r\n            </motion.div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { lazy, Suspense, useEffect, useRef } from \"react\";\r\nconst DailyRoutineDistribution = lazy(() =>\r\n  import(\"./Components/DailyRoutineDistribution\")\r\n);\r\nimport ActivityOverviewTails from \"./Components/ActivityOverviewTails\";\r\nimport AverageRoutineTime from \"./Components/AverageRoutineTime\";\r\nimport DataAnalysisSlider from \"./Components/DataAnalysisSlider\";\r\nimport { useRefContext } from \"@/Context/RefContext\";\r\nconst BodyMovementIndexStatistic = lazy(() =>\r\n  import(\"./Components/BodyMovementIndexStatistic\")\r\n);\r\nconst WalkStepsStatistic = lazy(() =>\r\n  import(\"./Components/WalkStepsStatistic\")\r\n);\r\nconst DurationSpentInRoom = lazy(() =>\r\n  import(\"./Components/DurationSpentInRoom\")\r\n);\r\nconst NumberOfRoomEntriesAndExit = lazy(() =>\r\n  import(\"./Components/NumberOfRoomEntriesAndExit\")\r\n);\r\nconst WalkSpeedStatistic = lazy(() =>\r\n  import(\"./Components/WalkSpeedStatistic\")\r\n);\r\nconst BodyMovementIndexDistribution = lazy(() =>\r\n  import(\"./Components/BodyMovementIndexDistribution\")\r\n);\r\n\r\nfunction ChartWrapper({ height = 480, children, className }) {\r\n  return (\r\n    <div className={`h-[${height}px] ${className} w-full`}>\r\n      <Suspense fallback={<div>Loading...</div>}>{children}</Suspense>\r\n    </div>\r\n  );\r\n}\r\nexport default function ActivityTab() {\r\n  const { registerRef } = useRefContext();\r\n\r\n  const stepsRef = {\r\n    step1: useRef(null),\r\n    step2: useRef(null),\r\n    step3: useRef(null),\r\n    step4: useRef(null),\r\n    step5: useRef(null),\r\n  };\r\n\r\n  useEffect(() => {\r\n    Object.keys(stepsRef).forEach((key) => {\r\n      if (stepsRef[key].current) {\r\n        registerRef(\"tab_activity_\" + key, stepsRef[key]);\r\n      }\r\n    });\r\n  }, [registerRef]);\r\n  return (\r\n    <div className=\"flex flex-col gap-6 mt-6 w-full\">\r\n      <div ref={stepsRef.step1}>\r\n        <ActivityOverviewTails />\r\n      </div>\r\n      <div className=\"flex gap-6 w-full h-[400px]\">\r\n        <div className=\"w-[67%] h-full\" ref={stepsRef.step2}>\r\n          <Suspense fallback={<div className=\"h-full\">Loading...</div>}>\r\n            <DailyRoutineDistribution />\r\n          </Suspense>\r\n        </div>\r\n        <div className=\"w-[33%] h-full\" ref={stepsRef.step3}>\r\n          <AverageRoutineTime />\r\n        </div>\r\n      </div>\r\n      {/* <DataAnalysisSlider /> */}\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 w-full\">\r\n        <div className=\"col-span-2\" ref={stepsRef.step4}>\r\n          <ChartWrapper>\r\n            <DurationSpentInRoom />\r\n          </ChartWrapper>\r\n        </div>\r\n        {/* <ChartWrapper>\r\n          <BodyMovementIndexStatistic />\r\n        </ChartWrapper> */}\r\n        <ChartWrapper>\r\n          <WalkStepsStatistic />\r\n        </ChartWrapper>\r\n        <ChartWrapper>\r\n          <NumberOfRoomEntriesAndExit />\r\n        </ChartWrapper>\r\n        <ChartWrapper>\r\n          <WalkSpeedStatistic />\r\n        </ChartWrapper>\r\n        {/* <ChartWrapper>\r\n          <BodyMovementIndexDistribution />\r\n        </ChartWrapper> */}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"file":"assets/ActivityTab-BnRS125R.js"}