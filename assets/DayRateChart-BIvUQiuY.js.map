{"version":3,"file":"DayRateChart-BIvUQiuY.js","sources":["../../src/Components/GraphAndChart/DayRateChart.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport ReactECharts from \"echarts-for-react\";\nimport { FaHeartbeat } from \"react-icons/fa\";\nimport { FaLungs } from \"react-icons/fa6\";\nimport { Empty } from \"antd\";\nexport default function LiveRateChart({ data, color, type, timestamp }) {\n  // Define safe range\n  const safeMin = type === \"heartRate\" ? 80 : 8;\n  const safeMax = type === \"heartRate\" ? 45 : 24;\n\n  // Map data with corresponding timestamps\n  const filteredData = data?.map((value, index) => {\n    const time = timestamp[index];\n    // Extract hours and minutes from timestamp\n    const [hours, minutes] = time.split(\":\");\n    const formattedTime = `${hours}:${minutes}`;\n\n    const intValue = value === \"-1\" ? null : parseInt(value, 10);\n    return {\n      value: intValue,\n      time: formattedTime,\n      isDanger: intValue !== null && (intValue < safeMin || intValue > safeMax),\n    };\n  });\n\n  if (data.length === 0) {\n    return <Empty description=\"No data available to show\" />;\n  }\n  const option = {\n    tooltip: {\n      trigger: \"axis\",\n      axisPointer: {\n        type: \"line\",\n      },\n      formatter: function (params) {\n        const dataIndex = params[0].dataIndex;\n        const { value, time } = filteredData[dataIndex];\n        return `\n         <span style=\"font-size: 12px;\">Time: ${time}</span><br/>\n         <span style=\"font-size: 16px;\">${\n           type === \"heartRate\" ? \"Heart Rate\" : \"Breath Rate\"\n         }: ${value !== null ? value : \"No Data\"}</span>`;\n      },\n      textStyle: {\n        color: \"#fff\",\n        fontSize: 12,\n      },\n      backgroundColor: \"rgba(0, 0, 0, 0.7)\",\n      borderWidth: 0,\n    },\n    grid: {\n      left: \"5%\",\n      right: \"3%\",\n      bottom: \"10%\",\n      top: \"4%\",\n    },\n    xAxis: {\n      type: \"category\",\n      boundaryGap: false,\n      data: filteredData.map((item) => item.time),\n      axisLine: { show: true },\n      axisTick: { show: true },\n      axisLabel: {\n        show: true,\n        interval: function (index, value) {\n          // Show label if:\n          // 1. It's the first timestamp\n          // 2. It's the last timestamp\n          // 3. It's roughly one of 5 evenly spaced points\n          const interval = Math.floor(filteredData.length / 4); // Divide by 4 to get 5 points\n          return (\n            index === 0 ||\n            index === filteredData.length - 1 ||\n            index % interval === 0\n          );\n        },\n        formatter: function (value, index) {\n          const time = timestamp[index];\n          if (!time) return \"\";\n          const [hours, minutes] = time.split(\":\");\n          return `${hours}:${minutes}`;\n        },\n      },\n    },\n    yAxis: {\n      type: \"value\",\n      axisLine: { show: false },\n      axisTick: { show: false },\n      axisLabel: {\n        show: true,\n        formatter: function (value) {\n          return value; // Ensure the value format is correct\n        },\n      },\n      splitLine: { show: false },\n    },\n    series: [\n      {\n        name: type === \"heartRate\" ? \"Heart Rate\" : \"Breath Rate\",\n        data: filteredData.map((item) => item.value),\n        type: \"line\",\n        smooth: false,\n        lineStyle: {\n          width: 2,\n          color: color,\n        },\n        itemStyle: {\n          color: function (params) {\n            return filteredData[params.dataIndex].isDanger ? \"red\" : color;\n          },\n          opacity: 0,\n          emphasis: {\n            opacity: 1,\n          },\n        },\n        areaStyle: {\n          color: {\n            type: \"linear\",\n            x: 0,\n            y: 0,\n            x2: 0,\n            y2: 1,\n            colorStops: [\n              { offset: 0, color: `${color}80` },\n              { offset: 1, color: `${color}00` },\n            ],\n          },\n        },\n        markLine: {\n          symbol: [\"none\", \"none\"],\n          data: [\n            {\n              name: \"Safe Min\",\n              yAxis: safeMin,\n              lineStyle: {\n                type: \"dashed\",\n                color: \"gray\",\n              },\n              label: {\n                formatter: \"\",\n                position: \"end\",\n              },\n            },\n            {\n              name: \"Safe Max\",\n              yAxis: safeMax,\n              lineStyle: {\n                type: \"dashed\",\n                color: \"gray\",\n              },\n              label: {\n                formatter: \"\",\n                position: \"end\",\n              },\n            },\n          ],\n        },\n      },\n    ],\n  };\n  return (\n    <div className=\"flex flex-col gap-2\">\n      <ReactECharts option={option} style={{ height: \"180px\" }} />\n    </div>\n  );\n}\n"],"names":["LiveRateChart","data","color","type","timestamp","safeMin","safeMax","filteredData","value","index","time","hours","minutes","formattedTime","intValue","jsx","Empty","option","params","dataIndex","item","interval","ReactECharts"],"mappings":"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"}