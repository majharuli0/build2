import{r as x,j as n,b1 as T,E as W,bj as g}from"./index-DYNZp1oE.js";import{P as m}from"./index-BGgUeRx6.js";try{let o=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},s=new o.Error().stack;s&&(o._sentryDebugIds=o._sentryDebugIds||{},o._sentryDebugIds[s]="8e05fa76-281f-4421-9674-2951b37f1560",o._sentryDebugIdIdentifier="sentry-dbid-8e05fa76-281f-4421-9674-2951b37f1560")}catch{}function z(o){return["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"][o]}const L=({dateType:o,cheartInfo:s={},color:l,fromDate:f,toDate:c})=>{var w;const[y,d]=x.useState(!1);x.useEffect(()=>{d(!0)},[]);const N=x.useMemo(()=>{try{const{xdata:v,maxArray:A,minArray:$,allAvgNumber:S}=s,b=[],_=new Date(f),C=new Date(c),M=new Map;v.forEach((e,t)=>{const a=new Date(e).toISOString().split("T")[0];M.set(a,{min:$[t],max:A[t]})});const r=[];for(let e=new Date(_);e<=C;e.setDate(e.getDate()+1)){const t=e.toISOString().split("T")[0],a=M.get(t);if(o==="Month"){const i=e.getMonth()+1,u=e.getDate();b.push(`${i<10?"0"+i:i}-${u<10?"0"+u:u}`)}else b.push(z(e.getDay()===0?6:e.getDay()-1));r.push({min:a?a.min:null,max:a?a.max:null})}const j=r.filter(e=>e.min!==null&&e.max!==null),h=Math.min(...j.map(e=>e.min)),p=Math.max(...j.map(e=>e.max)),D=r.findIndex(e=>e.min===h),k=r.findIndex(e=>e.max===p);return{backgroundColor:"#fff",grid:{left:"2%",right:"7%",bottom:"4%",top:"20%",containLabel:!0},tooltip:{trigger:"axis",formatter:function(e){const t=e[0].axisValue,a=e[0].value[1],i=e[0].value[2];return`<span style="font-weight: bold;">Date: ${t}</span><br/><span >Max: ${i||"-"}</span><br/><span >Min: ${a||a>=0&&a!==null?a:"-"}</span>`}},xAxis:{type:"category",splitLine:{show:!1},axisTick:{show:!1},axisLine:{lineStyle:{color:"#ccc"}},axisLabel:{color:"#666"},data:b},yAxis:{type:"value",name:"BPM",nameLocation:"end",axisLine:{show:!1},axisLabel:{color:"#666"},splitLine:{lineStyle:{color:"#eee"}}},series:[{name:"Range",type:"custom",renderItem:(e,t)=>{const a=t.coord([t.value(0),t.value(1)]),u=t.coord([t.value(0),t.value(2)])[1]-a[1];return{type:"rect",shape:{x:a[0]-10,y:a[1],width:20,height:u,r:10},style:{fill:l,lineWidth:1}}},encode:{x:0,y:[1,2]},data:r.map((e,t)=>[t,e.min,e.max])},{name:"Average",type:"line",symbol:"none",lineStyle:{type:"dashed",width:1},markLine:{silent:!0,symbol:"none",data:[{yAxis:S,label:{show:!0,formatter:`Avg: ${S}`,position:"end",color:l},lineStyle:{color:l,width:1}}]}},{name:"Minimum",type:"pictorialBar",symbolSize:[15,15],symbolOffset:[0,-19],symbolPosition:"end",z:12,label:{normal:{show:!0,offset:[1,60],position:"top",fontSize:13,fontWeight:400,color:l,lineHeight:15,formatter:function(e){return`Min
${h}`}}},itemStyle:{borderColor:l,borderWidth:2,borderType:"solid"},color:"#fff",data:new Array(r.length).fill(null).map((e,t)=>({value:t===D?h:"-",symbolSize:[15,15],symbol:t===D?"circle":"none"}))},{name:"Maximum",type:"pictorialBar",symbolSize:[15,15],symbolOffset:[0,2],symbolPosition:"end",z:12,label:{normal:{show:!0,offset:[1,2],position:"top",fontSize:13,fontWeight:400,color:l,lineHeight:15,formatter:function(e){return`Max
${p}`}}},itemStyle:{borderColor:l,borderWidth:2,borderType:"solid"},color:"#fff",data:new Array(r.length).fill(null).map((e,t)=>({value:t===k?p:"-",symbolSize:[15,15],symbol:t===k?"circle":"none"}))}],legend:{data:["Average","Minimum","Maximum"],textStyle:{color:"#666"}}}}catch{return{backgroundColor:"#fff",title:{text:"No data available",show:!0,left:"center",top:"center",textStyle:{color:"#000",fontSize:"20px",fontWeight:400}}}}},[s,o,y,f,c,l]);return(w=s==null?void 0:s.xdata)!=null&&w.length?n.jsx(W,{option:N,notMerge:!0,style:{height:"300px",width:"100%",transition:"all 0.3s ease"}}):n.jsx(T,{description:"No data available to show"})},P=Object.freeze(Object.defineProperty({__proto__:null,default:L},Symbol.toStringTag,{value:"Module"})),O=({height:o=300,chartHeight:s=250,barCount:l=7,barWidth:f=40,gridLines:c=5})=>n.jsx("div",{className:"w-full flex flex-col p-4 skeleton-wrapper",style:{height:o},children:n.jsxs("div",{className:"relative w-full border border-gray-200 rounded-md",style:{height:s},children:[n.jsx("div",{className:"w-full h-full flex flex-col justify-between",children:[...Array(c)].map((y,d)=>n.jsx("div",{className:"w-full h-px bg-gray-100"},d))}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 top-0 flex justify-between p-4",children:[...Array(l)].map((y,d)=>n.jsx("div",{className:"flex flex-col items-center justify-end skeleton-bar-group",style:{width:`${100/l}%`},children:n.jsxs("div",{className:"relative w-full flex flex-col items-center",style:{width:f},children:[n.jsx(g.Node,{active:!0,style:{width:10,height:100,position:"absolute",bottom:`${Math.random()*50+10}%`,backgroundColor:"#f0f0f0"}}),n.jsx(g.Node,{active:!0,style:{width:6,height:`${Math.random()*40+30}%`,borderRadius:"2px",position:"absolute",bottom:"10%",backgroundColor:"#f0f0f0"}}),n.jsx(g.Node,{active:!0,style:{width:10,height:10,borderRadius:"50%",position:"absolute",bottom:`${Math.random()*40+50}%`,backgroundColor:"#f0f0f0"}})]})},d))})]})});O.propTypes={height:m.number,chartHeight:m.number,barCount:m.number,barWidth:m.number,gridLines:m.number};export{L as R,O as S,P as a};
//# sourceMappingURL=SkeletonRateChart-D_LZwxxI.js.map
